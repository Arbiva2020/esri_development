"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_chunks_vec3f32_js-node_modules_arcgis_core_views_2d_layers_g-1ce470"],{

/***/ "./node_modules/@arcgis/core/chunks/vec3f32.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec3f32.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "O": () => (/* binding */ f),
/* harmony export */   "U": () => (/* binding */ l),
/* harmony export */   "Z": () => (/* binding */ i),
/* harmony export */   "a": () => (/* binding */ e),
/* harmony export */   "b": () => (/* binding */ t),
/* harmony export */   "c": () => (/* binding */ n),
/* harmony export */   "d": () => (/* binding */ s),
/* harmony export */   "e": () => (/* binding */ c),
/* harmony export */   "f": () => (/* binding */ r),
/* harmony export */   "g": () => (/* binding */ _),
/* harmony export */   "h": () => (/* binding */ y),
/* harmony export */   "o": () => (/* binding */ o),
/* harmony export */   "u": () => (/* binding */ u),
/* harmony export */   "v": () => (/* binding */ w),
/* harmony export */   "z": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(){return new Float32Array(3)}function t(n){const t=new Float32Array(3);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function r(n,t,r){const e=new Float32Array(3);return e[0]=n,e[1]=t,e[2]=r,e}function e(n,t){return new Float32Array(n,t,3)}function a(){return n()}function o(){return r(1,1,1)}function u(){return r(1,0,0)}function s(){return r(0,1,0)}function c(){return r(0,0,1)}const i=a(),f=o(),l=u(),_=s(),y=c(),w=Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:l,UNIT_Y:_,UNIT_Z:y,ZEROS:i,clone:t,create:n,createView:e,fromValues:r,ones:o,unitX:u,unitY:s,unitZ:c,zeros:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CutVertical": () => (/* binding */ S),
/* harmony export */   "normalizeCentralMeridianForDisplay": () => (/* binding */ a),
/* harmony export */   "normalizeCentralMeridianSync": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./normalizeUtilsCommon.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js");
/* harmony import */ var _spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function c(t){return p(t,!0)}function a(t){return p(t,!1)}function p(t,s){if(null==t)return null;const c=t.spatialReference,a=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.getInfo)(c),p="toJSON"in t?t.toJSON():t;if(!a)return p;const y=(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.isWebMercator)(c)?102100:4326,I=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.cutParams[y].maxX,g=_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.cutParams[y].minX;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPoint)(p))return d(p,I,g);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isMultipoint)(p))return p.points=p.points.map((t=>d(t,I,g))),p;if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isExtent)(p))return f(p,a);if((0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolygon)(p)||(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolyline)(p)){const t=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__.getBoundsXY)(C,p),n={xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3]},e=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n.xmin,g)*(2*I),h=0===e?p:(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.updatePolyGeometry)(p,e);return n.xmin+=e,n.xmax+=e,n.xmax>I?O(h,I,s):n.xmin<g?O(h,g,s):h}return p}function f(t,i){if(!i)return t;const s=y(t,i).map((t=>t.extent));return s.length<2?s[0]||t:s.length>2?(t.xmin=i.valid[0],t.xmax=i.valid[1],t):{rings:s.map((t=>[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]))}}function d(t,i,s){if(Array.isArray(t)){const n=t[0];if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n,i);t[0]=n+s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n,s);t[0]=n+i*(-2*s)}}else{const n=t.x;if(n>i){const s=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n,i);t.x+=s*(-2*i)}else if(n<s){const i=(0,_normalizeUtilsCommon_js__WEBPACK_IMPORTED_MODULE_4__.offsetMagnitude)(n,s);t.x+=i*(-2*s)}}return t}function y(t,i){const s=[],{ymin:n,ymax:e,xmin:h,xmax:o}=t,r=t.xmax-t.xmin,[u,m]=i.valid,{x,frameId:_}=I(t.xmin,i),{x:l,frameId:c}=I(t.xmax,i),a=x===l&&r>0;if(r>2*m){const t={xmin:h<o?x:l,ymin:n,xmax:m,ymax:e},i={xmin:u,ymin:n,xmax:h<o?l:x,ymax:e},r={xmin:0,ymin:n,xmax:m,ymax:e},a={xmin:u,ymin:n,xmax:0,ymax:e},p=[],f=[];g(t,r)&&p.push(_),g(t,a)&&f.push(_),g(i,r)&&p.push(c),g(i,a)&&f.push(c);for(let s=_+1;s<c;s++)p.push(s),f.push(s);s.push(new P(t,[_]),new P(i,[c]),new P(r,p),new P(a,f))}else x>l||a?s.push(new P({xmin:x,ymin:n,xmax:m,ymax:e},[_]),new P({xmin:u,ymin:n,xmax:l,ymax:e},[c])):s.push(new P({xmin:x,ymin:n,xmax:l,ymax:e},[_]));return s}function I(t,i){const[s,n]=i.valid,e=2*n;let h,o=0;return t>n?(h=Math.ceil(Math.abs(t-n)/e),t-=h*e,o=h):t<s&&(h=Math.ceil(Math.abs(t-s)/e),t+=h*e,o=-h),{x:t,frameId:o}}function g(t,i){const{xmin:s,ymin:n,xmax:e,ymax:h}=i;return v(t,s,n)&&v(t,s,h)&&v(t,e,h)&&v(t,e,n)}function v(t,i,s){return i>=t.xmin&&i<=t.xmax&&s>=t.ymin&&s<=t.ymax}function O(t,i,n=!0){const e=!(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPolyline)(t);if(e&&(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__.closeRings)(t),n){return(new S).cut(t,i)}const h=e?t.rings:t.paths,o=e?4:2,u=h.length,m=-2*i;for(let s=0;s<u;s++){const t=h[s];if(t&&t.length>=o){const i=[];for(const s of t)i.push([s[0]+m,s[1]]);h.push(i)}}return e?t.rings=h:t.paths=h,t}class P{constructor(t,i){this.extent=t,this.frameIds=i}}const C=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)();class S{constructor(){this._linesIn=[],this._linesOut=[]}cut(t,i){let s;if(this._xCut=i,t.rings)this._closed=!0,s=t.rings,this._minPts=4;else{if(!t.paths)return null;this._closed=!1,s=t.paths,this._minPts=2}for(const e of s){if(!e||e.length<this._minPts)continue;let t=!0;for(const i of e)t?(this.moveTo(i),t=!1):this.lineTo(i);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),s=[];for(const e of this._linesIn)e&&e.length>=this._minPts&&s.push(e);const n=-2*this._xCut;for(const e of this._linesOut)if(e&&e.length>=this._minPts){for(const t of e)t[0]+=n;s.push(e)}return this._closed?t.rings=s:t.paths=s,t}moveTo(t){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(t[0]),this._moveTo(t[0],t[1],this._prevSide),this._prevPt=t,this._firstPt=t}lineTo(t){const i=this._side(t[0]);if(i*this._prevSide==-1){const s=this._intersect(this._prevPt,t);this._lineTo(this._xCut,s,0),this._prevSide=0,this._lineTo(t[0],t[1],i)}else this._lineTo(t[0],t[1],i);this._prevSide=i,this._prevPt=t}close(){const t=this._firstPt,i=this._prevPt;t[0]===i[0]&&t[1]===i[1]||this.lineTo(t),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(t,i,s){this._closed?(this._lineIn.push([s<=0?t:this._xCut,i]),this._lineOut.push([s>=0?t:this._xCut,i])):(s<=0&&this._lineIn.push([t,i]),s>=0&&this._lineOut.push([t,i]))}_lineTo(t,i,s){this._closed?(this._addPolyVertex(this._lineIn,s<=0?t:this._xCut,i),this._addPolyVertex(this._lineOut,s>=0?t:this._xCut,i)):s<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([t,i])):s>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([t,i])):this._prevSide<0?(this._lineIn.push([t,i]),this._lineOut.push([t,i])):this._prevSide>0&&(this._lineOut.push([t,i]),this._lineIn.push([t,i]))}_addPolyVertex(t,i,s){const n=t.length;n>1&&t[n-1][0]===i&&t[n-2][0]===i?t[n-1][1]=s:t.push([i,s])}_checkClosingPt(t){const i=t.length;i>3&&t[0][0]===this._xCut&&t[i-2][0]===this._xCut&&t[1][0]===this._xCut&&(t[0][1]=t[i-2][1],t.pop())}_side(t){return t<this._xCut?-1:t>this._xCut?1:0}_intersect(t,i){const s=(this._xCut-t[0])/(i[0]-t[0]);return t[1]+s*(i[1]-t[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/DirtyMap.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/DirtyMap.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t=-1;class e{constructor(){this._dirties=[{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1},{vertexFrom:t,vertexCount:t,indexFrom:t,indexCount:t,allDirty:!1}]}hasDirty(){return this._dirties.some((e=>e.indexCount!==t||e.allDirty))}markAllClean(){for(const e of this._dirties)e.indexFrom=t,e.indexCount=t,e.vertexFrom=t,e.vertexCount=t,e.allDirty=!1}markAllDirty(){for(const t of this._dirties)t.allDirty=!0}forEach(e){for(let r=0;r<this._dirties.length;++r){const{indexCount:i,indexFrom:o,vertexCount:n,vertexFrom:x,allDirty:l}=this._dirties[r],s={};let d,m=!1;(l||x!==t&&n>0)&&(s.geometry={count:n,from:x,allDirty:l},m=!0),(l||o!==t&&i>0)&&(d={count:i,from:o,allDirty:l},m=!0),m&&e({indices:d,vertices:s},r)}}markDirtyIndices(e,r,i){const o=this._dirties[e],n=r,x=i;if(!o.allDirty)if(o.indexCount!==t){const t=Math.min(o.indexFrom,n),e=Math.max(o.indexFrom+o.indexCount,n+x)-t;o.indexFrom=t,o.indexCount=e}else o.indexFrom=n,o.indexCount=x}markDirtyVertices(e,r,i,o){const n=this._dirties[e],x=i,l=o;if(!n.allDirty)if(n.vertexCount!==t){const t=Math.min(n.vertexFrom,x),e=Math.max(n.vertexFrom+n.vertexCount,x+l)-t;n.vertexFrom=t,n.vertexCount=e}else n.vertexFrom=x,n.vertexCount=l}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayRecordStore.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayRecordStore.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _FreeList_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FreeList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/FreeList.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s=["FILL","LINE","MARKER","TEXT","LABEL"];function o(e){const t=e.getStrides(),r={};for(let i=0;i<t.length;i++)r[s[i]]=t[i];return r}const n=.5;class d{constructor(r,i,s,o){this._strides=r,this._displayList=i,this._freeListsAndStorage={},this._dirtyMap=null,this._dirtyMap=s;for(const n in r){this._freeListsAndStorage[n]={vtxFreeList:o?new _FreeList_js__WEBPACK_IMPORTED_MODULE_1__.FreeList(o):null,idxFreeList:o?new _FreeList_js__WEBPACK_IMPORTED_MODULE_1__.FreeList(o):null,vertexBuffers:{},indexBuffer:o?new Uint32Array(o):null};for(const e in r[n])this._freeListsAndStorage[n].vertexBuffers[e]={data:o?(0,_Utils_js__WEBPACK_IMPORTED_MODULE_2__.allocateTypedArrayBuffer)(o,r[n][e]):null,stride:r[n][e]}}}static fromTileData(t,i){const n=o(t),a=[0,0,0,0,0],x=[0,0,0,0,0];for(const e of t.tileDisplayData.displayObjects)for(const t of e.displayRecords)a[t.geometryType]=Math.max(a[t.geometryType],t.vertexFrom+t.vertexCount),x[t.geometryType]=Math.max(x[t.geometryType],t.indexFrom+t.indexCount);const u=new d(n,t.tileDisplayData.displayList,i,void 0),f=t.tileBufferData?.geometries??[];for(let o=0;o<f.length;++o){const t=a[o],i=x[o],n=f[o],d=s[o],c=u._storageFor(d),l=f[o].indexBuffer;c.indexBuffer=l,c.idxFreeList=new _FreeList_js__WEBPACK_IMPORTED_MODULE_1__.FreeList(l.length),c.idxFreeList.allocate(i);let m=0;for(const e in n.vertexBuffer){const t=f[o].vertexBuffer[e];c.vertexBuffers[e].data=t.data,c.vertexBuffers[e].stride=t.stride;const i=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_2__.strideToPackingFactor)(t.stride),s=t.data.length*i/t.stride;m||(m=s)}c.vtxFreeList=new _FreeList_js__WEBPACK_IMPORTED_MODULE_1__.FreeList(m),c.vtxFreeList.allocate(t)}return u}delete(e){const t=s[e.geometryType];this._freeVertices(t,e.vertexFrom,e.vertexCount),this._freeIndices(t,e.indexFrom,e.indexCount),this._displayList.removeFromList(e),e.vertexFrom=void 0,e.indexFrom=void 0}setMeshData(e,t,r,o,n){const d=s[e.geometryType];let a,x;e.meshData=null,void 0===e.vertexFrom?(x=t.vertexCount,a=this._allocateVertices(d,x)):t.vertexCount>e.vertexCount?(this._freeVertices(d,e.vertexFrom,e.vertexCount),x=t.vertexCount,a=this._allocateVertices(d,x)):t.vertexCount===e.vertexCount?(a=e.vertexFrom,x=e.vertexCount):(this._freeVertices(d,e.vertexFrom+t.vertexCount,e.vertexCount-t.vertexCount),a=e.vertexFrom,x=t.vertexCount);let u,f,c,l=!0;if(void 0===e.indexFrom?(u=n,c=t.indexCount,f=this._allocateIndices(d,c)):t.indexCount>e.indexCount?(u=this._displayList.removeFromList(e),this._freeIndices(d,e.indexFrom,e.indexCount),c=t.indexCount,f=this._allocateIndices(d,c)):t.indexCount===e.indexCount?(l=!1,f=e.indexFrom,c=e.indexCount):(u=this._displayList.removeFromList(e),this._freeIndices(d,e.indexFrom+t.indexCount,e.indexCount-t.indexCount),f=e.indexFrom,c=t.indexCount),-1!==a&&-1!==f){const s=this._storageFor(d);if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_2__.copyMeshData)(a,f,s.vertexBuffers,s.indexBuffer,t,r,o),e.vertexFrom=a,e.indexFrom=f,e.vertexCount=t.vertexCount,e.indexCount=t.indexCount,this._dirtyMap){this._dirtyMap.markDirtyIndices(e.geometryType,e.indexFrom,e.indexCount);for(const t in r)this._dirtyMap.markDirtyVertices(e.geometryType,t,e.vertexFrom,e.vertexCount)}return l&&this._displayList.addToList(e,u),!0}return-1!==a&&this._freeVertices(d,a,x),-1!==f&&this._freeIndices(d,f,c),e.setMeshDataFromBuffers(t,r,o),e.vertexFrom=void 0,e.vertexCount=0,e.indexFrom=void 0,e.indexCount=0,!1}tryAddMeshData(e,t){const r=t.vertexBuffer,o=t.indexBuffer,n=s[e.geometryType],d=this._allocateVertices(n,e.vertexCount);if(-1===d)return this._freeVertices(n,d,e.vertexCount),!1;const a=this._allocateIndices(n,e.indexCount);if(-1===a)return this._freeVertices(n,d,e.vertexCount),this._freeIndices(n,a,e.indexCount),!1;const x=this._storageFor(n);if((0,_Utils_js__WEBPACK_IMPORTED_MODULE_2__.copyMeshData)(d,a,x.vertexBuffers,x.indexBuffer,e,r,o),e.vertexFrom=d,e.indexFrom=a,this._dirtyMap){this._dirtyMap.markDirtyIndices(e.geometryType,e.indexFrom,e.indexCount);for(const t in r)this._dirtyMap.markDirtyVertices(e.geometryType,t,d,e.vertexCount)}return this._displayList.addToList(e),!0}_allocateVertices(e,t){const r=this._storageFor(e),i=r.vtxFreeList?.allocate(t);if(null==i||-1===i)return-1;const s=r.vtxFreeList?.fragmentation;return null==s||s>n?-1:i}_freeVertices(e,t,r){const i=this._storageFor(e);i.vtxFreeList?.free(t,r)}_freeIndices(e,t,r){const i=this._storageFor(e);i.idxFreeList?.free(t,r)}_allocateIndices(e,t){const r=this._storageFor(e),i=r.idxFreeList?.allocate(t);if(null==i||-1===i)return-1;const s=r.idxFreeList?.fragmentation;return null==s||s>n?-1:i}_storageFor(e){return this._freeListsAndStorage[e]}_stridesFor(e,t){return this._strides[e][t]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/FreeList.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/FreeList.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FreeList": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{get largestRange(){return this._largestRange}constructor(e){this._largestRange=null,this._parent=e,this._updateLargestRange()}rangeCreated(e){(!this._largestRange||e.count>this._largestRange.count)&&(this._largestRange=e)}rangeResized(e,t){e===this._largestRange?e.count<t&&this._updateLargestRange():(!this._largestRange||e.count>this._largestRange.count)&&(this._largestRange=e)}findBestRange(e){let t=this._parent._freeHead,n=null;for(;null!==t;)t.count>=e&&(!n||t.count-e<n.count-e)&&(n=t),t=t.next;return n}findAdjacentRanges(e,t){let n=!0,r=!1,s=null,o=this._parent._freeHead;for(;n&&!r;){const a=null!==s?s.from+s.count:0,l=null!==o?o.from:this._parent._size;e>=a&&e+t<=l?(n=!1,r=!0):null!==o?(s=o,o=o.next):n=!1}return[s,o]}_updateLargestRange(){let e=null,t=this._parent._freeHead;for(;null!==t;)(!e||t.count>e.count)&&(e=t),t=t.next;this._largestRange=e}}class t{constructor(t,n){this._allocated=0,this._size=t,this._freeHead=t>0?{from:0,count:t,prev:null,next:null}:null,this._bookKeeper=n||new e(this),this._freeHead&&this._bookKeeper.rangeCreated(this._freeHead)}allocate(e){const n=this._bookKeeper.findBestRange(e);if(null==n)return-1;const r=n.from,s=n.count;if(n.from+=e,n.count-=e,this._bookKeeper.rangeResized(n,r,s),this._allocated+=e,0===n.count){const e=null!==n.prev?this._freeHead:n.next;t._removeRange(n),this._freeHead=e}return r}free(e,n){const[r,s]=this._bookKeeper.findAdjacentRanges(e,n),o={from:e,count:n,prev:r??null,next:s??null};if(null!=r&&(r.next=o),null!=s&&(s.prev=o),this._bookKeeper.rangeCreated(o),this._allocated-=n,null!=s&&o.from+o.count===s.from){const e=o.from,n=o.count;t._fuse(o,s),t._removeRange(s),this._bookKeeper.rangeResized(o,e,n),this._bookKeeper.rangeResized(s,void 0,0)}if(null!=r&&r.from+r.count===o.from){const e=r.from,n=r.count;t._fuse(r,o),t._removeRange(o),this._bookKeeper.rangeResized(r,e,n),this._bookKeeper.rangeResized(o,void 0,0)}this._freeHead=null!==o.prev?this._freeHead:o}get fragmentation(){const e=this._size-this._allocated;if(0===e)return 0;return 1-this._bookKeeper.largestRange.count/e}static _removeRange(e){null!==e.prev?null!==e.next?(e.prev.next=e.next,e.next.prev=e.prev):e.prev.next=null:null!==e.next&&(e.next.prev=null)}static _fuse(e,t){e.count+=t.count,e.next=t.next,t.from+=t.count,t.count=0,null!==t.next&&(t.next.prev=e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicDisplayList.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicDisplayList.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./materialKey/MaterialKey.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/materialKey/MaterialKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(e,t,n,...o){t<e.length?e.splice(t,n,...o):e.push(...o)}class n{constructor(){this.symbolLevels=[]}replay(t,n,o){for(const i of this.symbolLevels)for(const r of i.zLevels){const i=r.geometryDPInfo.unified;if(i)for(const r of i){const{geometryType:i,materialKey:l,indexFrom:s,indexCount:m}=r,y=_materialKey_MaterialKey_js__WEBPACK_IMPORTED_MODULE_0__.MaterialKeyBase.load(l).symbologyType,d=t.painter.getBrush(i,y),u={geometryType:i,materialKey:l,indexFrom:s,indexCount:m,target:n.getGeometry(i)};d.prepareState(t),d.drawGeometry(t,n,u,o)}}}get empty(){return!this.symbolLevels||0===this.symbolLevels.length}clear(){this.symbolLevels.length=0}addToList(e,t){if(Array.isArray(e))for(const n of e)this._addToList(n,t);else this._addToList(e,t)}removeFromList(e){Array.isArray(e)||(e=[e]);let t=null;for(const n of e)t=this._removeFromList(n);return t}clone(){const e=new n;for(const t of this.symbolLevels)e.symbolLevels.push(t.clone());return e}splitAfter(e){const t=this._getDisplayList(e.symbolLevel,e.zOrder),n=t.length,i=e.indexFrom+e.indexCount;for(let r=0;r<n;++r){const n=t[r];if(n.geometryType===e.geometryType&&i>n.indexFrom&&i<=n.indexFrom+n.indexCount){if(i<n.indexFrom+n.indexCount){const e=new o;e.geometryType=n.geometryType,e.materialKey=n.materialKey,e.indexFrom=i,e.indexCount=n.indexFrom+n.indexCount-i,t.splice(r+1,0,e),n.indexCount=i-n.indexFrom}return r}}}_addToList(e,n){const i=e.symbolLevel,r=e.zOrder,l=this._getDisplayList(i,r),s=null!=n?n:l.length-1,m=s>=0&&s<l.length?l[s]:null;if(null!==m&&m.materialKey===e.materialKey&&m.indexFrom+m.indexCount===e.indexFrom&&m.geometryType===e.geometryType)m.indexCount+=e.indexCount;else{const n=new o;n.indexFrom=e.indexFrom,n.indexCount=e.indexCount,n.materialKey=e.materialKey,n.geometryType=e.geometryType,t(l,s+1,0,n)}}_removeFromList(e){const n=e.symbolLevel,i=e.zOrder,r=this._getDisplayList(n,i),l=r.length;let s;for(let t=0;t<l;++t){const n=r[t];if(e.indexFrom+e.indexCount>n.indexFrom&&e.indexFrom<n.indexFrom+n.indexCount&&n.geometryType===e.geometryType){s=t;break}}if(void 0!==s){const n=r[s];if(e.indexFrom===n.indexFrom)return n.indexCount-=e.indexCount,n.indexFrom+=e.indexCount,0===n.indexCount&&t(r,s,1),s-1;if(e.indexFrom+e.indexCount===n.indexFrom+n.indexCount)return n.indexCount-=e.indexCount,0===n.indexCount?(t(r,s,1),s-1):s;{const i=n.indexFrom,l=e.indexFrom-n.indexFrom,m=e.indexCount,y=n.indexFrom+n.indexCount-(e.indexFrom+e.indexCount);n.indexCount=l;const d=new o;return d.geometryType=n.geometryType,d.materialKey=n.materialKey,d.indexFrom=i+l+m,d.indexCount=y,t(r,s+1,0,d),s}}return null}_getDisplayList(e,t){let n;const o=this.symbolLevels.length;for(let i=0;i<o;i++)if(this.symbolLevels[i].symbolLevel===e){n=this.symbolLevels[i];break}let s;n||(n=new l,n.symbolLevel=e,this.symbolLevels.push(n));const m=n.zLevels.length;for(let i=0;i<m;i++)if(n.zLevels[i].zLevel===t){s=n.zLevels[i];break}return s||(s=new r,s.geometryDPInfo=new i,s.zLevel=t,n.zLevels.push(s)),s.geometryDPInfo.unified||(s.geometryDPInfo.unified=[]),s.geometryDPInfo.unified}getDPInfoType(){return"unified"}}class o{constructor(){this.materialKey=null,this.indexFrom=0,this.indexCount=0}clone(){const e=new o;return e.geometryType=this.geometryType,e.materialKey=this.materialKey,e.indexFrom=this.indexFrom,e.indexCount=this.indexCount,e}}class i{constructor(){this.fill=null,this.line=null,this.marker=null,this.text=null,this.label=null,this.unified=null}clone(){const e=new i;return e.fill=this.fill&&this.fill.map((e=>e.clone())),e.line=this.line&&this.line.map((e=>e.clone())),e.marker=this.marker&&this.marker.map((e=>e.clone())),e.text=this.text&&this.text.map((e=>e.clone())),e.label=this.label&&this.label.map((e=>e.clone())),e.unified=this.unified&&this.unified.map((e=>e.clone())),e}}class r{constructor(){this.geometryDPInfo=new i}clone(){const e=new r;return e.zLevel=this.zLevel,e.geometryDPInfo=this.geometryDPInfo.clone(),e}}class l{constructor(){this.zLevels=[]}clone(){const e=new l;e.symbolLevel=this.symbolLevel;for(const t of this.zLevels)e.zLevels.push(t.clone());return e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicTile.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicTile.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GraphicTile": () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _DirtyMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DirtyMap.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DirtyMap.js");
/* harmony import */ var _DisplayRecordStore_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DisplayRecordStore.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayRecordStore.js");
/* harmony import */ var _WGLBuffers_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLBuffers.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLBuffers.js");
/* harmony import */ var _WGLTile_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./WGLTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLTile.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a extends _WGLTile_js__WEBPACK_IMPORTED_MODULE_3__.WGLTile{constructor(){super(...arguments),this._data=null,this._displayList=null,this._lastCommitTime=0,this._hasData=!1,this._invalidated=!1,this._wglBuffers=null,this._dirtyMap=new _DirtyMap_js__WEBPACK_IMPORTED_MODULE_0__["default"]}destroy(){super.destroy(),this.clear()}get hasData(){return!!this._hasData}get displayObjects(){return this._displayObjects??[]}getGeometry(t){return this._wglBuffers&&this._wglBuffers.has(t)?this._wglBuffers.get(t):null}getDisplayList(){return this._displayList}patch(s){if(!0===s.clear)return this.clear(),void(this._hasData=!1);const i=s.addOrUpdate,a=s.remove;!this._data&&i&&i.tileDisplayData?.displayObjects.length?(i.tileDisplayData.computeDisplayList(),this._dirtyMap=new _DirtyMap_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._dispRecStore=_DisplayRecordStore_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromTileData(i,this._dirtyMap),this._data=i,this._dirtyMap.markAllDirty(),this._hasData=!0,s.end&&this.ready()):this._data&&(i&&i.tileDisplayData?.displayObjects.length||a.length)?this._doPatchData(s):s.end&&this.ready(),s.end&&!this._data&&this.clear(),this.requestRender(),this.emit("change")}commit(t){t.time&&t.time===this._lastCommitTime||(this._lastCommitTime=t.time,this.visible&&this._data&&(this._wglBuffers||(this._wglBuffers=new _WGLBuffers_js__WEBPACK_IMPORTED_MODULE_2__["default"](t.context)),(this._dirtyMap.hasDirty()||this._invalidated)&&(this._invalidated=!1,this._wglBuffers.upload(this._data.tileBufferData,this._dirtyMap),this._displayList=this._data.tileDisplayData.displayList.clone(),this._displayObjects=this._data.tileDisplayData.displayObjects.slice(),this._dirtyMap.markAllClean())))}clear(){this._data=null,this._displayList=null,this._dispRecStore=null,this._wglBuffers&&(this._wglBuffers.dispose(),this._wglBuffers=null)}_doPatchData(t){this._invalidated=!0,this._patchData(t)||(this._dirtyMap.markAllDirty(),this._data.reshuffle(),this._dispRecStore=_DisplayRecordStore_js__WEBPACK_IMPORTED_MODULE_1__["default"].fromTileData(this._data,this._dirtyMap)),this.requestRender()}_patchData(t){let e=!0;const s=t.addOrUpdate&&t.addOrUpdate.tileDisplayData&&t.addOrUpdate.tileDisplayData.displayObjects||[],i=(t.remove||[]).slice();for(const r of s)null!=r.insertAfter&&i.push(r.id);let a;i.length>0&&(a=new Set(i));const l=this._data.tileDisplayData;for(const r of i){const t=l.displayObjectRegistry.get(r);if(t){l.displayList.removeFromList(t.displayRecords);for(const e of t.displayRecords)this._dispRecStore.delete(e);l.displayObjectRegistry.delete(r)}}a?.size&&(l.displayObjects=l.displayObjects.filter((t=>!a.has(t.id))));for(const r of s){let s,i=l.displayObjectRegistry.get(r.id);if(i){const t=i.displayRecords;i.set(r),i.displayRecords=t;const e=i.displayRecords.length;for(let s=0;s<e;++s){const t=i.displayRecords[s],e=r.displayRecords[s];(s>=r.displayRecords.length||t.geometryType!==e.geometryType||t.symbolLevel!==e.symbolLevel||t.zOrder!==e.zOrder||t.materialKey!==e.materialKey)&&(this._dispRecStore.delete(i.displayRecords[s]),s<r.displayRecords.length&&(i.displayRecords[s]=void 0))}i.displayRecords.length=r.displayRecords.length}else{let t;i=r.copy(),i.displayRecords=[],l.displayObjectRegistry.set(r.id,i);const e=l.displayObjects;if(null!=i.insertAfter)if(s={},i.insertAfter>=0){const s=l.displayObjectRegistry.get(i.insertAfter);s?(t=e.indexOf(s)+1,t<e.length?e.splice(t,0,i):(e.push(i),t=e.length)):(e.push(i),t=e.length)}else e.unshift(i),t=0;else e.push(i),t=e.length;if(s){const i=r.displayRecords.length>0?1:0;let a=0;for(let r=t-1;r>=0&&a<i;--r)for(let t=e[r].displayRecords.length-1;t>=0&&a<i;--t){const i=e[r].displayRecords[t],d=l.displayList.getDPInfoType();s[d]||(s[d]=i,++a)}}}const a=r.displayRecords.length;for(let d=0;d<a;++d){const a=r.displayRecords[d];let o=i.displayRecords[d];o?(o.meshData=a.meshData,o.materialKey=a.materialKey):(o=a.copy(),o.vertexFrom=void 0,o.indexFrom=void 0,i.displayRecords[d]=o);const h=a.geometryType,p=l.displayList.getDPInfoType(),y=t.addOrUpdate.tileBufferData.geometries[h],c=y.vertexBuffer,n=y.indexBuffer;let f;s&&(f=s[p]?l.displayList.splitAfter(s[p]):-1),e=this._dispRecStore.setMeshData(o,a,c,n,f)&&e,s&&null!=o.indexFrom&&null!=o.indexFrom&&(s[p]=o)}}return e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/MemoryRequirements.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/MemoryRequirements.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(){this._byGeometryType=null}get satisfied(){return!this._byGeometryType}reset(){this._byGeometryType=null}verticesFor(e){return this._byGeometryType?this._byGeometryType[e].vertices:0}indicesFor(e){return this._byGeometryType?this._byGeometryType[e].indices:0}needMore(e,t,i){if(!t&&!i)return;this._byGeometryType||(this._byGeometryType=[{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0},{vertices:0,indices:0}]);const s=this._byGeometryType[e];s.vertices+=t,s.indices+=i}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/MeshData.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/MeshData.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(){this.vertexData=new Map,this.vertexCount=0,this.indexData=[]}clear(){this.vertexData.clear(),this.vertexCount=0,this.indexData=[]}update(t,e,a){for(const s in t)this.vertexData.set(s,t[s]);for(const s in this.vertexData)null===t[s]&&this.vertexData.delete(s);this.vertexCount=e,this.indexData=a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileBufferData.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileBufferData.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r=5;class f{constructor(){this.geometries=[{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}},{indexBuffer:void 0,vertexBuffer:{}}]}clone(){const e=new f;for(let r=0;r<this.geometries.length;r++){const f=this.geometries[r],t=e.geometries[r];t.indexBuffer=f.indexBuffer.slice(),t.vertexBuffer={};for(const e in f.vertexBuffer){const{data:r,stride:i}=f.vertexBuffer[e];t.vertexBuffer[e]={data:r.slice(),stride:i}}}return e}static deserialize(t){const i=new f;for(let f=0;f<r;++f){i.geometries[f].indexBuffer=new Uint32Array(t.geometries[f].indexBuffer),i.geometries[f].vertexBuffer={};for(const r in t.geometries[f].vertexBuffer)i.geometries[f].vertexBuffer[r]={data:(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.allocateTypedArrayBufferwithData)(t.geometries[f].vertexBuffer[r].data,t.geometries[f].vertexBuffer[r].stride),stride:t.geometries[f].vertexBuffer[r].stride}}return i}serialize(){const e={geometries:[{indexBuffer:this.geometries[0].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[1].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[2].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[3].indexBuffer.buffer,vertexBuffer:{}},{indexBuffer:this.geometries[4].indexBuffer.buffer,vertexBuffer:{}}]};for(let f=0;f<r;++f)for(const r in this.geometries[f].vertexBuffer)e.geometries[f].vertexBuffer[r]={data:this.geometries[f].vertexBuffer[r].data.buffer,stride:this.geometries[f].vertexBuffer[r].stride};return e}getBuffers(){const e=[];for(let f=0;f<r;++f){e.push(this.geometries[f].indexBuffer.buffer);for(const r in this.geometries[f].vertexBuffer)e.push(this.geometries[f].vertexBuffer[r].data.buffer)}return e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileData.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileData.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TileData": () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _MemoryRequirements_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MemoryRequirements.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/MemoryRequirements.js");
/* harmony import */ var _TileBufferData_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TileBufferData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileBufferData.js");
/* harmony import */ var _TileDisplayData_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TileDisplayData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileDisplayData.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./WGLDisplayRecord.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js");
/* harmony import */ var _cpuMapped_DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cpuMapped/DisplayRecordReader.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/cpuMapped/DisplayRecordReader.js");
/* harmony import */ var _mesh_VertexBuffer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mesh/VertexBuffer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexBuffer.js");
/* harmony import */ var _mesh_VertexVector_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./mesh/VertexVector.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexVector.js");
/* harmony import */ var _util_Writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./util/Writer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const d=new _MemoryRequirements_js__WEBPACK_IMPORTED_MODULE_2__["default"],p=new _MemoryRequirements_js__WEBPACK_IMPORTED_MODULE_2__["default"],D=5;function h(e,t){const r={};for(const s in e){const i={data:(0,_Utils_js__WEBPACK_IMPORTED_MODULE_5__.allocateTypedArrayBuffer)(t,e[s]),stride:e[s]};r[s]=i}return r}function x(e){return[e.fill||{},e.line||{},e.icon||{},e.text||{},e.label||{}]}function y(e){const t=[[],[],[],[],[]],r=e;for(const s of r)for(const e of s.displayRecords)t[e.geometryType].push(e);return t}class B{constructor(){this.tileDisplayData=null,this.tileBufferData=null}reshuffle(){if(d.reset(),!this.tileDisplayData)return;const t=y(this.tileDisplayData.displayObjects);for(const e of t)for(const t of e)t&&d.needMore(t.geometryType,t.meshData?t.meshData.vertexCount:t.vertexCount,t.meshData?t.meshData.indexData.length:t.indexCount);const r=t.length,i=new _TileBufferData_js__WEBPACK_IMPORTED_MODULE_3__["default"];for(let s=0;s<r;++s){i.geometries[s].indexBuffer=new Uint32Array(Math.round(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.ReallocGrowthFactor*d.indicesFor(s)));const t=[],r=this.tileBufferData?.geometries[s].vertexBuffer;if(!r)continue;for(const e in r)t.push(r[e].stride);const a=B._computeVertexAlignment(t),n=Math.round(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.ReallocGrowthFactor*d.verticesFor(s)),f=B._align(n,a);for(const e in r){const t=r[e].stride;i.geometries[s].vertexBuffer[e]={stride:t,data:(0,_Utils_js__WEBPACK_IMPORTED_MODULE_5__.allocateTypedArrayBuffer)(f,t)}}}p.reset(),this.tileDisplayData.displayList?.clear();for(let e=0;e<r;++e){const r=t[e];for(const t of r){if(t.meshData)t.writeMeshDataToBuffers(p.verticesFor(e),i.geometries[e].vertexBuffer,p.indicesFor(e),i.geometries[e].indexBuffer),t.meshData=null;else{const r=this.tileBufferData?.geometries[e];if(r){const s=r.vertexBuffer,o=r.indexBuffer,n=i.geometries[e].vertexBuffer,f=i.geometries[e].indexBuffer,l=p.verticesFor(e),u=p.indicesFor(e);(0,_Utils_js__WEBPACK_IMPORTED_MODULE_5__.copyMeshData)(l,u,n,f,t,s,o),t.vertexFrom=l,t.indexFrom=u}}p.needMore(e,t.vertexCount,t.indexCount)}}const{displayList:n,displayObjects:f}=this.tileDisplayData;if(n)for(const e of f)n.addToList(e.displayRecords);this.tileBufferData=i}getStrides(){const e=[],t=this.tileBufferData?.geometries;if(!t)return e;for(let r=0;r<t.length;++r){const s=t[r];e[r]={};for(const t in s.vertexBuffer)e[r][t]=s.vertexBuffer[t].stride}return e}clone(){const e=new B;return e.tileBufferData=this.tileBufferData?.clone()??null,e.tileDisplayData=this.tileDisplayData?.clone()??null,e}_guessSize(){const e=this.tileDisplayData?.displayObjects??[],t=Math.min(e.length,4),r=12,s=40;let i=0;for(let o=0;o<t;o++)i=Math.max(i,e[o].displayRecords.length);return 2*(e.length*r+e.length*i*s)}serialize(){const e=this.tileBufferData.serialize(),t=this.tileBufferData.getBuffers(),r=this.tileDisplayData.serialize(new _util_Writer_js__WEBPACK_IMPORTED_MODULE_10__["default"](Int32Array,this._guessSize())).buffer();return t.push(r),{result:{displayData:r,bufferData:e},transferList:t}}static fromVertexData(e,r){const s={},i=new Map;for(const t of r)i.set(t.id,t);return (0,_Utils_js__WEBPACK_IMPORTED_MODULE_5__.forEachGeometryType)((r=>{const o=e.data[r];if(null!=o){const e=_cpuMapped_DisplayRecordReader_js__WEBPACK_IMPORTED_MODULE_7__.DisplayRecordReader.from(o.records).getCursor();for(;e.next();){const t=e.id,s=e.materialKey,o=e.indexFrom,a=e.indexCount,n=e.vertexFrom,l=e.vertexCount,u=i.get(t),c=new _WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_6__["default"](t,r,s);c.indexFrom=o,c.indexCount=a,c.vertexFrom=n,c.vertexCount=l,u.displayRecords.push(c)}s[r]=_mesh_VertexBuffer_js__WEBPACK_IMPORTED_MODULE_8__.VertexBuffers.fromVertexData(o,r)}else s[r]=new _mesh_VertexVector_js__WEBPACK_IMPORTED_MODULE_9__.VertexVectors(r,0,_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLSymbologyType.DEFAULT).intoBuffers()})),B.fromMeshData({displayObjects:r,vertexBuffersMap:s})}static fromMeshData(e){const t=new B,r=new _TileDisplayData_js__WEBPACK_IMPORTED_MODULE_4__["default"],o=new _TileBufferData_js__WEBPACK_IMPORTED_MODULE_3__["default"];r.displayObjects=e.displayObjects;for(const s in e.vertexBuffersMap){const t=s,r=e.vertexBuffersMap[t];o.geometries[t].indexBuffer=r.indexBuffer,o.geometries[t].vertexBuffer=r.namedBuffers}return t.tileDisplayData=r,t.tileBufferData=o,t}static bind(e,t){const r=new B;return r.tileDisplayData=e,r.tileBufferData=t,r}static create(e,t){const r=new B;r.tileDisplayData=new _TileDisplayData_js__WEBPACK_IMPORTED_MODULE_4__["default"],r.tileDisplayData.displayObjects=e;const o=[0,0,0,0,0],a=[0,0,0,0,0],n=[[],[],[],[],[]];for(const s of e)for(const e of s.displayRecords)n[e.geometryType].push(e),o[e.geometryType]+=e.meshData.vertexCount,a[e.geometryType]+=e.meshData.indexData.length;const l=new _TileBufferData_js__WEBPACK_IMPORTED_MODULE_3__["default"],u=x(t);for(let s=0;s<D;s++){const e=new Uint32Array(a[s]),t=h(u[s],o[s]);_WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_6__["default"].writeAllMeshDataToBuffers(n[s],t,e),l.geometries[s]={indexBuffer:e,vertexBuffer:t}}return r.tileBufferData=l,r}static _align(e,t){const r=e%t;return 0===r?e:e+(t-r)}static _computeVertexAlignment(e){let t=!1,r=!1;for(const s of e)s%4==2?t=!0:s%4!=0&&(r=!0);return r?4:t?2:1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileDisplayData.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileDisplayData.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _GraphicDisplayList_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GraphicDisplayList.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicDisplayList.js");
/* harmony import */ var _WGLDisplayObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WGLDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayObject.js");
/* harmony import */ var _util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/serializationUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/serializationUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(){this.displayObjects=[],this._displayList=null}get displayObjectRegistry(){if(!this._displayObjectRegistry){this._displayObjectRegistry=new Map;for(const s of this.displayObjects)this._displayObjectRegistry.set(s.id,s)}return this._displayObjectRegistry}get displayList(){return this._displayList}computeDisplayList(){this._displayList=new _GraphicDisplayList_js__WEBPACK_IMPORTED_MODULE_0__["default"];for(const s of this.displayObjects)for(const t of s.displayRecords)this._displayList.addToList(t)}clone(){const s=new e;return this.displayObjects&&(s.displayObjects=this.displayObjects.map((s=>s.clone()))),s}serialize(s){return (0,_util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_2__.serializeList)(s,this.displayObjects),s}_deserializeObjects(s){const i=s.readInt32(),e=new Array(i),a=new Map;for(let l=0;l<e.length;++l){const i=_WGLDisplayObject_js__WEBPACK_IMPORTED_MODULE_1__["default"].deserialize(s);e[l]=i,a.set(i.id,i)}this.displayObjects=e,this._displayList=null,this._displayObjectRegistry=a}static deserialize(s){const t=new e;return t._deserializeObjects(s),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLBuffers.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLBuffers.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o{constructor(a){this.geometryMap=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.createGeometryData)((()=>({indexBuffer:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_1__.BufferObject.createIndex(a,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.Usage.STATIC_DRAW),vao:null})),((e,s)=>({vertexBuffer:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_1__.BufferObject.createVertex(a,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.C_VBO_INFO[s])})))}dispose(){for(let e=0;e<5;e++){const t=this.geometryMap[e];if(t){t.data.vao?.disposeVAOOnly(),t.data.indexBuffer?.dispose();for(const e in t.buffers)t.buffers[e]?.data.vertexBuffer.dispose()}}}get(e){const t=this.geometryMap[e];return{getVAO(e,r,s){if(!t.data.vao){const o={};for(const e in t.buffers)o[e]=t.buffers[e].data.vertexBuffer;t.data.vao=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_3__.VertexArrayObject(e,s,r,o,t.data.indexBuffer)}return t.data.vao}}}has(e){return null!=this.geometryMap[e]}upload(e,t){t.forEach(((t,r)=>{this._upload(t,r,e)}))}_upload(e,t,r){if(e.indices&&(e.indices.allDirty?this._uploadIndices(r,t):null!=e.indices.from&&null!=e.indices.count&&this._uploadIndices(r,t,e.indices.from,e.indices.count)),e.vertices){const s=e.vertices;for(const e in s){const a=s[e];a.allDirty?this._uploadVertices(r,t,e):null!=a.from&&null!=a.count&&this._uploadVertices(r,t,e,a.from,a.count)}}}_uploadVertices(e,t,r,s,a){const o=this.geometryMap[t];if(!o)return;const f=e.geometries[t].vertexBuffer[r];if(!f)return;const{data:i,stride:n}=f;if(o.buffers[r]&&i.length>0){const e=n/i.BYTES_PER_ELEMENT;null!=s&&null!=a?o.buffers[r].data.vertexBuffer.setSubData(i,s*e,s*e,(s+a)*e):o.buffers[r].data.vertexBuffer.setData(i)}}_uploadIndices(e,t,r,s){const a=this.geometryMap[t];if(!a)return;const o=e.geometries[t].indexBuffer;a.data.indexBuffer&&o.length>0&&(null!=r&&null!=s?a.data.indexBuffer.setSubData(o,r,r,r+s):a.data.indexBuffer.setData(o))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayObject.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayObject.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WGLDisplayRecord.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js");
/* harmony import */ var _util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/serializationUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/serializationUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(s){this.insertAfter=null,this.id=s,this.displayRecords=[]}copy(){const s=new e(this.id);return s.set(this),s}clone(){const s=new e(this.id);return s.displayRecords=this.displayRecords.map((s=>s.clone())),s.insertAfter=this.insertAfter,s}set(s){this.id=s.id,this.displayRecords=s.displayRecords,this.insertAfter=s.insertAfter}serialize(s){return s.push(this.id),(0,_util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_1__.serializeList)(s,this.displayRecords),s}static deserialize(i){const r=i.readInt32(),d=new e(r),o={id:r};return d.displayRecords=(0,_util_serializationUtils_js__WEBPACK_IMPORTED_MODULE_1__.deserializeList)(i,_WGLDisplayRecord_js__WEBPACK_IMPORTED_MODULE_0__["default"],o)??[],d}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayRecord.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _MeshData_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MeshData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/MeshData.js");
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s{constructor(t,e,s,i=0,r=0){this.id=t,this.geometryType=e,this.materialKey=s,this.minZoom=i,this.maxZoom=r,this.meshData=null,this.symbolLevel=0,this.zOrder=0,this.vertexFrom=0,this.vertexCount=0,this.indexFrom=0,this.indexCount=0,this._sortKey=null}get sortKey(){return null==this._sortKey&&this._computeSortKey(),this._sortKey}clone(){return this.copy()}copy(){const t=new s(this.id,this.geometryType,this.materialKey);return t.vertexFrom=this.vertexFrom,t.vertexCount=this.vertexCount,t.indexFrom=this.indexFrom,t.indexCount=this.indexCount,t.zOrder=this.zOrder,t.symbolLevel=this.symbolLevel,t.meshData=this.meshData,t.minZoom=this.minZoom,t.maxZoom=this.maxZoom,t}setMeshDataFromBuffers(s,i,r){const o=new _MeshData_js__WEBPACK_IMPORTED_MODULE_0__["default"];for(const t in i){const r=i[t].stride,a=i[t].data;if(!a)continue;const h=[],n=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.strideToPackingFactor)(r);for(let t=0;t<r*s.vertexCount/n;++t)h[t]=a[t+r*s.vertexFrom/n];o.vertexData.set(t,h)}o.indexData.length=0;for(let t=0;t<s.indexCount;++t)o.indexData[t]=r[t+s.indexFrom]-s.vertexFrom;o.vertexCount=s.vertexCount,this.meshData=o}readMeshDataFromBuffers(s,i){this.meshData?this.meshData.clear():this.meshData=new _MeshData_js__WEBPACK_IMPORTED_MODULE_0__["default"];for(const t in s){const i=s[t].stride,r=s[t].data,o=[],a=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.strideToPackingFactor)(i);for(let t=0;t<i*this.vertexCount/a;++t)o[t]=r[t+i*this.vertexFrom/a];this.meshData.vertexData.set(t,o)}this.meshData.indexData.length=0;for(let t=0;t<this.indexCount;++t)this.meshData.indexData[t]=i[t+this.indexFrom]-this.vertexFrom;this.meshData.vertexCount=this.vertexCount}writeMeshDataToBuffers(t,s,i,r){if(this.meshData){for(const i in s){const r=s[i].stride,o=this.meshData.vertexData.get(i),a=s[i].data,h=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_1__.strideToPackingFactor)(r);for(let e=0;e<r*this.meshData.vertexCount/h;++e)a[e+r*t/h]=o[e]}for(let e=0;e<this.meshData.indexData.length;++e)r[e+i]=this.meshData.indexData[e]+t;this.vertexFrom=t,this.vertexCount=this.meshData.vertexCount,this.indexFrom=i,this.indexCount=this.meshData.indexData.length}}static writeAllMeshDataToBuffers(t,e,s){let i=0,r=0;for(const o of t)o.writeMeshDataToBuffers(i,e,r,s),i+=o.vertexCount,r+=o.indexCount}_computeSortKey(){this._sortKey=(31&this.symbolLevel)<<12|(127&this.zOrder)<<4|7&this.geometryType}serialize(t){return t.push(this.geometryType),t.push(this.materialKey),t.push(this.vertexFrom),t.push(this.vertexCount),t.push(this.indexFrom),t.push(this.indexCount),t.push(this.minZoom),t.push(this.maxZoom),t}static deserialize(t,e){const i=t.readInt32(),r=t.readInt32(),o=new s(e.id,i,r);return o.vertexFrom=t.readInt32(),o.vertexCount=t.readInt32(),o.indexFrom=t.readInt32(),o.indexCount=t.readInt32(),o.minZoom=t.readInt32(),o.maxZoom=t.readInt32(),o}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexBuffer.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexBuffer.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VertexBuffers": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(e,t){this.data=e,this.stride=t}static decode(r){const s=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.allocateTypedArrayBufferwithData)(r.data,r.stride),n=r.stride;return new t(s,n)}static fromVertexVector(r){const s=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.allocateTypedArrayBufferwithData)(r.data.buffer(),r.stride),n=r.stride;return new t(s,n)}}class r{constructor(e,t,r){this.geometryType=e,this.indexBuffer=new Uint32Array(t),this.namedBuffers=r}static decode(e){const s=e.geometryType,n=e.indexBuffer,o={};for(const r in e.namedBuffers)o[r]=t.decode(e.namedBuffers[r]);return new r(s,n,o)}static fromVertexData(s,n){const o=s.indices,c=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.allocateTypedArrayBufferwithData)(s.vertices,s.stride),i=s.stride,d={geometry:new t(c,i)};return new r(n,o,d)}static fromVertexVectors(e){const s=e.geometryType,n=e.indexVector.buffer(),o={};let c;for(c in e.namedVectors)o[c]=t.fromVertexVector(e.namedVectors[c]);return new r(s,n,o)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexVector.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexVector.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VertexVector": () => (/* binding */ s),
/* harmony export */   "VertexVectors": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _VertexBuffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VertexBuffer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/VertexBuffer.js");
/* harmony import */ var _util_Writer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Writer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Writer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s{get vertexCount(){const t=this.stride/4,e=this.data.length/t;return e!==(0|e)&&console.debug("Corrupted stride"),e}constructor(t,e){this.data=t,this.stride=e}transfer(t,e){const r=this.data.buffer();t.vertexCount=this.vertexCount,t.data=r,t.stride=this.stride,e.push(r)}}class o{constructor(e,o,n){this.geometryType=e,this.indexVector=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_2__["default"](Uint32Array,6*o),this.namedVectors={};const i=(0,_Utils_js__WEBPACK_IMPORTED_MODULE_0__.getStrides)(e,n);for(const t in i){const e=i[t];let n;switch(e%4){case 0:case 2:n=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_2__["default"](Uint32Array,e*o);break;case 1:case 3:n=new _util_Writer_js__WEBPACK_IMPORTED_MODULE_2__["default"](Uint8Array,e*o)}this.namedVectors[t]=new s(n,e)}}get(t){return this.namedVectors[t].data}getVector(t){return this.namedVectors[t]}transfer(t,e){const r=this.indexVector.buffer(),s={};let o;for(o in e.push(r),this.namedVectors){const t=this.namedVectors[o];s[o]={},t.transfer(s[o],e)}t.geometryType=this.geometryType,t.indexBuffer=r,t.namedBuffers=s,this.destroy()}intoBuffers(){const t=_VertexBuffer_js__WEBPACK_IMPORTED_MODULE_1__.VertexBuffers.fromVertexVectors(this);return this.destroy(),t}destroy(){this.indexVector=null,this.namedVectors=null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/serializationUtils.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/util/serializationUtils.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deserializeList": () => (/* binding */ n),
/* harmony export */   "serializeList": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(e,n){if(null!==n){e.push(n.length);for(const r of n)r.serialize(e);return e}e.push(0)}function n(e,n,r){const t=e.readInt32(),o=new Array(t);for(let i=0;i<o.length;i++)o[i]=n.deserialize(e,r);return o}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GraphicsReader": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/* harmony import */ var _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReaderJSON.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o extends _FeatureSetReaderJSON_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReaderJSON{static from(s,n,i){const c=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_2__.FeatureSetReader.createInstance(),u=[],a=s.filter((r=>!!r.geometry));for(const e of a){const s=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__.getJsonType)(e.geometry);(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__.convertFromGraphics)(u,[e],s,!1,!1,n)}return new o(c,u,i)}constructor(r,t,e){super(r,t,null),this._transform=e}get geometryType(){const r=this._current;return r?r.geometryType:null}get insertAfter(){return this._current.insertAfter}readGraphic(){return this._current}getCursor(){return this.copy()}copy(){const r=new o(this.instance,this._features,this._transform);return this.copyInto(r),r}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _chunks_rbush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/rbush.js */ "./node_modules/@arcgis/core/chunks/rbush.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtils.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _symbols_cim_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolDrawHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js");
/* harmony import */ var _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GraphicStoreItem.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js");
/* harmony import */ var _graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./graphicsUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const m={minX:0,minY:0,maxX:0,maxY:0},p=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(),g=1e-5;function f(e,t,i,r,s){return m.minX=t,m.minY=i,m.maxX=r,m.maxY=s,e.search(m)}function _(e){return{minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}}class b{constructor(e,i,r,s,o,n,l){this._graphics=s,this._onAdd=o,this._onRemove=n,this._hashToCIM=l,this._index=(0,_chunks_rbush_js__WEBPACK_IMPORTED_MODULE_1__.r)(9,_),this._itemByGraphic=new Map,this._inflatedSizeHelper=new _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__.CIMSymbolInflatedSizeHelper,this._tileInfoView=e,this._uidFieldName=r;const u=e.getClosestInfoForScale(i);u&&(this._resolution=this._tileInfoView.getTileResolution(u.level))}setResourceManager(e){this._cimResourceManager=e,this._hittestDrawHelper=new _symbols_cim_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_6__.HittestDrawHelper(e)}hitTest(e,t,s,o,l){e=(0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_4__.normalizeMapX)(e,this._tileInfoView.spatialReference);const u=.5*o*window.devicePixelRatio*s;p[0]=e-u,p[1]=t-u,p[2]=e+u,p[3]=t+u;const h=.5*o*(s+_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.PIXEL_BUFFER),a=f(this._index,e-h,t-h,e+h,t+h);if(!a||0===a.length)return[];const d=[],m=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(),g=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)();for(const i of a){const{geometry:e,symbolResource:t}=i;this._getSymbolBounds(m,t,e,g,l),g[3]=g[2]=g[1]=g[0]=0,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.intersects)(m,p)&&i.graphic?.visible&&d.push(i)}if(0===d.length)return[];const _=this._hittestDrawHelper,b=[];for(const i of d){const{geometry:e,symbolResource:t}=i,{hash:r,textInfo:s}=t,n=this._hashToCIM.get(r);n&&(_.hitTest(p,n.symbol,e,s,l,o)&&b.push(i))}return b.sort(y),b.map((e=>e.graphic))}getGraphicsData(e,t,i){const r=this._searchForItems(t);if(0===r.length||0===i.length)return[];r.sort(((e,t)=>e.zorder-t.zorder)),r[0].insertAfter=-1;for(let a=1;a<r.length;a++)r[a].insertAfter=r[a-1].graphic.uid;r.sort(((e,t)=>e.graphic.uid-t.graphic.uid)),i.sort(((e,t)=>e.uid-t.uid));let s,o=0,n=0;const l=t.resolution,u=[],h={originPosition:"upperLeft",scale:[l,l],translate:[t.bounds[0],t.bounds[3]]};for(const c of i){for(n=-2;o<r.length;)if(s=r[o],o++,c.uid===s.graphic.uid){n=s.insertAfter;break}if(!s?.geometry||-2===n)continue;const i=s.getGeometryQuantized(h,t.bounds,this._tileInfoView.spatialReference,l),d={...s.graphic.attributes};d[this._uidFieldName]=c.uid,null==s.groupId&&(s.groupId=e.createTemplateGroup(s.symbol,null)),u.push({centroid:_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_8__["default"].getCentroidQuantized(s,h),geometry:i,attributes:d,symbol:s.symbol,groupId:s.groupId,insertAfter:n,zorder:s.zorder})}return u.sort(((e,t)=>e.zorder-t.zorder)),u}queryTileData(e,t){if(0===this._graphics.length)return[];const{bounds:i,resolution:r}=t,s=this._searchForItems(t),o=[];return 0===s.length||this._createTileGraphics(o,e,s,{originPosition:"upperLeft",scale:[r,r],translate:[i[0],i[3]]},t),o}has(e){return this._itemByGraphic.has(e)}getBounds(e){const t=this._itemByGraphic.get(e);return t?t.bounds:null}getAllBounds(){return Array.from(this._itemByGraphic.values()).filter((e=>e.graphic.visible)).map((e=>e.bounds))}addOrModify(e,t,i){if(!e||null==t)return;this.has(e)&&this.remove(e),this._onAdd(e);const r=[0,0,0,0],s=this._getSymbolBounds(null,t,i,r,0),o=_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_8__["default"].acquire(e,t,i,null!=s?s:null,r);return this._itemByGraphic.set(e,o),i&&this._index.insert(o),o.bounds}remove(e){if(!this._itemByGraphic.has(e))return;this._onRemove(e);const t=this._itemByGraphic.get(e);t?.bounds&&this._index.remove(t),this._itemByGraphic.delete(e)}updateZ(){const e=this._graphics.items;let t,i;for(let r=0;r<e.length;r++)i=e[r],t=this._itemByGraphic.get(i),t&&(t.zorder=r)}update(e,t,i){const r=this._itemByGraphic.get(e);r.groupId=null;const o=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.clone)(r.bounds);this._index.remove(r);const n=this._getSymbolBounds(r.bounds,t,i,r.size,0);return null!=n&&r.set(e,t,i,n,r.size),i&&this._index.insert(r),{oldBounds:o,newBounds:r.bounds}}updateLevel(e){if(this._resolution===e)return;this._resolution=e,this._index.clear();const t=this._itemByGraphic,i=[];for(const[r,s]of t){const e=this._getSymbolBounds(s.bounds,s.symbolResource,s.geometry,s.size,0);s.geometry&&null!=e&&(s.bounds=e,i.push(s))}this._index.load(i)}clear(){this._itemByGraphic.clear(),this._index.clear()}_createTileGraphics(e,t,i,r,s){const o=this._uidFieldName,n=this._tileInfoView.spatialReference,{bounds:l,resolution:u}=s;let h,c,d,m;i.sort(((e,t)=>e.zorder-t.zorder));for(let p=0;p<i.length;p++){d=i[p],h=d.graphic,c=d.getGeometryQuantized(r,l,n,u),m=0===p?-1:i[p-1].graphic.uid;const s={...d.graphic.attributes};s[o]=h.uid,null==d.groupId&&(d.groupId=t.createTemplateGroup(d.symbol,null)),e.push({centroid:_GraphicStoreItem_js__WEBPACK_IMPORTED_MODULE_8__["default"].getCentroidQuantized(d,r),geometry:c,attributes:s,symbol:d.symbol,groupId:d.groupId,insertAfter:m,zorder:d.zorder})}}_searchForItems(e){const t=this._tileInfoView.spatialReference,r=e.bounds,s=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.getInfo)(t);if(s&&t.isWrappable){const[t,o]=s.valid,n=Math.abs(r[2]-o)<g,l=Math.abs(r[0]-t)<g;if((!n||!l)&&(n||l)){const s=e.resolution;let l;l=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)(n?[t,r[1],t+s*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.PIXEL_BUFFER,r[3]]:[o-s*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.PIXEL_BUFFER,r[1],o,r[3]]);const u=f(this._index,r[0],r[1],r[2],r[3]),h=f(this._index,l[0],l[1],l[2],l[3]);return[...new Set([...u,...h])]}}return f(this._index,r[0],r[1],r[2],r[3])}_getSymbolBounds(t,r,s,n,l){if(!r||!r.symbol||!s)return null;if(t||(t=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)()),(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_3__.getBoundsXY)(t,s),!n||0===n[0]&&0===n[1]&&0===n[2]&&0===n[3]){const{hash:t,textInfo:i}=r,s=this._hashToCIM.get(t);if(!s)return null;n||(n=[0,0,0,0]);const o=this._inflatedSizeHelper.getSymbolInflateSize(n,s.symbol,this._cimResourceManager,l,i);n[0]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(o[0]),n[1]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(o[1]),n[2]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(o[2]),n[3]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(o[3])}const u=this._resolution,a=_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_7__.CIMSymbolInflatedSizeHelper.safeSize(n);return t[0]-=a*u,t[1]-=a*u,t[2]+=a*u,t[3]+=a*u,t}}const y=(e,t)=>{const i=(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.graphicGeometryToNumber)(e.graphic),r=(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_9__.graphicGeometryToNumber)(t.graphic);return i===r?t.zorder-e.zorder:i-r};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStoreItem.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/centroid.js */ "./node_modules/@arcgis/core/geometry/support/centroid.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/quantizationUtils.js */ "./node_modules/@arcgis/core/geometry/support/quantizationUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const p=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"],y=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_6__["default"],g="esriGeometryPolyline";function f(t){t.coords.length=0,t.lengths.length=0}class d{constructor(){this.bounds=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),this.graphic=null}static acquire(t=null,e,s,r,i){let o;return 0===d._pool.length?o=new d:(o=d._pool.pop(),this._set.delete(o)),o.acquire(t,e,s,r,i),o}static release(t){t&&!this._set.has(t)&&(t.release(),this._pool.push(t),this._set.add(t))}static getCentroidQuantized(t,e){if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.isPolygon)(t.geometry)){const r=t.symbol;if(null==r)return null;if(r?.layers.length>0&&r.layers.some((t=>"text"===t.type||"marker"===t.type))){const r=(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__.polygonCentroid)(t.geometry);return null!==r?(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizePoint)(e,{},{x:r[0],y:r[1]},!1,!1):null}}return null}acquire(t=null,e,s,r,i){t&&this.set(t,e,s,r,i)}release(){this.graphic=null,this.symbolResource=null,this.geometry=null}get symbol(){return this.symbolResource.symbol}set(t,e,s,r,i){this.graphic=t,this.geometry=s,this.symbolResource=e,this.bounds=r,i&&(this.size=i)}getGeometryQuantized(t,s,r,o){const c=this.geometry,d=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.getJsonType)(c);if(null==d)return null;switch(d){case"esriGeometryPolygon":{const e=c,{rings:s}=e;if(!s||0===s.length)return null;let r;if(r=1===s.length&&2===s[0].length?(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,{paths:[[s[0][0],s[0][1]]]}):(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,this.geometry),!r){const e={x:s[0][0][0],y:s[0][0][1]};if(r=(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,e),r){const{x:t,y:e}=r;return{rings:[[[t-1,e],[1,-1],[1,1],[-1,1],[-1,-1]]]}}}return r}case"esriGeometryPolyline":{const e=c;f(p),f(y);const s=e.hasZ??!1,r=e.hasM??!1;return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertFromPolyline)(p,e),(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.generalizeOptimizedGeometry)(y,p,s,r,g,t.scale[0]),(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.quantizeOptimizedGeometry)(p,y,s,r,g,t),(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_5__.convertToPolyline)(p,e.hasZ??!1,e.hasM??!1)}case"esriGeometryMultipoint":{const i=c,u=.5*o*Math.max(Math.abs(this.size[0])+this.size[2]-this.size[0],Math.abs(this.size[1])+this.size[3]-this.size[1]),h=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.getInfo)(r);let a=i.points;if(h){const[t,r]=h.valid,i=r-t;a=a.filter((o=>{if(o[0]+u>r||o[0]-u<t){const t=[...o];return o[0]+u>r?t[0]-=i:t[0]+=i,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.containsPointWithMargin)(s,o,u)||(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.containsPointWithMargin)(s,t,u)}return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.containsPointWithMargin)(s,o,u)}))}return 0===a.length?{points:a}:(0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,{points:a})}}return (0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_3__.quantizeGeometry)(t,this.geometry)}}d._pool=[],d._set=new Set;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicsView2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ oe)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_BidiText_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/BidiText.js */ "./node_modules/@arcgis/core/core/BidiText.js");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/HandleOwner.js */ "./node_modules/@arcgis/core/core/HandleOwner.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Identifiable.js */ "./node_modules/@arcgis/core/core/Identifiable.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../geometry/support/normalizeUtilsSync.js */ "./node_modules/@arcgis/core/geometry/support/normalizeUtilsSync.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../layers/graphics/data/projectionSupport.js */ "./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js");
/* harmony import */ var _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../symbols/support/defaults.js */ "./node_modules/@arcgis/core/symbols/support/defaults.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _engine_webgl_GraphicTile_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../engine/webgl/GraphicTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/GraphicTile.js");
/* harmony import */ var _engine_webgl_TileData_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../engine/webgl/TileData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileData.js");
/* harmony import */ var _engine_webgl_WGLDisplayObject_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../engine/webgl/WGLDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLDisplayObject.js");
/* harmony import */ var _engine_webgl_mesh_MeshData_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../engine/webgl/mesh/MeshData.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/MeshData.js");
/* harmony import */ var _engine_webgl_mesh_factories_WGLMeshFactory_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../engine/webgl/mesh/factories/WGLMeshFactory.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/factories/WGLMeshFactory.js");
/* harmony import */ var _engine_webgl_mesh_templates_WGLTemplateStore_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../engine/webgl/mesh/templates/WGLTemplateStore.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/WGLTemplateStore.js");
/* harmony import */ var _engine_webgl_util_Matcher_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../engine/webgl/util/Matcher.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/Matcher.js");
/* harmony import */ var _features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../features/schemaUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/schemaUtils.js");
/* harmony import */ var _features_support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../features/support/AttributeStore.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js");
/* harmony import */ var _features_support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../features/support/ComputedAttributeStorage.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js");
/* harmony import */ var _features_support_GraphicsReader_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../features/support/GraphicsReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/GraphicsReader.js");
/* harmony import */ var _GraphicStore_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./GraphicStore.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicStore.js");
/* harmony import */ var _graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./graphicsUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js");
/* harmony import */ var _support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../support/cimSymbolUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/support/cimSymbolUtils.js");
/* harmony import */ var _webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../webgl/capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities.js");
/* harmony import */ var _features_createSymbolSchema_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../features/createSymbolSchema.js */ "./node_modules/@arcgis/core/views/2d/layers/features/createSymbolSchema.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const se=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_5__["default"])("esri-2d-graphic-debug");function ie(e,t,s){let i=s.get(e);return i||(i={tile:t,addedOrModified:[],removed:[]},s.set(e,i)),i}let re=class extends((0,_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_6__.IdentifiableMixin)((0,_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_4__.HandleOwnerMixin)(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]))){constructor(e){super(e),this._storage=new _features_support_ComputedAttributeStorage_js__WEBPACK_IMPORTED_MODULE_33__.ComputedAttributeStorage,this._displayIds=new Map,this._controller=new AbortController,this._tiles=new Map,this._graphicStoreUpdate=!1,this._graphicsSet=new Set,this._matcher=Promise.resolve(null),this._tileUpdateSet=new Set,this._tilesToUpdate=new Map,this._graphicIdToAbortController=new Map,this._attached=!1,this._updatingGraphicsTimer=null,this._hashToExpandedSymbol=new Map,this._hashToExpandedSymbolPromise=new Map,this._hashToCIMSymbolPromise=new Map,this._hashToCIM=new Map,this._processing=!1,this._needsProcessing=!1,this._pendingUpdate={added:new Set,updated:new Set,removed:new Set},this.lastUpdateId=-1,this.renderer=null,this.updateRequested=!1,this.defaultPointSymbolEnabled=!0,this.graphicUpdateHandler=this.graphicUpdateHandler.bind(this)}destroy(){this._updatingGraphicsTimer&&(clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=null,this.notifyChange("updating")),this._controller.abort(),this.container.destroy(),this._set("graphics",null),this._graphicStore.clear(),this._attributeStore=null,this._hashToExpandedSymbol.clear(),this.view=null,this.renderer=null,this._hashToCIM.clear(),this._hashToCIMSymbolPromise.clear(),this._hashToExpandedSymbolPromise.clear()}_createMatcher(e,t,s){if(e){const i=(0,_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_31__.createSymbolSchemaOptions)(e),r=(0,_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_31__.createMatcherSchema)({indexCount:0,fields:{}},"feature",e,i);this._matcher=(0,_engine_webgl_util_Matcher_js__WEBPACK_IMPORTED_MODULE_30__.createMatcher)(r,t,null,s)}}_createDisplayId(e){let t=this._displayIds.get(e);return t||(t=this._storage.createDisplayId(),this._displayIds.set(e,t)),t}initialize(){this._attributeStore=new _features_support_AttributeStore_js__WEBPACK_IMPORTED_MODULE_32__["default"]({type:"local",initialize:e=>Promise.resolve(this.container.attributeView.initialize(e)),update:e=>this.container.attributeView.requestUpdate(e),render:()=>this.container.requestRender()},(0,_webgl_capabilities_js__WEBPACK_IMPORTED_MODULE_38__.getWebGLCapabilities)("2d")),this.container.hasHighlight=()=>this._attributeStore.hasHighlight;const e=e=>{this._createDisplayId(e.uid),this._setFilterState(e.uid,e.visible)},t=e=>{const t=this._displayIds.get(e.uid);this._displayIds.delete(e.uid),this._storage.releaseDisplayId(t)},s=new _engine_webgl_mesh_templates_WGLTemplateStore_js__WEBPACK_IMPORTED_MODULE_29__.WGLTemplateStore(this.container.getMaterialItems.bind(this.container),this.view.featuresTilingScheme.tileInfo);this._graphicStore=new _GraphicStore_js__WEBPACK_IMPORTED_MODULE_35__["default"](this.view.featuresTilingScheme,this.view.state.scale,this.uid,this.graphics,e,t,this._hashToCIM),this._meshFactory=new _engine_webgl_mesh_factories_WGLMeshFactory_js__WEBPACK_IMPORTED_MODULE_28__.WGLMeshFactory(null,this.uid,s),this._templateStore=s,this.handles.add([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_9__.watch)((()=>this._effectiveRenderer),(e=>{this._createMatcher(e,s,this.container.stage.resourceManager);for(const t of this.graphics)this._pendingUpdate.updated.add(t);this.requestUpdate()})),this.view.graphicsTileStore.on("update",this._onTileUpdate.bind(this)),this.container.on("attach",(()=>{se&&this.container.enableRenderingBounds((()=>this._graphicStore.getAllBounds())),this.graphics.items.length>0&&this._graphicsChangeHandler({target:this.graphics,added:this.graphics.items,removed:[],moved:[]}),this.handles.add(this.graphics.on("change",(e=>this._graphicsChangeHandler(e))),"graphics");const e=this.container.stage.resourceManager;this._createMatcher(this._effectiveRenderer,s,e),this._graphicStore.setResourceManager(e),this._attached=!0,this.notifyChange("updating")}))]);const i=this.view.graphicsTileStore.tiles;this._onTileUpdate({added:i,removed:[]})}get _effectiveRenderer(){return"function"==typeof this.renderer?this.renderer():this.renderer}get updating(){return!this._attached||null!==this._updatingGraphicsTimer||this._pendingUpdate.added.size>0||this._pendingUpdate.removed.size>0||this._pendingUpdate.updated.size>0||this._tileUpdateSet.size>0||this._tilesToUpdate.size>0||this._attributeStore?.updatingHandles.updating||this._processing}hitTest(e){if(!this.view||this.view.suspended)return[];const{resolution:t,rotation:s}=this.view.state;return this._graphicStore.hitTest(e.x,e.y,2,t,s)}update(e){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const t=e.state,{resolution:s}=t;if(this._graphicStore.updateLevel(s),this._graphicStoreUpdate=!0,this.updateRequested=!1,this._pendingUpdate.updated.size>0){if(!this._processing)return void this._updateGraphics();this._needsProcessing=!0}}viewChange(){this.requestUpdate()}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.requestUpdateCallback())}processUpdate(e){this.updateRequested&&(this.updateRequested=!1,this.update(e))}graphicUpdateHandler(e){const{graphic:t,property:s}=e;switch(s){case"attributes":case"geometry":case"symbol":this._pendingUpdate.updated.add(t),this.requestUpdate();break;case"visible":this._setFilterState(t.uid,t.visible),this._attributeStore.sendUpdates()}}setHighlight(e){const t=e.map((e=>this._displayIds.get(e))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.isSome);this._attributeStore.setHighlight(e,t)}_getIntersectingTiles(e){const t=this._graphicStore.getBounds(e);if(!t||0===(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.width)(t)||0===(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.height)(t))return[];const s=(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.intersectingInternationalDateline)(t,this.view.spatialReference);return null!=s?[...new Set([...this.view.graphicsTileStore.boundsIntersections(s[0]),...this.view.graphicsTileStore.boundsIntersections(s[1])])]:this.view.graphicsTileStore.boundsIntersections(t)}async _updateTile(e){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const t=e.tile,s=this._getGraphicsData(this._templateStore,t,e.addedOrModified),i=await this._processGraphics(t,s);return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),this._patchTile(t.key,{type:"update",addOrUpdate:i,remove:e.removed,end:!0,clear:!1,sort:!1}),i}_patchTile(e,t){const s=this._tiles.get(e);s&&(this.container.onTileData(s,t),this.container.requestRender())}_graphicsChangeHandler(e){const t=this._pendingUpdate;for(const s of e.added)t.added.add(s);for(const s of e.moved)t.updated.add(s);for(const s of e.removed)this._pendingUpdate.added.has(s)?t.added.delete(s):t.removed.add(s);this._processing?this._needsProcessing=!0:this._updateGraphics()}_getGraphicsToUpdate(){const e={added:[],removed:[],updated:[]};if(!this.graphics)return e;const t=this._pendingUpdate;for(const s of this.graphics.items)t.added.has(s)?e.added.push(s):t.updated.has(s)&&e.updated.push(s);for(const s of t.removed)this._graphicStore.has(s)&&e.removed.push(s);return t.added.clear(),t.removed.clear(),t.updated.clear(),e}async _updateGraphics(){this._processing=!0;const{added:e,removed:t,updated:s}=this._getGraphicsToUpdate(),i=this._tilesToUpdate;let r;try{if(!this._graphicStoreUpdate){const e=this.view.state,{resolution:t}=e;this._graphicStore.updateLevel(t)}const o=[],a=new Array(e.length+t.length);for(let e=0;e<s.length;e++){const t=s[e],n=this._getIntersectingTiles(t);for(const e of n){r=e.id;ie(r,e,i).removed.push(this._displayIds.get(t.uid))}o.push(this._updateGraphic(t,null)),a[e]=t}const n=s.length;for(let t=0;t<e.length;t++){const s=e[t];a[n+t]=s,this._graphicsSet.add(s),o.push(this._addGraphic(s))}for(const e of t){this._abortProcessingGraphic(e.uid);const t=this._getIntersectingTiles(e);for(const s of t){r=s.id;ie(r,s,i).removed.push(this._displayIds.get(e.uid))}this._graphicsSet.delete(e),this._graphicStore.remove(e)}let h;this._flipUpdatingGraphics(),await Promise.all(o);for(let e=0;e<a.length;e++){h=a[e];const t=this._getIntersectingTiles(h);for(const e of t){r=e.id;ie(r,e,i).addedOrModified.push(h)}}this._graphicStore.updateZ();const l=[];for(const[e,t]of i)l.push(this._updateTile(t));await Promise.all(l)}catch(o){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(o),0}for(const a of t)try{const e=await this._getSymbolForGraphic(a,null);if(e){const t=e.hash();this._hashToExpandedSymbol.delete(t)}}catch(o){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(o),0}i.clear(),this.notifyChange("updating"),this._processing=!1,this._needsProcessing&&(this._needsProcessing=!1,this._updateGraphics())}_getArcadeInfo(e){const t=(e.attributes?Object.keys(e.attributes):[]).map((t=>({name:t,alias:t,type:"string"==typeof e.attributes[t]?"esriFieldTypeString":"esriFieldTypeDouble"})));return null==e.geometry?null:{geometryType:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.getJsonType)(e.geometry),spatialReference:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_13__["default"].fromJSON(e.geometry.spatialReference),fields:t}}_getSymbolForGraphic(e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),null!=e.symbol?Promise.resolve(e.symbol):null!=this._effectiveRenderer?this._effectiveRenderer.getSymbolAsync(e,{scale:this.view.state.scale,signal:null!=t?t.signal:null}):Promise.resolve(this._getNullSymbol(e))}_getCIMSymbol(e,t,s){let i=this._hashToCIM.get(t);if(i)return Promise.resolve(i);const r=(0,_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_20__.symbolToCIM)(e);if(null!=r){if("CIMSymbolReference"===r.type)return i=r,this._hashToCIM.set(t,i),Promise.resolve(i);let e=this._hashToCIMSymbolPromise.get(t);return e||(e=r.fetchCIMSymbol(s).then((e=>(this._hashToCIM.set(t,e.data),this._hashToCIMSymbolPromise.delete(t),e))).catch((e=>(this._hashToCIMSymbolPromise.delete(t),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(e),null))),this._hashToCIMSymbolPromise.set(t,e),e)}return Promise.resolve(null)}_expandCIMSymbol(e,t,s,i){const r=this._hashToExpandedSymbol.get(s);if(r)return Promise.resolve(r);let o=this._hashToExpandedSymbolPromise.get(s);if(o)return o;const a=this.container.stage,n=this._getArcadeInfo(t),h=(0,_features_schemaUtils_js__WEBPACK_IMPORTED_MODULE_31__.createSymbolSchemaOptions)(null),l=(0,_features_createSymbolSchema_js__WEBPACK_IMPORTED_MODULE_39__.createSymbolSchema)(e,h);return o=(0,_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_37__.expandSymbol)(l,n,a.resourceManager,i),this._hashToExpandedSymbolPromise.set(s,o),o.then((e=>(this._hashToExpandedSymbol.set(s,e),this._hashToExpandedSymbolPromise.delete(s),e))),o}async _getSymbolResources(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);return this.container.stage?this._getSymbolForGraphic(e,t).then((s=>{if(!s)return null;const r=s.hash();return this._getCIMSymbol(s,r,t).then((s=>null==s?null:this._expandCIMSymbol(s,e,r,t).then((e=>{const t=e.layers.filter((e=>"text"===e.type&&"string"==typeof e.text));if(t&&t.length>0){const s=new Array(t.length);for(let e=0;e<t.length;e++){const r=t[e],o=[],[a]=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_3__.bidiText)(r.text);r.text=a;for(let e=0;e<a.length;e++)o.push(a.charCodeAt(e));s[e]={symbol:r,id:e,glyphIds:o}}const o=new Map;return this.container.getMaterialItems(s).then((s=>{(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_7__.assertIsSome)(s);for(let e=0;e<t.length;e++){const i=t[e];o.set(i.cim,{text:i.text,mosaicItem:s[e].mosaicItem})}return{symbol:e,textInfo:o,hash:r}}))}return{symbol:e,hash:r}}))))})).catch((e=>((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAbortError)(e),null))):null}async _projectAndNormalizeGeometry(e,t){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),null==e.geometry||"mesh"===e.geometry.type)return null;let s=e.geometry;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPolygon)(s)){const e=s.rings;s.rings=e}else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPolyline)(s)){const e=s.paths;s.paths=e}else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isExtent)(s)){const i=await this._getSymbolForGraphic(e,t);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),i&&((0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.isMarkerSymbol)(i.type)||(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.isTextSymbol)(i.type))){s=s.center}else s=(0,_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.polygonFromExtent)(s)}await (0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_19__.checkProjectionSupport)(s.spatialReference,this.view.spatialReference);const i=(0,_geometry_support_normalizeUtilsSync_js__WEBPACK_IMPORTED_MODULE_17__.normalizeCentralMeridianForDisplay)(s),r=(0,_layers_graphics_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_19__.project)(i,s.spatialReference,this.view.spatialReference);return r&&(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_15__.closeRingsAndFixWinding)(r),r}_onTileUpdate(e){const t=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_18__.getInfo)(this.view.spatialReference);if(e.added&&e.added.length>0)for(const s of e.added)this._addNewTile(s,t);if(e.removed&&e.removed.length>0)for(const s of e.removed)this._removeTile(s.key)}async _addGraphic(e){this._abortProcessingGraphic(e.uid),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const t=new AbortController;this._graphicIdToAbortController.set(e.uid,t);const s={signal:t.signal};try{await this._addOrUpdateGraphic(e,s),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),this._graphicIdToAbortController.delete(e.uid)}catch(i){if(this._graphicIdToAbortController.delete(e.uid),!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(i))throw i}}_updateGraphic(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const s=this._projectAndNormalizeGeometry(e,t),i=this._getSymbolResources(e,t);return Promise.all([s,i]).then((([t,s])=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),this._graphicStore.addOrModify(e,s,t)}))}_addOrUpdateGraphic(e,t){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal);const s=this._projectAndNormalizeGeometry(e,t),i=this._getSymbolResources(e,t);return Promise.all([s,i]).then((([t,s])=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.throwIfAborted)(this._controller.signal),this._graphicsSet.has(e)&&this._graphicStore.addOrModify(e,s,t)}))}_addTile(e){const t=this.view.featuresTilingScheme.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.create)(),e),s=this.view.featuresTilingScheme.getTileResolution(e.level),i=new _engine_webgl_GraphicTile_js__WEBPACK_IMPORTED_MODULE_24__.GraphicTile(e,s,t[0],t[3]);return this._tiles.set(e,i),this.container.addChild(i),i}async _addNewTile(e,t){const s=this._addTile(e.key),i=this._graphicStore.queryTileData(this._templateStore,e);if(0===i.length)return;if(t){const s=Math.round((t.valid[1]-t.valid[0])/e.resolution);for(const e of i)e.geometry&&((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPoint)(e.geometry)||(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isMultipoint)(e.geometry))&&this._wrapPoints(e,s)}const r=e.key;this._tileUpdateSet.add(e.key),this.notifyChange("updating");try{const t={type:"update",clear:!1,addOrUpdate:await this._processGraphics(e,i),remove:[],end:!0,sort:!1};s.patch(t),this._tileUpdateSet.delete(r),this.notifyChange("updating")}catch(o){if(this._tileUpdateSet.delete(r),this.notifyChange("updating"),!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_8__.isAbortError)(o))throw o}}_removeTile(e){if(!this._tiles.has(e))return;const t=this._tiles.get(e);this.container.removeChild(t),t.destroy(),this._tiles.delete(e)}_setFilterState(e,t){const s=this._displayIds.get(e),i=this._attributeStore.getHighlightFlag(e);this._attributeStore.setData(s,0,0,i|(t?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__.FILTER_FLAG_0:0))}_getGraphicsData(e,t,s){const i=this.view,r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_18__.getInfo)(i.spatialReference),o=this._graphicStore.getGraphicsData(e,t,s);if(r){const e=Math.round((r.valid[1]-r.valid[0])/t.resolution);for(const t of o)t.geometry&&((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPoint)(t.geometry)||(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isMultipoint)(t.geometry))&&this._wrapPoints(t,e)}return o}_wrapPoints(e,t){const s=e.geometry;(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isMultipoint)(s)?this._wrapMultipoint(s,t):this._wrapPoint(e,t)}_wrapMultipoint(e,t){const s=e.points,i=[];let r=0,o=0;for(const[a,n]of s){if(i.push([a+r,n]),r=0,t===_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE){const e=5*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER;a+o<e?(i.push([t,0]),r=-t):a+o>_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE-e&&(i.push([-t,0]),r=t)}else a+o<-_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER?(i.push([t,0]),r=-t):a+o>_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE+_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER&&(i.push([-t,0]),r=t);o+=a}e.points=i}_wrapPoint(e,t){const s=e.geometry;if(t===_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE){const i=5*_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER;s.x<i?e.geometry={points:[[s.x,s.y],[t,0]]}:s.x>_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE-i&&(e.geometry={points:[[s.x,s.y],[-t,0]]})}else s.x<-_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER?e.geometry={points:[[s.x,s.y],[t,0]]}:s.x>_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.TILE_SIZE+_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_36__.PIXEL_BUFFER&&(e.geometry={points:[[s.x,s.y],[-t,0]]})}_processGraphics(e,t,s){if(!(t&&t.length)||!this._meshFactory)return Promise.resolve(null);const i=_features_support_GraphicsReader_js__WEBPACK_IMPORTED_MODULE_34__.GraphicsReader.from(t,this.uid,e.transform),r=this._meshFactory;return this._matcher.then((t=>r.analyzeGraphics(i,this.container.stage.resourceManager,t,null,null,s).then((()=>(this._attributeStore.sendUpdates(),this._processAnalyzedGraphics(e,i))))))}_processAnalyzedGraphics(e,t){const s=this._meshFactory,i=t.getSize(),r=t.getCursor(),o={features:i,records:i,metrics:0},a=new _engine_webgl_mesh_MeshData_js__WEBPACK_IMPORTED_MODULE_27__.MeshData(e.key.id,o,_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_23__.WGLSymbologyType.DEFAULT,!1,!1),n=[];for(;r.next();){const t=r.readGraphic();t.insertAfter=-1===t.insertAfter?-1:this._displayIds.get(t.insertAfter),t.displayId=this._displayIds.get(t.attributes[this.uid]);const i=new _engine_webgl_WGLDisplayObject_js__WEBPACK_IMPORTED_MODULE_26__["default"](t.displayId);i.insertAfter=t.insertAfter,n.push(i),s.writeGraphic(a,r,e.level,this.container.stage.resourceManager)}const h=e.tileInfoView.tileInfo.isWrappable,l=a.serialize(h);if(1!==l.length)return new _engine_webgl_TileData_js__WEBPACK_IMPORTED_MODULE_25__.TileData;const d=l[0].message;return _engine_webgl_TileData_js__WEBPACK_IMPORTED_MODULE_25__.TileData.fromVertexData(d,n)}_abortProcessingGraphic(e){this._graphicIdToAbortController.get(e)?.abort()}_getNullSymbol(e){const t=e.geometry;return (0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPolyline)(t)?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_21__.errorPolylineSymbol2D:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isPolygon)(t)||(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_16__.isExtent)(t)?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_21__.errorPolygonSymbol2D:this.defaultPointSymbolEnabled?_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_21__.errorPointSymbol2D:null}_flipUpdatingGraphics(){this._updatingGraphicsTimer&&clearTimeout(this._updatingGraphicsTimer),this._updatingGraphicsTimer=setTimeout((()=>{this._updatingGraphicsTimer=null,this.notifyChange("updating")}),160),this.notifyChange("updating")}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"_effectiveRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],re.prototype,"requestUpdateCallback",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"container",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)({constructOnly:!0})],re.prototype,"graphics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"renderer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"updateRequested",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__.property)()],re.prototype,"defaultPointSymbolEnabled",void 0),re=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_12__.subclass)("esri.views.2d.layers.support.GraphicsView2D")],re);const oe=re;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYjYwYjI0MTU0NWQxNTllMzFhNjMxMjdlNDFmM2M1MTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDJCQUEyQixjQUFjLDRCQUE0Qix1Q0FBdUMsa0JBQWtCLDRCQUE0Qiw4QkFBOEIsZ0JBQWdCLCtCQUErQixhQUFhLFdBQVcsYUFBYSxnQkFBZ0IsYUFBYSxnQkFBZ0IsYUFBYSxnQkFBZ0IsYUFBYSxnQkFBZ0IsMkVBQTJFLDJJQUEySSxxQkFBcUIsZUFBZSxHQUEwRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKcHVCO0FBQ0E7QUFDQTtBQUNBO0FBQzZaLGNBQWMsZUFBZSxjQUFjLGVBQWUsZ0JBQWdCLHVCQUF1Qiw2QkFBNkIsa0VBQUMsZ0NBQWdDLGVBQWUsUUFBUSx3RUFBQyxrQkFBa0IsK0RBQUMsV0FBVywrREFBQyxTQUFTLEdBQUcsc0RBQUMsb0JBQW9CLEdBQUcsMkRBQUMsa0RBQWtELEdBQUcsdURBQUMsa0JBQWtCLEdBQUcsd0RBQUMsS0FBSyx5REFBQyxLQUFLLFFBQVEsNERBQUMsU0FBUyx3Q0FBd0MsR0FBRyx5RUFBQywyQkFBMkIsNEVBQUMsTUFBTSxpRUFBaUUsU0FBUyxnQkFBZ0IsZUFBZSxrQ0FBa0MsOEVBQThFLHFHQUFxRyxrQkFBa0IscUJBQXFCLGFBQWEsUUFBUSxRQUFRLHlFQUFDLE1BQU0sZ0JBQWdCLGFBQWEsUUFBUSx5RUFBQyxNQUFNLGlCQUFpQixLQUFLLFlBQVksUUFBUSxRQUFRLHlFQUFDLE1BQU0sY0FBYyxhQUFhLFFBQVEseUVBQUMsTUFBTSxlQUFlLFNBQVMsZ0JBQWdCLFlBQVksNEJBQTRCLGtDQUFrQyxZQUFZLGNBQWMsY0FBYywwQkFBMEIsVUFBVSxTQUFTLGtDQUFrQyxJQUFJLGtDQUFrQyxJQUFJLDRCQUE0QixJQUFJLDRCQUE0QixXQUFXLHdFQUF3RSxjQUFjLElBQUksd0JBQXdCLHdEQUF3RCww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SUFBaUksWUFBWSwwRUFBQyxjQUFjLHVHQUF1Ryw2REFBNkQsMkJBQTJCLGdFQUFDLENBQUMscUJBQXFCLE9BQU8sK0VBQWdCLE1BQU0sMkJBQTJCLGlEQUFpRCxrQkFBa0IsbUJBQW1CLE9BQU8sMkVBQUMsSUFBSSxnRkFBQyxDQUFDLDBFQUFDLEtBQUsseUVBQUMsSUFBSSwrRUFBQyxnQ0FBZ0MsNkVBQUMsTUFBTSx3QkFBd0Isb0hBQW9ILCtEQUErRCx1Q0FBdUMsdURBQUMsRUFBRSx1RkFBQyw0Q0FBNEMsdURBQUMsRUFBRSx1RkFBQyxFQUFFLGlCQUFpQixnREFBZ0QsdURBQUMsRUFBRSx1RkFBQyxxQ0FBcUMsdURBQUMsRUFBRSx1RkFBQyxFQUFFLGlCQUFpQixtQ0FBbUMsdURBQUMsRUFBRSx1RkFBQyxvQ0FBb0MsdURBQUMsRUFBRSx1RkFBQyxrQ0FBa0MsdURBQUMsRUFBRSx1RkFBQyxnQ0FBZ0MsdURBQUMsRUFBRSx1RkFBQywyQ0FBMkMsdURBQUMsRUFBRSx1RkFBQyx3REFBd0QsdURBQUMsRUFBRSx1RkFBQyxxREFBcUQsWUFBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jaHVua3MvdmVjM2YzMi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9nZW9tZXRyeS9zdXBwb3J0L25vcm1hbGl6ZVV0aWxzU3luYy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvRGlydHlNYXAuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0Rpc3BsYXlSZWNvcmRTdG9yZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvRnJlZUxpc3QuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL0dyYXBoaWNEaXNwbGF5TGlzdC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvR3JhcGhpY1RpbGUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL01lbW9yeVJlcXVpcmVtZW50cy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvTWVzaERhdGEuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL1RpbGVCdWZmZXJEYXRhLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9UaWxlRGF0YS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvVGlsZURpc3BsYXlEYXRhLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9XR0xCdWZmZXJzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9XR0xEaXNwbGF5T2JqZWN0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9XR0xEaXNwbGF5UmVjb3JkLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9tZXNoL1ZlcnRleEJ1ZmZlci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvbWVzaC9WZXJ0ZXhWZWN0b3IuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3V0aWwvc2VyaWFsaXphdGlvblV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0dyYXBoaWNzUmVhZGVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9ncmFwaGljcy9HcmFwaGljU3RvcmUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2dyYXBoaWNzL0dyYXBoaWNTdG9yZUl0ZW0uanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2dyYXBoaWNzL0dyYXBoaWNzVmlldzJELmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBuKCl7cmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyl9ZnVuY3Rpb24gdChuKXtjb25zdCB0PW5ldyBGbG9hdDMyQXJyYXkoMyk7cmV0dXJuIHRbMF09blswXSx0WzFdPW5bMV0sdFsyXT1uWzJdLHR9ZnVuY3Rpb24gcihuLHQscil7Y29uc3QgZT1uZXcgRmxvYXQzMkFycmF5KDMpO3JldHVybiBlWzBdPW4sZVsxXT10LGVbMl09cixlfWZ1bmN0aW9uIGUobix0KXtyZXR1cm4gbmV3IEZsb2F0MzJBcnJheShuLHQsMyl9ZnVuY3Rpb24gYSgpe3JldHVybiBuKCl9ZnVuY3Rpb24gbygpe3JldHVybiByKDEsMSwxKX1mdW5jdGlvbiB1KCl7cmV0dXJuIHIoMSwwLDApfWZ1bmN0aW9uIHMoKXtyZXR1cm4gcigwLDEsMCl9ZnVuY3Rpb24gYygpe3JldHVybiByKDAsMCwxKX1jb25zdCBpPWEoKSxmPW8oKSxsPXUoKSxfPXMoKSx5PWMoKSx3PU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxPTkVTOmYsVU5JVF9YOmwsVU5JVF9ZOl8sVU5JVF9aOnksWkVST1M6aSxjbG9uZTp0LGNyZWF0ZTpuLGNyZWF0ZVZpZXc6ZSxmcm9tVmFsdWVzOnIsb25lczpvLHVuaXRYOnUsdW5pdFk6cyx1bml0WjpjLHplcm9zOmF9LFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pKTtleHBvcnR7ZiBhcyBPLGwgYXMgVSxpIGFzIFosZSBhcyBhLHQgYXMgYixuIGFzIGMscyBhcyBkLGMgYXMgZSxyIGFzIGYsXyBhcyBnLHkgYXMgaCxvLHUsdyBhcyB2LGEgYXMgen07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZSBhcyB0fWZyb21cIi4vYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7Z2V0Qm91bmRzWFkgYXMgaX1mcm9tXCIuL2JvdW5kc1V0aWxzLmpzXCI7aW1wb3J0e2Nsb3NlUmluZ3MgYXMgc31mcm9tXCIuL2Nvb3Jkc1V0aWxzLmpzXCI7aW1wb3J0e2lzUG9pbnQgYXMgbixpc011bHRpcG9pbnQgYXMgZSxpc0V4dGVudCBhcyBoLGlzUG9seWdvbiBhcyBvLGlzUG9seWxpbmUgYXMgcn1mcm9tXCIuL2pzb25VdGlscy5qc1wiO2ltcG9ydHtjdXRQYXJhbXMgYXMgdSx1cGRhdGVQb2x5R2VvbWV0cnkgYXMgbSxvZmZzZXRNYWduaXR1ZGUgYXMgeH1mcm9tXCIuL25vcm1hbGl6ZVV0aWxzQ29tbW9uLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgXyxpc1dlYk1lcmNhdG9yIGFzIGx9ZnJvbVwiLi9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtmdW5jdGlvbiBjKHQpe3JldHVybiBwKHQsITApfWZ1bmN0aW9uIGEodCl7cmV0dXJuIHAodCwhMSl9ZnVuY3Rpb24gcCh0LHMpe2lmKG51bGw9PXQpcmV0dXJuIG51bGw7Y29uc3QgYz10LnNwYXRpYWxSZWZlcmVuY2UsYT1fKGMpLHA9XCJ0b0pTT05cImluIHQ/dC50b0pTT04oKTp0O2lmKCFhKXJldHVybiBwO2NvbnN0IHk9bChjKT8xMDIxMDA6NDMyNixJPXVbeV0ubWF4WCxnPXVbeV0ubWluWDtpZihuKHApKXJldHVybiBkKHAsSSxnKTtpZihlKHApKXJldHVybiBwLnBvaW50cz1wLnBvaW50cy5tYXAoKHQ9PmQodCxJLGcpKSkscDtpZihoKHApKXJldHVybiBmKHAsYSk7aWYobyhwKXx8cihwKSl7Y29uc3QgdD1pKEMscCksbj17eG1pbjp0WzBdLHltaW46dFsxXSx4bWF4OnRbMl0seW1heDp0WzNdfSxlPXgobi54bWluLGcpKigyKkkpLGg9MD09PWU/cDptKHAsZSk7cmV0dXJuIG4ueG1pbis9ZSxuLnhtYXgrPWUsbi54bWF4Pkk/TyhoLEkscyk6bi54bWluPGc/TyhoLGcscyk6aH1yZXR1cm4gcH1mdW5jdGlvbiBmKHQsaSl7aWYoIWkpcmV0dXJuIHQ7Y29uc3Qgcz15KHQsaSkubWFwKCh0PT50LmV4dGVudCkpO3JldHVybiBzLmxlbmd0aDwyP3NbMF18fHQ6cy5sZW5ndGg+Mj8odC54bWluPWkudmFsaWRbMF0sdC54bWF4PWkudmFsaWRbMV0sdCk6e3JpbmdzOnMubWFwKCh0PT5bW3QueG1pbix0LnltaW5dLFt0LnhtaW4sdC55bWF4XSxbdC54bWF4LHQueW1heF0sW3QueG1heCx0LnltaW5dLFt0LnhtaW4sdC55bWluXV0pKX19ZnVuY3Rpb24gZCh0LGkscyl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3Qgbj10WzBdO2lmKG4+aSl7Y29uc3Qgcz14KG4saSk7dFswXT1uK3MqKC0yKmkpfWVsc2UgaWYobjxzKXtjb25zdCBpPXgobixzKTt0WzBdPW4raSooLTIqcyl9fWVsc2V7Y29uc3Qgbj10Lng7aWYobj5pKXtjb25zdCBzPXgobixpKTt0LngrPXMqKC0yKmkpfWVsc2UgaWYobjxzKXtjb25zdCBpPXgobixzKTt0LngrPWkqKC0yKnMpfX1yZXR1cm4gdH1mdW5jdGlvbiB5KHQsaSl7Y29uc3Qgcz1bXSx7eW1pbjpuLHltYXg6ZSx4bWluOmgseG1heDpvfT10LHI9dC54bWF4LXQueG1pbixbdSxtXT1pLnZhbGlkLHt4LGZyYW1lSWQ6X309SSh0LnhtaW4saSkse3g6bCxmcmFtZUlkOmN9PUkodC54bWF4LGkpLGE9eD09PWwmJnI+MDtpZihyPjIqbSl7Y29uc3QgdD17eG1pbjpoPG8/eDpsLHltaW46bix4bWF4Om0seW1heDplfSxpPXt4bWluOnUseW1pbjpuLHhtYXg6aDxvP2w6eCx5bWF4OmV9LHI9e3htaW46MCx5bWluOm4seG1heDptLHltYXg6ZX0sYT17eG1pbjp1LHltaW46bix4bWF4OjAseW1heDplfSxwPVtdLGY9W107Zyh0LHIpJiZwLnB1c2goXyksZyh0LGEpJiZmLnB1c2goXyksZyhpLHIpJiZwLnB1c2goYyksZyhpLGEpJiZmLnB1c2goYyk7Zm9yKGxldCBzPV8rMTtzPGM7cysrKXAucHVzaChzKSxmLnB1c2gocyk7cy5wdXNoKG5ldyBQKHQsW19dKSxuZXcgUChpLFtjXSksbmV3IFAocixwKSxuZXcgUChhLGYpKX1lbHNlIHg+bHx8YT9zLnB1c2gobmV3IFAoe3htaW46eCx5bWluOm4seG1heDptLHltYXg6ZX0sW19dKSxuZXcgUCh7eG1pbjp1LHltaW46bix4bWF4OmwseW1heDplfSxbY10pKTpzLnB1c2gobmV3IFAoe3htaW46eCx5bWluOm4seG1heDpsLHltYXg6ZX0sW19dKSk7cmV0dXJuIHN9ZnVuY3Rpb24gSSh0LGkpe2NvbnN0W3Msbl09aS52YWxpZCxlPTIqbjtsZXQgaCxvPTA7cmV0dXJuIHQ+bj8oaD1NYXRoLmNlaWwoTWF0aC5hYnModC1uKS9lKSx0LT1oKmUsbz1oKTp0PHMmJihoPU1hdGguY2VpbChNYXRoLmFicyh0LXMpL2UpLHQrPWgqZSxvPS1oKSx7eDp0LGZyYW1lSWQ6b319ZnVuY3Rpb24gZyh0LGkpe2NvbnN0e3htaW46cyx5bWluOm4seG1heDplLHltYXg6aH09aTtyZXR1cm4gdih0LHMsbikmJnYodCxzLGgpJiZ2KHQsZSxoKSYmdih0LGUsbil9ZnVuY3Rpb24gdih0LGkscyl7cmV0dXJuIGk+PXQueG1pbiYmaTw9dC54bWF4JiZzPj10LnltaW4mJnM8PXQueW1heH1mdW5jdGlvbiBPKHQsaSxuPSEwKXtjb25zdCBlPSFyKHQpO2lmKGUmJnModCksbil7cmV0dXJuKG5ldyBTKS5jdXQodCxpKX1jb25zdCBoPWU/dC5yaW5nczp0LnBhdGhzLG89ZT80OjIsdT1oLmxlbmd0aCxtPS0yKmk7Zm9yKGxldCBzPTA7czx1O3MrKyl7Y29uc3QgdD1oW3NdO2lmKHQmJnQubGVuZ3RoPj1vKXtjb25zdCBpPVtdO2Zvcihjb25zdCBzIG9mIHQpaS5wdXNoKFtzWzBdK20sc1sxXV0pO2gucHVzaChpKX19cmV0dXJuIGU/dC5yaW5ncz1oOnQucGF0aHM9aCx0fWNsYXNzIFB7Y29uc3RydWN0b3IodCxpKXt0aGlzLmV4dGVudD10LHRoaXMuZnJhbWVJZHM9aX19Y29uc3QgQz10KCk7Y2xhc3MgU3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2xpbmVzSW49W10sdGhpcy5fbGluZXNPdXQ9W119Y3V0KHQsaSl7bGV0IHM7aWYodGhpcy5feEN1dD1pLHQucmluZ3MpdGhpcy5fY2xvc2VkPSEwLHM9dC5yaW5ncyx0aGlzLl9taW5QdHM9NDtlbHNle2lmKCF0LnBhdGhzKXJldHVybiBudWxsO3RoaXMuX2Nsb3NlZD0hMSxzPXQucGF0aHMsdGhpcy5fbWluUHRzPTJ9Zm9yKGNvbnN0IGUgb2Ygcyl7aWYoIWV8fGUubGVuZ3RoPHRoaXMuX21pblB0cyljb250aW51ZTtsZXQgdD0hMDtmb3IoY29uc3QgaSBvZiBlKXQ/KHRoaXMubW92ZVRvKGkpLHQ9ITEpOnRoaXMubGluZVRvKGkpO3RoaXMuX2Nsb3NlZCYmdGhpcy5jbG9zZSgpfXRoaXMuX3B1c2hMaW5lSW4oKSx0aGlzLl9wdXNoTGluZU91dCgpLHM9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5fbGluZXNJbillJiZlLmxlbmd0aD49dGhpcy5fbWluUHRzJiZzLnB1c2goZSk7Y29uc3Qgbj0tMip0aGlzLl94Q3V0O2Zvcihjb25zdCBlIG9mIHRoaXMuX2xpbmVzT3V0KWlmKGUmJmUubGVuZ3RoPj10aGlzLl9taW5QdHMpe2Zvcihjb25zdCB0IG9mIGUpdFswXSs9bjtzLnB1c2goZSl9cmV0dXJuIHRoaXMuX2Nsb3NlZD90LnJpbmdzPXM6dC5wYXRocz1zLHR9bW92ZVRvKHQpe3RoaXMuX3B1c2hMaW5lSW4oKSx0aGlzLl9wdXNoTGluZU91dCgpLHRoaXMuX3ByZXZTaWRlPXRoaXMuX3NpZGUodFswXSksdGhpcy5fbW92ZVRvKHRbMF0sdFsxXSx0aGlzLl9wcmV2U2lkZSksdGhpcy5fcHJldlB0PXQsdGhpcy5fZmlyc3RQdD10fWxpbmVUbyh0KXtjb25zdCBpPXRoaXMuX3NpZGUodFswXSk7aWYoaSp0aGlzLl9wcmV2U2lkZT09LTEpe2NvbnN0IHM9dGhpcy5faW50ZXJzZWN0KHRoaXMuX3ByZXZQdCx0KTt0aGlzLl9saW5lVG8odGhpcy5feEN1dCxzLDApLHRoaXMuX3ByZXZTaWRlPTAsdGhpcy5fbGluZVRvKHRbMF0sdFsxXSxpKX1lbHNlIHRoaXMuX2xpbmVUbyh0WzBdLHRbMV0saSk7dGhpcy5fcHJldlNpZGU9aSx0aGlzLl9wcmV2UHQ9dH1jbG9zZSgpe2NvbnN0IHQ9dGhpcy5fZmlyc3RQdCxpPXRoaXMuX3ByZXZQdDt0WzBdPT09aVswXSYmdFsxXT09PWlbMV18fHRoaXMubGluZVRvKHQpLHRoaXMuX2NoZWNrQ2xvc2luZ1B0KHRoaXMuX2xpbmVJbiksdGhpcy5fY2hlY2tDbG9zaW5nUHQodGhpcy5fbGluZU91dCl9X21vdmVUbyh0LGkscyl7dGhpcy5fY2xvc2VkPyh0aGlzLl9saW5lSW4ucHVzaChbczw9MD90OnRoaXMuX3hDdXQsaV0pLHRoaXMuX2xpbmVPdXQucHVzaChbcz49MD90OnRoaXMuX3hDdXQsaV0pKTooczw9MCYmdGhpcy5fbGluZUluLnB1c2goW3QsaV0pLHM+PTAmJnRoaXMuX2xpbmVPdXQucHVzaChbdCxpXSkpfV9saW5lVG8odCxpLHMpe3RoaXMuX2Nsb3NlZD8odGhpcy5fYWRkUG9seVZlcnRleCh0aGlzLl9saW5lSW4sczw9MD90OnRoaXMuX3hDdXQsaSksdGhpcy5fYWRkUG9seVZlcnRleCh0aGlzLl9saW5lT3V0LHM+PTA/dDp0aGlzLl94Q3V0LGkpKTpzPDA/KDA9PT10aGlzLl9wcmV2U2lkZSYmdGhpcy5fcHVzaExpbmVPdXQoKSx0aGlzLl9saW5lSW4ucHVzaChbdCxpXSkpOnM+MD8oMD09PXRoaXMuX3ByZXZTaWRlJiZ0aGlzLl9wdXNoTGluZUluKCksdGhpcy5fbGluZU91dC5wdXNoKFt0LGldKSk6dGhpcy5fcHJldlNpZGU8MD8odGhpcy5fbGluZUluLnB1c2goW3QsaV0pLHRoaXMuX2xpbmVPdXQucHVzaChbdCxpXSkpOnRoaXMuX3ByZXZTaWRlPjAmJih0aGlzLl9saW5lT3V0LnB1c2goW3QsaV0pLHRoaXMuX2xpbmVJbi5wdXNoKFt0LGldKSl9X2FkZFBvbHlWZXJ0ZXgodCxpLHMpe2NvbnN0IG49dC5sZW5ndGg7bj4xJiZ0W24tMV1bMF09PT1pJiZ0W24tMl1bMF09PT1pP3Rbbi0xXVsxXT1zOnQucHVzaChbaSxzXSl9X2NoZWNrQ2xvc2luZ1B0KHQpe2NvbnN0IGk9dC5sZW5ndGg7aT4zJiZ0WzBdWzBdPT09dGhpcy5feEN1dCYmdFtpLTJdWzBdPT09dGhpcy5feEN1dCYmdFsxXVswXT09PXRoaXMuX3hDdXQmJih0WzBdWzFdPXRbaS0yXVsxXSx0LnBvcCgpKX1fc2lkZSh0KXtyZXR1cm4gdDx0aGlzLl94Q3V0Py0xOnQ+dGhpcy5feEN1dD8xOjB9X2ludGVyc2VjdCh0LGkpe2NvbnN0IHM9KHRoaXMuX3hDdXQtdFswXSkvKGlbMF0tdFswXSk7cmV0dXJuIHRbMV0rcyooaVsxXS10WzFdKX1fcHVzaExpbmVJbigpe3RoaXMuX2xpbmVJbiYmdGhpcy5fbGluZUluLmxlbmd0aD49dGhpcy5fbWluUHRzJiZ0aGlzLl9saW5lc0luLnB1c2godGhpcy5fbGluZUluKSx0aGlzLl9saW5lSW49W119X3B1c2hMaW5lT3V0KCl7dGhpcy5fbGluZU91dCYmdGhpcy5fbGluZU91dC5sZW5ndGg+PXRoaXMuX21pblB0cyYmdGhpcy5fbGluZXNPdXQucHVzaCh0aGlzLl9saW5lT3V0KSx0aGlzLl9saW5lT3V0PVtdfX1leHBvcnR7UyBhcyBDdXRWZXJ0aWNhbCxhIGFzIG5vcm1hbGl6ZUNlbnRyYWxNZXJpZGlhbkZvckRpc3BsYXksYyBhcyBub3JtYWxpemVDZW50cmFsTWVyaWRpYW5TeW5jfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jb25zdCB0PS0xO2NsYXNzIGV7Y29uc3RydWN0b3IoKXt0aGlzLl9kaXJ0aWVzPVt7dmVydGV4RnJvbTp0LHZlcnRleENvdW50OnQsaW5kZXhGcm9tOnQsaW5kZXhDb3VudDp0LGFsbERpcnR5OiExfSx7dmVydGV4RnJvbTp0LHZlcnRleENvdW50OnQsaW5kZXhGcm9tOnQsaW5kZXhDb3VudDp0LGFsbERpcnR5OiExfSx7dmVydGV4RnJvbTp0LHZlcnRleENvdW50OnQsaW5kZXhGcm9tOnQsaW5kZXhDb3VudDp0LGFsbERpcnR5OiExfSx7dmVydGV4RnJvbTp0LHZlcnRleENvdW50OnQsaW5kZXhGcm9tOnQsaW5kZXhDb3VudDp0LGFsbERpcnR5OiExfSx7dmVydGV4RnJvbTp0LHZlcnRleENvdW50OnQsaW5kZXhGcm9tOnQsaW5kZXhDb3VudDp0LGFsbERpcnR5OiExfV19aGFzRGlydHkoKXtyZXR1cm4gdGhpcy5fZGlydGllcy5zb21lKChlPT5lLmluZGV4Q291bnQhPT10fHxlLmFsbERpcnR5KSl9bWFya0FsbENsZWFuKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZGlydGllcyllLmluZGV4RnJvbT10LGUuaW5kZXhDb3VudD10LGUudmVydGV4RnJvbT10LGUudmVydGV4Q291bnQ9dCxlLmFsbERpcnR5PSExfW1hcmtBbGxEaXJ0eSgpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2RpcnRpZXMpdC5hbGxEaXJ0eT0hMH1mb3JFYWNoKGUpe2ZvcihsZXQgcj0wO3I8dGhpcy5fZGlydGllcy5sZW5ndGg7KytyKXtjb25zdHtpbmRleENvdW50OmksaW5kZXhGcm9tOm8sdmVydGV4Q291bnQ6bix2ZXJ0ZXhGcm9tOngsYWxsRGlydHk6bH09dGhpcy5fZGlydGllc1tyXSxzPXt9O2xldCBkLG09ITE7KGx8fHghPT10JiZuPjApJiYocy5nZW9tZXRyeT17Y291bnQ6bixmcm9tOngsYWxsRGlydHk6bH0sbT0hMCksKGx8fG8hPT10JiZpPjApJiYoZD17Y291bnQ6aSxmcm9tOm8sYWxsRGlydHk6bH0sbT0hMCksbSYmZSh7aW5kaWNlczpkLHZlcnRpY2VzOnN9LHIpfX1tYXJrRGlydHlJbmRpY2VzKGUscixpKXtjb25zdCBvPXRoaXMuX2RpcnRpZXNbZV0sbj1yLHg9aTtpZighby5hbGxEaXJ0eSlpZihvLmluZGV4Q291bnQhPT10KXtjb25zdCB0PU1hdGgubWluKG8uaW5kZXhGcm9tLG4pLGU9TWF0aC5tYXgoby5pbmRleEZyb20rby5pbmRleENvdW50LG4reCktdDtvLmluZGV4RnJvbT10LG8uaW5kZXhDb3VudD1lfWVsc2Ugby5pbmRleEZyb209bixvLmluZGV4Q291bnQ9eH1tYXJrRGlydHlWZXJ0aWNlcyhlLHIsaSxvKXtjb25zdCBuPXRoaXMuX2RpcnRpZXNbZV0seD1pLGw9bztpZighbi5hbGxEaXJ0eSlpZihuLnZlcnRleENvdW50IT09dCl7Y29uc3QgdD1NYXRoLm1pbihuLnZlcnRleEZyb20seCksZT1NYXRoLm1heChuLnZlcnRleEZyb20rbi52ZXJ0ZXhDb3VudCx4K2wpLXQ7bi52ZXJ0ZXhGcm9tPXQsbi52ZXJ0ZXhDb3VudD1lfWVsc2Ugbi52ZXJ0ZXhGcm9tPXgsbi52ZXJ0ZXhDb3VudD1sfX1leHBvcnR7ZSBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e0ZyZWVMaXN0IGFzIGV9ZnJvbVwiLi9GcmVlTGlzdC5qc1wiO2ltcG9ydHthbGxvY2F0ZVR5cGVkQXJyYXlCdWZmZXIgYXMgdCxzdHJpZGVUb1BhY2tpbmdGYWN0b3IgYXMgcixjb3B5TWVzaERhdGEgYXMgaX1mcm9tXCIuL1V0aWxzLmpzXCI7Y29uc3Qgcz1bXCJGSUxMXCIsXCJMSU5FXCIsXCJNQVJLRVJcIixcIlRFWFRcIixcIkxBQkVMXCJdO2Z1bmN0aW9uIG8oZSl7Y29uc3QgdD1lLmdldFN0cmlkZXMoKSxyPXt9O2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXJbc1tpXV09dFtpXTtyZXR1cm4gcn1jb25zdCBuPS41O2NsYXNzIGR7Y29uc3RydWN0b3IocixpLHMsbyl7dGhpcy5fc3RyaWRlcz1yLHRoaXMuX2Rpc3BsYXlMaXN0PWksdGhpcy5fZnJlZUxpc3RzQW5kU3RvcmFnZT17fSx0aGlzLl9kaXJ0eU1hcD1udWxsLHRoaXMuX2RpcnR5TWFwPXM7Zm9yKGNvbnN0IG4gaW4gcil7dGhpcy5fZnJlZUxpc3RzQW5kU3RvcmFnZVtuXT17dnR4RnJlZUxpc3Q6bz9uZXcgZShvKTpudWxsLGlkeEZyZWVMaXN0Om8/bmV3IGUobyk6bnVsbCx2ZXJ0ZXhCdWZmZXJzOnt9LGluZGV4QnVmZmVyOm8/bmV3IFVpbnQzMkFycmF5KG8pOm51bGx9O2Zvcihjb25zdCBlIGluIHJbbl0pdGhpcy5fZnJlZUxpc3RzQW5kU3RvcmFnZVtuXS52ZXJ0ZXhCdWZmZXJzW2VdPXtkYXRhOm8/dChvLHJbbl1bZV0pOm51bGwsc3RyaWRlOnJbbl1bZV19fX1zdGF0aWMgZnJvbVRpbGVEYXRhKHQsaSl7Y29uc3Qgbj1vKHQpLGE9WzAsMCwwLDAsMF0seD1bMCwwLDAsMCwwXTtmb3IoY29uc3QgZSBvZiB0LnRpbGVEaXNwbGF5RGF0YS5kaXNwbGF5T2JqZWN0cylmb3IoY29uc3QgdCBvZiBlLmRpc3BsYXlSZWNvcmRzKWFbdC5nZW9tZXRyeVR5cGVdPU1hdGgubWF4KGFbdC5nZW9tZXRyeVR5cGVdLHQudmVydGV4RnJvbSt0LnZlcnRleENvdW50KSx4W3QuZ2VvbWV0cnlUeXBlXT1NYXRoLm1heCh4W3QuZ2VvbWV0cnlUeXBlXSx0LmluZGV4RnJvbSt0LmluZGV4Q291bnQpO2NvbnN0IHU9bmV3IGQobix0LnRpbGVEaXNwbGF5RGF0YS5kaXNwbGF5TGlzdCxpLHZvaWQgMCksZj10LnRpbGVCdWZmZXJEYXRhPy5nZW9tZXRyaWVzPz9bXTtmb3IobGV0IG89MDtvPGYubGVuZ3RoOysrbyl7Y29uc3QgdD1hW29dLGk9eFtvXSxuPWZbb10sZD1zW29dLGM9dS5fc3RvcmFnZUZvcihkKSxsPWZbb10uaW5kZXhCdWZmZXI7Yy5pbmRleEJ1ZmZlcj1sLGMuaWR4RnJlZUxpc3Q9bmV3IGUobC5sZW5ndGgpLGMuaWR4RnJlZUxpc3QuYWxsb2NhdGUoaSk7bGV0IG09MDtmb3IoY29uc3QgZSBpbiBuLnZlcnRleEJ1ZmZlcil7Y29uc3QgdD1mW29dLnZlcnRleEJ1ZmZlcltlXTtjLnZlcnRleEJ1ZmZlcnNbZV0uZGF0YT10LmRhdGEsYy52ZXJ0ZXhCdWZmZXJzW2VdLnN0cmlkZT10LnN0cmlkZTtjb25zdCBpPXIodC5zdHJpZGUpLHM9dC5kYXRhLmxlbmd0aCppL3Quc3RyaWRlO218fChtPXMpfWMudnR4RnJlZUxpc3Q9bmV3IGUobSksYy52dHhGcmVlTGlzdC5hbGxvY2F0ZSh0KX1yZXR1cm4gdX1kZWxldGUoZSl7Y29uc3QgdD1zW2UuZ2VvbWV0cnlUeXBlXTt0aGlzLl9mcmVlVmVydGljZXModCxlLnZlcnRleEZyb20sZS52ZXJ0ZXhDb3VudCksdGhpcy5fZnJlZUluZGljZXModCxlLmluZGV4RnJvbSxlLmluZGV4Q291bnQpLHRoaXMuX2Rpc3BsYXlMaXN0LnJlbW92ZUZyb21MaXN0KGUpLGUudmVydGV4RnJvbT12b2lkIDAsZS5pbmRleEZyb209dm9pZCAwfXNldE1lc2hEYXRhKGUsdCxyLG8sbil7Y29uc3QgZD1zW2UuZ2VvbWV0cnlUeXBlXTtsZXQgYSx4O2UubWVzaERhdGE9bnVsbCx2b2lkIDA9PT1lLnZlcnRleEZyb20/KHg9dC52ZXJ0ZXhDb3VudCxhPXRoaXMuX2FsbG9jYXRlVmVydGljZXMoZCx4KSk6dC52ZXJ0ZXhDb3VudD5lLnZlcnRleENvdW50Pyh0aGlzLl9mcmVlVmVydGljZXMoZCxlLnZlcnRleEZyb20sZS52ZXJ0ZXhDb3VudCkseD10LnZlcnRleENvdW50LGE9dGhpcy5fYWxsb2NhdGVWZXJ0aWNlcyhkLHgpKTp0LnZlcnRleENvdW50PT09ZS52ZXJ0ZXhDb3VudD8oYT1lLnZlcnRleEZyb20seD1lLnZlcnRleENvdW50KToodGhpcy5fZnJlZVZlcnRpY2VzKGQsZS52ZXJ0ZXhGcm9tK3QudmVydGV4Q291bnQsZS52ZXJ0ZXhDb3VudC10LnZlcnRleENvdW50KSxhPWUudmVydGV4RnJvbSx4PXQudmVydGV4Q291bnQpO2xldCB1LGYsYyxsPSEwO2lmKHZvaWQgMD09PWUuaW5kZXhGcm9tPyh1PW4sYz10LmluZGV4Q291bnQsZj10aGlzLl9hbGxvY2F0ZUluZGljZXMoZCxjKSk6dC5pbmRleENvdW50PmUuaW5kZXhDb3VudD8odT10aGlzLl9kaXNwbGF5TGlzdC5yZW1vdmVGcm9tTGlzdChlKSx0aGlzLl9mcmVlSW5kaWNlcyhkLGUuaW5kZXhGcm9tLGUuaW5kZXhDb3VudCksYz10LmluZGV4Q291bnQsZj10aGlzLl9hbGxvY2F0ZUluZGljZXMoZCxjKSk6dC5pbmRleENvdW50PT09ZS5pbmRleENvdW50PyhsPSExLGY9ZS5pbmRleEZyb20sYz1lLmluZGV4Q291bnQpOih1PXRoaXMuX2Rpc3BsYXlMaXN0LnJlbW92ZUZyb21MaXN0KGUpLHRoaXMuX2ZyZWVJbmRpY2VzKGQsZS5pbmRleEZyb20rdC5pbmRleENvdW50LGUuaW5kZXhDb3VudC10LmluZGV4Q291bnQpLGY9ZS5pbmRleEZyb20sYz10LmluZGV4Q291bnQpLC0xIT09YSYmLTEhPT1mKXtjb25zdCBzPXRoaXMuX3N0b3JhZ2VGb3IoZCk7aWYoaShhLGYscy52ZXJ0ZXhCdWZmZXJzLHMuaW5kZXhCdWZmZXIsdCxyLG8pLGUudmVydGV4RnJvbT1hLGUuaW5kZXhGcm9tPWYsZS52ZXJ0ZXhDb3VudD10LnZlcnRleENvdW50LGUuaW5kZXhDb3VudD10LmluZGV4Q291bnQsdGhpcy5fZGlydHlNYXApe3RoaXMuX2RpcnR5TWFwLm1hcmtEaXJ0eUluZGljZXMoZS5nZW9tZXRyeVR5cGUsZS5pbmRleEZyb20sZS5pbmRleENvdW50KTtmb3IoY29uc3QgdCBpbiByKXRoaXMuX2RpcnR5TWFwLm1hcmtEaXJ0eVZlcnRpY2VzKGUuZ2VvbWV0cnlUeXBlLHQsZS52ZXJ0ZXhGcm9tLGUudmVydGV4Q291bnQpfXJldHVybiBsJiZ0aGlzLl9kaXNwbGF5TGlzdC5hZGRUb0xpc3QoZSx1KSwhMH1yZXR1cm4tMSE9PWEmJnRoaXMuX2ZyZWVWZXJ0aWNlcyhkLGEseCksLTEhPT1mJiZ0aGlzLl9mcmVlSW5kaWNlcyhkLGYsYyksZS5zZXRNZXNoRGF0YUZyb21CdWZmZXJzKHQscixvKSxlLnZlcnRleEZyb209dm9pZCAwLGUudmVydGV4Q291bnQ9MCxlLmluZGV4RnJvbT12b2lkIDAsZS5pbmRleENvdW50PTAsITF9dHJ5QWRkTWVzaERhdGEoZSx0KXtjb25zdCByPXQudmVydGV4QnVmZmVyLG89dC5pbmRleEJ1ZmZlcixuPXNbZS5nZW9tZXRyeVR5cGVdLGQ9dGhpcy5fYWxsb2NhdGVWZXJ0aWNlcyhuLGUudmVydGV4Q291bnQpO2lmKC0xPT09ZClyZXR1cm4gdGhpcy5fZnJlZVZlcnRpY2VzKG4sZCxlLnZlcnRleENvdW50KSwhMTtjb25zdCBhPXRoaXMuX2FsbG9jYXRlSW5kaWNlcyhuLGUuaW5kZXhDb3VudCk7aWYoLTE9PT1hKXJldHVybiB0aGlzLl9mcmVlVmVydGljZXMobixkLGUudmVydGV4Q291bnQpLHRoaXMuX2ZyZWVJbmRpY2VzKG4sYSxlLmluZGV4Q291bnQpLCExO2NvbnN0IHg9dGhpcy5fc3RvcmFnZUZvcihuKTtpZihpKGQsYSx4LnZlcnRleEJ1ZmZlcnMseC5pbmRleEJ1ZmZlcixlLHIsbyksZS52ZXJ0ZXhGcm9tPWQsZS5pbmRleEZyb209YSx0aGlzLl9kaXJ0eU1hcCl7dGhpcy5fZGlydHlNYXAubWFya0RpcnR5SW5kaWNlcyhlLmdlb21ldHJ5VHlwZSxlLmluZGV4RnJvbSxlLmluZGV4Q291bnQpO2Zvcihjb25zdCB0IGluIHIpdGhpcy5fZGlydHlNYXAubWFya0RpcnR5VmVydGljZXMoZS5nZW9tZXRyeVR5cGUsdCxkLGUudmVydGV4Q291bnQpfXJldHVybiB0aGlzLl9kaXNwbGF5TGlzdC5hZGRUb0xpc3QoZSksITB9X2FsbG9jYXRlVmVydGljZXMoZSx0KXtjb25zdCByPXRoaXMuX3N0b3JhZ2VGb3IoZSksaT1yLnZ0eEZyZWVMaXN0Py5hbGxvY2F0ZSh0KTtpZihudWxsPT1pfHwtMT09PWkpcmV0dXJuLTE7Y29uc3Qgcz1yLnZ0eEZyZWVMaXN0Py5mcmFnbWVudGF0aW9uO3JldHVybiBudWxsPT1zfHxzPm4/LTE6aX1fZnJlZVZlcnRpY2VzKGUsdCxyKXtjb25zdCBpPXRoaXMuX3N0b3JhZ2VGb3IoZSk7aS52dHhGcmVlTGlzdD8uZnJlZSh0LHIpfV9mcmVlSW5kaWNlcyhlLHQscil7Y29uc3QgaT10aGlzLl9zdG9yYWdlRm9yKGUpO2kuaWR4RnJlZUxpc3Q/LmZyZWUodCxyKX1fYWxsb2NhdGVJbmRpY2VzKGUsdCl7Y29uc3Qgcj10aGlzLl9zdG9yYWdlRm9yKGUpLGk9ci5pZHhGcmVlTGlzdD8uYWxsb2NhdGUodCk7aWYobnVsbD09aXx8LTE9PT1pKXJldHVybi0xO2NvbnN0IHM9ci5pZHhGcmVlTGlzdD8uZnJhZ21lbnRhdGlvbjtyZXR1cm4gbnVsbD09c3x8cz5uPy0xOml9X3N0b3JhZ2VGb3IoZSl7cmV0dXJuIHRoaXMuX2ZyZWVMaXN0c0FuZFN0b3JhZ2VbZV19X3N0cmlkZXNGb3IoZSx0KXtyZXR1cm4gdGhpcy5fc3RyaWRlc1tlXVt0XX19ZXhwb3J0e2QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgZXtnZXQgbGFyZ2VzdFJhbmdlKCl7cmV0dXJuIHRoaXMuX2xhcmdlc3RSYW5nZX1jb25zdHJ1Y3RvcihlKXt0aGlzLl9sYXJnZXN0UmFuZ2U9bnVsbCx0aGlzLl9wYXJlbnQ9ZSx0aGlzLl91cGRhdGVMYXJnZXN0UmFuZ2UoKX1yYW5nZUNyZWF0ZWQoZSl7KCF0aGlzLl9sYXJnZXN0UmFuZ2V8fGUuY291bnQ+dGhpcy5fbGFyZ2VzdFJhbmdlLmNvdW50KSYmKHRoaXMuX2xhcmdlc3RSYW5nZT1lKX1yYW5nZVJlc2l6ZWQoZSx0KXtlPT09dGhpcy5fbGFyZ2VzdFJhbmdlP2UuY291bnQ8dCYmdGhpcy5fdXBkYXRlTGFyZ2VzdFJhbmdlKCk6KCF0aGlzLl9sYXJnZXN0UmFuZ2V8fGUuY291bnQ+dGhpcy5fbGFyZ2VzdFJhbmdlLmNvdW50KSYmKHRoaXMuX2xhcmdlc3RSYW5nZT1lKX1maW5kQmVzdFJhbmdlKGUpe2xldCB0PXRoaXMuX3BhcmVudC5fZnJlZUhlYWQsbj1udWxsO2Zvcig7bnVsbCE9PXQ7KXQuY291bnQ+PWUmJighbnx8dC5jb3VudC1lPG4uY291bnQtZSkmJihuPXQpLHQ9dC5uZXh0O3JldHVybiBufWZpbmRBZGphY2VudFJhbmdlcyhlLHQpe2xldCBuPSEwLHI9ITEscz1udWxsLG89dGhpcy5fcGFyZW50Ll9mcmVlSGVhZDtmb3IoO24mJiFyOyl7Y29uc3QgYT1udWxsIT09cz9zLmZyb20rcy5jb3VudDowLGw9bnVsbCE9PW8/by5mcm9tOnRoaXMuX3BhcmVudC5fc2l6ZTtlPj1hJiZlK3Q8PWw/KG49ITEscj0hMCk6bnVsbCE9PW8/KHM9byxvPW8ubmV4dCk6bj0hMX1yZXR1cm5bcyxvXX1fdXBkYXRlTGFyZ2VzdFJhbmdlKCl7bGV0IGU9bnVsbCx0PXRoaXMuX3BhcmVudC5fZnJlZUhlYWQ7Zm9yKDtudWxsIT09dDspKCFlfHx0LmNvdW50PmUuY291bnQpJiYoZT10KSx0PXQubmV4dDt0aGlzLl9sYXJnZXN0UmFuZ2U9ZX19Y2xhc3MgdHtjb25zdHJ1Y3Rvcih0LG4pe3RoaXMuX2FsbG9jYXRlZD0wLHRoaXMuX3NpemU9dCx0aGlzLl9mcmVlSGVhZD10PjA/e2Zyb206MCxjb3VudDp0LHByZXY6bnVsbCxuZXh0Om51bGx9Om51bGwsdGhpcy5fYm9va0tlZXBlcj1ufHxuZXcgZSh0aGlzKSx0aGlzLl9mcmVlSGVhZCYmdGhpcy5fYm9va0tlZXBlci5yYW5nZUNyZWF0ZWQodGhpcy5fZnJlZUhlYWQpfWFsbG9jYXRlKGUpe2NvbnN0IG49dGhpcy5fYm9va0tlZXBlci5maW5kQmVzdFJhbmdlKGUpO2lmKG51bGw9PW4pcmV0dXJuLTE7Y29uc3Qgcj1uLmZyb20scz1uLmNvdW50O2lmKG4uZnJvbSs9ZSxuLmNvdW50LT1lLHRoaXMuX2Jvb2tLZWVwZXIucmFuZ2VSZXNpemVkKG4scixzKSx0aGlzLl9hbGxvY2F0ZWQrPWUsMD09PW4uY291bnQpe2NvbnN0IGU9bnVsbCE9PW4ucHJldj90aGlzLl9mcmVlSGVhZDpuLm5leHQ7dC5fcmVtb3ZlUmFuZ2UobiksdGhpcy5fZnJlZUhlYWQ9ZX1yZXR1cm4gcn1mcmVlKGUsbil7Y29uc3RbcixzXT10aGlzLl9ib29rS2VlcGVyLmZpbmRBZGphY2VudFJhbmdlcyhlLG4pLG89e2Zyb206ZSxjb3VudDpuLHByZXY6cj8/bnVsbCxuZXh0OnM/P251bGx9O2lmKG51bGwhPXImJihyLm5leHQ9byksbnVsbCE9cyYmKHMucHJldj1vKSx0aGlzLl9ib29rS2VlcGVyLnJhbmdlQ3JlYXRlZChvKSx0aGlzLl9hbGxvY2F0ZWQtPW4sbnVsbCE9cyYmby5mcm9tK28uY291bnQ9PT1zLmZyb20pe2NvbnN0IGU9by5mcm9tLG49by5jb3VudDt0Ll9mdXNlKG8scyksdC5fcmVtb3ZlUmFuZ2UocyksdGhpcy5fYm9va0tlZXBlci5yYW5nZVJlc2l6ZWQobyxlLG4pLHRoaXMuX2Jvb2tLZWVwZXIucmFuZ2VSZXNpemVkKHMsdm9pZCAwLDApfWlmKG51bGwhPXImJnIuZnJvbStyLmNvdW50PT09by5mcm9tKXtjb25zdCBlPXIuZnJvbSxuPXIuY291bnQ7dC5fZnVzZShyLG8pLHQuX3JlbW92ZVJhbmdlKG8pLHRoaXMuX2Jvb2tLZWVwZXIucmFuZ2VSZXNpemVkKHIsZSxuKSx0aGlzLl9ib29rS2VlcGVyLnJhbmdlUmVzaXplZChvLHZvaWQgMCwwKX10aGlzLl9mcmVlSGVhZD1udWxsIT09by5wcmV2P3RoaXMuX2ZyZWVIZWFkOm99Z2V0IGZyYWdtZW50YXRpb24oKXtjb25zdCBlPXRoaXMuX3NpemUtdGhpcy5fYWxsb2NhdGVkO2lmKDA9PT1lKXJldHVybiAwO3JldHVybiAxLXRoaXMuX2Jvb2tLZWVwZXIubGFyZ2VzdFJhbmdlLmNvdW50L2V9c3RhdGljIF9yZW1vdmVSYW5nZShlKXtudWxsIT09ZS5wcmV2P251bGwhPT1lLm5leHQ/KGUucHJldi5uZXh0PWUubmV4dCxlLm5leHQucHJldj1lLnByZXYpOmUucHJldi5uZXh0PW51bGw6bnVsbCE9PWUubmV4dCYmKGUubmV4dC5wcmV2PW51bGwpfXN0YXRpYyBfZnVzZShlLHQpe2UuY291bnQrPXQuY291bnQsZS5uZXh0PXQubmV4dCx0LmZyb20rPXQuY291bnQsdC5jb3VudD0wLG51bGwhPT10Lm5leHQmJih0Lm5leHQucHJldj1lKX19ZXhwb3J0e3QgYXMgRnJlZUxpc3R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtNYXRlcmlhbEtleUJhc2UgYXMgZX1mcm9tXCIuL21hdGVyaWFsS2V5L01hdGVyaWFsS2V5LmpzXCI7ZnVuY3Rpb24gdChlLHQsbiwuLi5vKXt0PGUubGVuZ3RoP2Uuc3BsaWNlKHQsbiwuLi5vKTplLnB1c2goLi4ubyl9Y2xhc3Mgbntjb25zdHJ1Y3Rvcigpe3RoaXMuc3ltYm9sTGV2ZWxzPVtdfXJlcGxheSh0LG4sbyl7Zm9yKGNvbnN0IGkgb2YgdGhpcy5zeW1ib2xMZXZlbHMpZm9yKGNvbnN0IHIgb2YgaS56TGV2ZWxzKXtjb25zdCBpPXIuZ2VvbWV0cnlEUEluZm8udW5pZmllZDtpZihpKWZvcihjb25zdCByIG9mIGkpe2NvbnN0e2dlb21ldHJ5VHlwZTppLG1hdGVyaWFsS2V5OmwsaW5kZXhGcm9tOnMsaW5kZXhDb3VudDptfT1yLHk9ZS5sb2FkKGwpLnN5bWJvbG9neVR5cGUsZD10LnBhaW50ZXIuZ2V0QnJ1c2goaSx5KSx1PXtnZW9tZXRyeVR5cGU6aSxtYXRlcmlhbEtleTpsLGluZGV4RnJvbTpzLGluZGV4Q291bnQ6bSx0YXJnZXQ6bi5nZXRHZW9tZXRyeShpKX07ZC5wcmVwYXJlU3RhdGUodCksZC5kcmF3R2VvbWV0cnkodCxuLHUsbyl9fX1nZXQgZW1wdHkoKXtyZXR1cm4hdGhpcy5zeW1ib2xMZXZlbHN8fDA9PT10aGlzLnN5bWJvbExldmVscy5sZW5ndGh9Y2xlYXIoKXt0aGlzLnN5bWJvbExldmVscy5sZW5ndGg9MH1hZGRUb0xpc3QoZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKWZvcihjb25zdCBuIG9mIGUpdGhpcy5fYWRkVG9MaXN0KG4sdCk7ZWxzZSB0aGlzLl9hZGRUb0xpc3QoZSx0KX1yZW1vdmVGcm9tTGlzdChlKXtBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pO2xldCB0PW51bGw7Zm9yKGNvbnN0IG4gb2YgZSl0PXRoaXMuX3JlbW92ZUZyb21MaXN0KG4pO3JldHVybiB0fWNsb25lKCl7Y29uc3QgZT1uZXcgbjtmb3IoY29uc3QgdCBvZiB0aGlzLnN5bWJvbExldmVscyllLnN5bWJvbExldmVscy5wdXNoKHQuY2xvbmUoKSk7cmV0dXJuIGV9c3BsaXRBZnRlcihlKXtjb25zdCB0PXRoaXMuX2dldERpc3BsYXlMaXN0KGUuc3ltYm9sTGV2ZWwsZS56T3JkZXIpLG49dC5sZW5ndGgsaT1lLmluZGV4RnJvbStlLmluZGV4Q291bnQ7Zm9yKGxldCByPTA7cjxuOysrcil7Y29uc3Qgbj10W3JdO2lmKG4uZ2VvbWV0cnlUeXBlPT09ZS5nZW9tZXRyeVR5cGUmJmk+bi5pbmRleEZyb20mJmk8PW4uaW5kZXhGcm9tK24uaW5kZXhDb3VudCl7aWYoaTxuLmluZGV4RnJvbStuLmluZGV4Q291bnQpe2NvbnN0IGU9bmV3IG87ZS5nZW9tZXRyeVR5cGU9bi5nZW9tZXRyeVR5cGUsZS5tYXRlcmlhbEtleT1uLm1hdGVyaWFsS2V5LGUuaW5kZXhGcm9tPWksZS5pbmRleENvdW50PW4uaW5kZXhGcm9tK24uaW5kZXhDb3VudC1pLHQuc3BsaWNlKHIrMSwwLGUpLG4uaW5kZXhDb3VudD1pLW4uaW5kZXhGcm9tfXJldHVybiByfX19X2FkZFRvTGlzdChlLG4pe2NvbnN0IGk9ZS5zeW1ib2xMZXZlbCxyPWUuek9yZGVyLGw9dGhpcy5fZ2V0RGlzcGxheUxpc3QoaSxyKSxzPW51bGwhPW4/bjpsLmxlbmd0aC0xLG09cz49MCYmczxsLmxlbmd0aD9sW3NdOm51bGw7aWYobnVsbCE9PW0mJm0ubWF0ZXJpYWxLZXk9PT1lLm1hdGVyaWFsS2V5JiZtLmluZGV4RnJvbSttLmluZGV4Q291bnQ9PT1lLmluZGV4RnJvbSYmbS5nZW9tZXRyeVR5cGU9PT1lLmdlb21ldHJ5VHlwZSltLmluZGV4Q291bnQrPWUuaW5kZXhDb3VudDtlbHNle2NvbnN0IG49bmV3IG87bi5pbmRleEZyb209ZS5pbmRleEZyb20sbi5pbmRleENvdW50PWUuaW5kZXhDb3VudCxuLm1hdGVyaWFsS2V5PWUubWF0ZXJpYWxLZXksbi5nZW9tZXRyeVR5cGU9ZS5nZW9tZXRyeVR5cGUsdChsLHMrMSwwLG4pfX1fcmVtb3ZlRnJvbUxpc3QoZSl7Y29uc3Qgbj1lLnN5bWJvbExldmVsLGk9ZS56T3JkZXIscj10aGlzLl9nZXREaXNwbGF5TGlzdChuLGkpLGw9ci5sZW5ndGg7bGV0IHM7Zm9yKGxldCB0PTA7dDxsOysrdCl7Y29uc3Qgbj1yW3RdO2lmKGUuaW5kZXhGcm9tK2UuaW5kZXhDb3VudD5uLmluZGV4RnJvbSYmZS5pbmRleEZyb208bi5pbmRleEZyb20rbi5pbmRleENvdW50JiZuLmdlb21ldHJ5VHlwZT09PWUuZ2VvbWV0cnlUeXBlKXtzPXQ7YnJlYWt9fWlmKHZvaWQgMCE9PXMpe2NvbnN0IG49cltzXTtpZihlLmluZGV4RnJvbT09PW4uaW5kZXhGcm9tKXJldHVybiBuLmluZGV4Q291bnQtPWUuaW5kZXhDb3VudCxuLmluZGV4RnJvbSs9ZS5pbmRleENvdW50LDA9PT1uLmluZGV4Q291bnQmJnQocixzLDEpLHMtMTtpZihlLmluZGV4RnJvbStlLmluZGV4Q291bnQ9PT1uLmluZGV4RnJvbStuLmluZGV4Q291bnQpcmV0dXJuIG4uaW5kZXhDb3VudC09ZS5pbmRleENvdW50LDA9PT1uLmluZGV4Q291bnQ/KHQocixzLDEpLHMtMSk6czt7Y29uc3QgaT1uLmluZGV4RnJvbSxsPWUuaW5kZXhGcm9tLW4uaW5kZXhGcm9tLG09ZS5pbmRleENvdW50LHk9bi5pbmRleEZyb20rbi5pbmRleENvdW50LShlLmluZGV4RnJvbStlLmluZGV4Q291bnQpO24uaW5kZXhDb3VudD1sO2NvbnN0IGQ9bmV3IG87cmV0dXJuIGQuZ2VvbWV0cnlUeXBlPW4uZ2VvbWV0cnlUeXBlLGQubWF0ZXJpYWxLZXk9bi5tYXRlcmlhbEtleSxkLmluZGV4RnJvbT1pK2wrbSxkLmluZGV4Q291bnQ9eSx0KHIscysxLDAsZCksc319cmV0dXJuIG51bGx9X2dldERpc3BsYXlMaXN0KGUsdCl7bGV0IG47Y29uc3Qgbz10aGlzLnN5bWJvbExldmVscy5sZW5ndGg7Zm9yKGxldCBpPTA7aTxvO2krKylpZih0aGlzLnN5bWJvbExldmVsc1tpXS5zeW1ib2xMZXZlbD09PWUpe249dGhpcy5zeW1ib2xMZXZlbHNbaV07YnJlYWt9bGV0IHM7bnx8KG49bmV3IGwsbi5zeW1ib2xMZXZlbD1lLHRoaXMuc3ltYm9sTGV2ZWxzLnB1c2gobikpO2NvbnN0IG09bi56TGV2ZWxzLmxlbmd0aDtmb3IobGV0IGk9MDtpPG07aSsrKWlmKG4uekxldmVsc1tpXS56TGV2ZWw9PT10KXtzPW4uekxldmVsc1tpXTticmVha31yZXR1cm4gc3x8KHM9bmV3IHIscy5nZW9tZXRyeURQSW5mbz1uZXcgaSxzLnpMZXZlbD10LG4uekxldmVscy5wdXNoKHMpKSxzLmdlb21ldHJ5RFBJbmZvLnVuaWZpZWR8fChzLmdlb21ldHJ5RFBJbmZvLnVuaWZpZWQ9W10pLHMuZ2VvbWV0cnlEUEluZm8udW5pZmllZH1nZXREUEluZm9UeXBlKCl7cmV0dXJuXCJ1bmlmaWVkXCJ9fWNsYXNzIG97Y29uc3RydWN0b3IoKXt0aGlzLm1hdGVyaWFsS2V5PW51bGwsdGhpcy5pbmRleEZyb209MCx0aGlzLmluZGV4Q291bnQ9MH1jbG9uZSgpe2NvbnN0IGU9bmV3IG87cmV0dXJuIGUuZ2VvbWV0cnlUeXBlPXRoaXMuZ2VvbWV0cnlUeXBlLGUubWF0ZXJpYWxLZXk9dGhpcy5tYXRlcmlhbEtleSxlLmluZGV4RnJvbT10aGlzLmluZGV4RnJvbSxlLmluZGV4Q291bnQ9dGhpcy5pbmRleENvdW50LGV9fWNsYXNzIGl7Y29uc3RydWN0b3IoKXt0aGlzLmZpbGw9bnVsbCx0aGlzLmxpbmU9bnVsbCx0aGlzLm1hcmtlcj1udWxsLHRoaXMudGV4dD1udWxsLHRoaXMubGFiZWw9bnVsbCx0aGlzLnVuaWZpZWQ9bnVsbH1jbG9uZSgpe2NvbnN0IGU9bmV3IGk7cmV0dXJuIGUuZmlsbD10aGlzLmZpbGwmJnRoaXMuZmlsbC5tYXAoKGU9PmUuY2xvbmUoKSkpLGUubGluZT10aGlzLmxpbmUmJnRoaXMubGluZS5tYXAoKGU9PmUuY2xvbmUoKSkpLGUubWFya2VyPXRoaXMubWFya2VyJiZ0aGlzLm1hcmtlci5tYXAoKGU9PmUuY2xvbmUoKSkpLGUudGV4dD10aGlzLnRleHQmJnRoaXMudGV4dC5tYXAoKGU9PmUuY2xvbmUoKSkpLGUubGFiZWw9dGhpcy5sYWJlbCYmdGhpcy5sYWJlbC5tYXAoKGU9PmUuY2xvbmUoKSkpLGUudW5pZmllZD10aGlzLnVuaWZpZWQmJnRoaXMudW5pZmllZC5tYXAoKGU9PmUuY2xvbmUoKSkpLGV9fWNsYXNzIHJ7Y29uc3RydWN0b3IoKXt0aGlzLmdlb21ldHJ5RFBJbmZvPW5ldyBpfWNsb25lKCl7Y29uc3QgZT1uZXcgcjtyZXR1cm4gZS56TGV2ZWw9dGhpcy56TGV2ZWwsZS5nZW9tZXRyeURQSW5mbz10aGlzLmdlb21ldHJ5RFBJbmZvLmNsb25lKCksZX19Y2xhc3MgbHtjb25zdHJ1Y3Rvcigpe3RoaXMuekxldmVscz1bXX1jbG9uZSgpe2NvbnN0IGU9bmV3IGw7ZS5zeW1ib2xMZXZlbD10aGlzLnN5bWJvbExldmVsO2Zvcihjb25zdCB0IG9mIHRoaXMuekxldmVscyllLnpMZXZlbHMucHVzaCh0LmNsb25lKCkpO3JldHVybiBlfX1leHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuL0RpcnR5TWFwLmpzXCI7aW1wb3J0IGUgZnJvbVwiLi9EaXNwbGF5UmVjb3JkU3RvcmUuanNcIjtpbXBvcnQgcyBmcm9tXCIuL1dHTEJ1ZmZlcnMuanNcIjtpbXBvcnR7V0dMVGlsZSBhcyBpfWZyb21cIi4vV0dMVGlsZS5qc1wiO2NsYXNzIGEgZXh0ZW5kcyBpe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9kYXRhPW51bGwsdGhpcy5fZGlzcGxheUxpc3Q9bnVsbCx0aGlzLl9sYXN0Q29tbWl0VGltZT0wLHRoaXMuX2hhc0RhdGE9ITEsdGhpcy5faW52YWxpZGF0ZWQ9ITEsdGhpcy5fd2dsQnVmZmVycz1udWxsLHRoaXMuX2RpcnR5TWFwPW5ldyB0fWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5jbGVhcigpfWdldCBoYXNEYXRhKCl7cmV0dXJuISF0aGlzLl9oYXNEYXRhfWdldCBkaXNwbGF5T2JqZWN0cygpe3JldHVybiB0aGlzLl9kaXNwbGF5T2JqZWN0cz8/W119Z2V0R2VvbWV0cnkodCl7cmV0dXJuIHRoaXMuX3dnbEJ1ZmZlcnMmJnRoaXMuX3dnbEJ1ZmZlcnMuaGFzKHQpP3RoaXMuX3dnbEJ1ZmZlcnMuZ2V0KHQpOm51bGx9Z2V0RGlzcGxheUxpc3QoKXtyZXR1cm4gdGhpcy5fZGlzcGxheUxpc3R9cGF0Y2gocyl7aWYoITA9PT1zLmNsZWFyKXJldHVybiB0aGlzLmNsZWFyKCksdm9pZCh0aGlzLl9oYXNEYXRhPSExKTtjb25zdCBpPXMuYWRkT3JVcGRhdGUsYT1zLnJlbW92ZTshdGhpcy5fZGF0YSYmaSYmaS50aWxlRGlzcGxheURhdGE/LmRpc3BsYXlPYmplY3RzLmxlbmd0aD8oaS50aWxlRGlzcGxheURhdGEuY29tcHV0ZURpc3BsYXlMaXN0KCksdGhpcy5fZGlydHlNYXA9bmV3IHQsdGhpcy5fZGlzcFJlY1N0b3JlPWUuZnJvbVRpbGVEYXRhKGksdGhpcy5fZGlydHlNYXApLHRoaXMuX2RhdGE9aSx0aGlzLl9kaXJ0eU1hcC5tYXJrQWxsRGlydHkoKSx0aGlzLl9oYXNEYXRhPSEwLHMuZW5kJiZ0aGlzLnJlYWR5KCkpOnRoaXMuX2RhdGEmJihpJiZpLnRpbGVEaXNwbGF5RGF0YT8uZGlzcGxheU9iamVjdHMubGVuZ3RofHxhLmxlbmd0aCk/dGhpcy5fZG9QYXRjaERhdGEocyk6cy5lbmQmJnRoaXMucmVhZHkoKSxzLmVuZCYmIXRoaXMuX2RhdGEmJnRoaXMuY2xlYXIoKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSx0aGlzLmVtaXQoXCJjaGFuZ2VcIil9Y29tbWl0KHQpe3QudGltZSYmdC50aW1lPT09dGhpcy5fbGFzdENvbW1pdFRpbWV8fCh0aGlzLl9sYXN0Q29tbWl0VGltZT10LnRpbWUsdGhpcy52aXNpYmxlJiZ0aGlzLl9kYXRhJiYodGhpcy5fd2dsQnVmZmVyc3x8KHRoaXMuX3dnbEJ1ZmZlcnM9bmV3IHModC5jb250ZXh0KSksKHRoaXMuX2RpcnR5TWFwLmhhc0RpcnR5KCl8fHRoaXMuX2ludmFsaWRhdGVkKSYmKHRoaXMuX2ludmFsaWRhdGVkPSExLHRoaXMuX3dnbEJ1ZmZlcnMudXBsb2FkKHRoaXMuX2RhdGEudGlsZUJ1ZmZlckRhdGEsdGhpcy5fZGlydHlNYXApLHRoaXMuX2Rpc3BsYXlMaXN0PXRoaXMuX2RhdGEudGlsZURpc3BsYXlEYXRhLmRpc3BsYXlMaXN0LmNsb25lKCksdGhpcy5fZGlzcGxheU9iamVjdHM9dGhpcy5fZGF0YS50aWxlRGlzcGxheURhdGEuZGlzcGxheU9iamVjdHMuc2xpY2UoKSx0aGlzLl9kaXJ0eU1hcC5tYXJrQWxsQ2xlYW4oKSkpKX1jbGVhcigpe3RoaXMuX2RhdGE9bnVsbCx0aGlzLl9kaXNwbGF5TGlzdD1udWxsLHRoaXMuX2Rpc3BSZWNTdG9yZT1udWxsLHRoaXMuX3dnbEJ1ZmZlcnMmJih0aGlzLl93Z2xCdWZmZXJzLmRpc3Bvc2UoKSx0aGlzLl93Z2xCdWZmZXJzPW51bGwpfV9kb1BhdGNoRGF0YSh0KXt0aGlzLl9pbnZhbGlkYXRlZD0hMCx0aGlzLl9wYXRjaERhdGEodCl8fCh0aGlzLl9kaXJ0eU1hcC5tYXJrQWxsRGlydHkoKSx0aGlzLl9kYXRhLnJlc2h1ZmZsZSgpLHRoaXMuX2Rpc3BSZWNTdG9yZT1lLmZyb21UaWxlRGF0YSh0aGlzLl9kYXRhLHRoaXMuX2RpcnR5TWFwKSksdGhpcy5yZXF1ZXN0UmVuZGVyKCl9X3BhdGNoRGF0YSh0KXtsZXQgZT0hMDtjb25zdCBzPXQuYWRkT3JVcGRhdGUmJnQuYWRkT3JVcGRhdGUudGlsZURpc3BsYXlEYXRhJiZ0LmFkZE9yVXBkYXRlLnRpbGVEaXNwbGF5RGF0YS5kaXNwbGF5T2JqZWN0c3x8W10saT0odC5yZW1vdmV8fFtdKS5zbGljZSgpO2Zvcihjb25zdCByIG9mIHMpbnVsbCE9ci5pbnNlcnRBZnRlciYmaS5wdXNoKHIuaWQpO2xldCBhO2kubGVuZ3RoPjAmJihhPW5ldyBTZXQoaSkpO2NvbnN0IGw9dGhpcy5fZGF0YS50aWxlRGlzcGxheURhdGE7Zm9yKGNvbnN0IHIgb2YgaSl7Y29uc3QgdD1sLmRpc3BsYXlPYmplY3RSZWdpc3RyeS5nZXQocik7aWYodCl7bC5kaXNwbGF5TGlzdC5yZW1vdmVGcm9tTGlzdCh0LmRpc3BsYXlSZWNvcmRzKTtmb3IoY29uc3QgZSBvZiB0LmRpc3BsYXlSZWNvcmRzKXRoaXMuX2Rpc3BSZWNTdG9yZS5kZWxldGUoZSk7bC5kaXNwbGF5T2JqZWN0UmVnaXN0cnkuZGVsZXRlKHIpfX1hPy5zaXplJiYobC5kaXNwbGF5T2JqZWN0cz1sLmRpc3BsYXlPYmplY3RzLmZpbHRlcigodD0+IWEuaGFzKHQuaWQpKSkpO2Zvcihjb25zdCByIG9mIHMpe2xldCBzLGk9bC5kaXNwbGF5T2JqZWN0UmVnaXN0cnkuZ2V0KHIuaWQpO2lmKGkpe2NvbnN0IHQ9aS5kaXNwbGF5UmVjb3JkcztpLnNldChyKSxpLmRpc3BsYXlSZWNvcmRzPXQ7Y29uc3QgZT1pLmRpc3BsYXlSZWNvcmRzLmxlbmd0aDtmb3IobGV0IHM9MDtzPGU7KytzKXtjb25zdCB0PWkuZGlzcGxheVJlY29yZHNbc10sZT1yLmRpc3BsYXlSZWNvcmRzW3NdOyhzPj1yLmRpc3BsYXlSZWNvcmRzLmxlbmd0aHx8dC5nZW9tZXRyeVR5cGUhPT1lLmdlb21ldHJ5VHlwZXx8dC5zeW1ib2xMZXZlbCE9PWUuc3ltYm9sTGV2ZWx8fHQuek9yZGVyIT09ZS56T3JkZXJ8fHQubWF0ZXJpYWxLZXkhPT1lLm1hdGVyaWFsS2V5KSYmKHRoaXMuX2Rpc3BSZWNTdG9yZS5kZWxldGUoaS5kaXNwbGF5UmVjb3Jkc1tzXSksczxyLmRpc3BsYXlSZWNvcmRzLmxlbmd0aCYmKGkuZGlzcGxheVJlY29yZHNbc109dm9pZCAwKSl9aS5kaXNwbGF5UmVjb3Jkcy5sZW5ndGg9ci5kaXNwbGF5UmVjb3Jkcy5sZW5ndGh9ZWxzZXtsZXQgdDtpPXIuY29weSgpLGkuZGlzcGxheVJlY29yZHM9W10sbC5kaXNwbGF5T2JqZWN0UmVnaXN0cnkuc2V0KHIuaWQsaSk7Y29uc3QgZT1sLmRpc3BsYXlPYmplY3RzO2lmKG51bGwhPWkuaW5zZXJ0QWZ0ZXIpaWYocz17fSxpLmluc2VydEFmdGVyPj0wKXtjb25zdCBzPWwuZGlzcGxheU9iamVjdFJlZ2lzdHJ5LmdldChpLmluc2VydEFmdGVyKTtzPyh0PWUuaW5kZXhPZihzKSsxLHQ8ZS5sZW5ndGg/ZS5zcGxpY2UodCwwLGkpOihlLnB1c2goaSksdD1lLmxlbmd0aCkpOihlLnB1c2goaSksdD1lLmxlbmd0aCl9ZWxzZSBlLnVuc2hpZnQoaSksdD0wO2Vsc2UgZS5wdXNoKGkpLHQ9ZS5sZW5ndGg7aWYocyl7Y29uc3QgaT1yLmRpc3BsYXlSZWNvcmRzLmxlbmd0aD4wPzE6MDtsZXQgYT0wO2ZvcihsZXQgcj10LTE7cj49MCYmYTxpOy0tcilmb3IobGV0IHQ9ZVtyXS5kaXNwbGF5UmVjb3Jkcy5sZW5ndGgtMTt0Pj0wJiZhPGk7LS10KXtjb25zdCBpPWVbcl0uZGlzcGxheVJlY29yZHNbdF0sZD1sLmRpc3BsYXlMaXN0LmdldERQSW5mb1R5cGUoKTtzW2RdfHwoc1tkXT1pLCsrYSl9fX1jb25zdCBhPXIuZGlzcGxheVJlY29yZHMubGVuZ3RoO2ZvcihsZXQgZD0wO2Q8YTsrK2Qpe2NvbnN0IGE9ci5kaXNwbGF5UmVjb3Jkc1tkXTtsZXQgbz1pLmRpc3BsYXlSZWNvcmRzW2RdO28/KG8ubWVzaERhdGE9YS5tZXNoRGF0YSxvLm1hdGVyaWFsS2V5PWEubWF0ZXJpYWxLZXkpOihvPWEuY29weSgpLG8udmVydGV4RnJvbT12b2lkIDAsby5pbmRleEZyb209dm9pZCAwLGkuZGlzcGxheVJlY29yZHNbZF09byk7Y29uc3QgaD1hLmdlb21ldHJ5VHlwZSxwPWwuZGlzcGxheUxpc3QuZ2V0RFBJbmZvVHlwZSgpLHk9dC5hZGRPclVwZGF0ZS50aWxlQnVmZmVyRGF0YS5nZW9tZXRyaWVzW2hdLGM9eS52ZXJ0ZXhCdWZmZXIsbj15LmluZGV4QnVmZmVyO2xldCBmO3MmJihmPXNbcF0/bC5kaXNwbGF5TGlzdC5zcGxpdEFmdGVyKHNbcF0pOi0xKSxlPXRoaXMuX2Rpc3BSZWNTdG9yZS5zZXRNZXNoRGF0YShvLGEsYyxuLGYpJiZlLHMmJm51bGwhPW8uaW5kZXhGcm9tJiZudWxsIT1vLmluZGV4RnJvbSYmKHNbcF09byl9fXJldHVybiBlfX1leHBvcnR7YSBhcyBHcmFwaGljVGlsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2J5R2VvbWV0cnlUeXBlPW51bGx9Z2V0IHNhdGlzZmllZCgpe3JldHVybiF0aGlzLl9ieUdlb21ldHJ5VHlwZX1yZXNldCgpe3RoaXMuX2J5R2VvbWV0cnlUeXBlPW51bGx9dmVydGljZXNGb3IoZSl7cmV0dXJuIHRoaXMuX2J5R2VvbWV0cnlUeXBlP3RoaXMuX2J5R2VvbWV0cnlUeXBlW2VdLnZlcnRpY2VzOjB9aW5kaWNlc0ZvcihlKXtyZXR1cm4gdGhpcy5fYnlHZW9tZXRyeVR5cGU/dGhpcy5fYnlHZW9tZXRyeVR5cGVbZV0uaW5kaWNlczowfW5lZWRNb3JlKGUsdCxpKXtpZighdCYmIWkpcmV0dXJuO3RoaXMuX2J5R2VvbWV0cnlUeXBlfHwodGhpcy5fYnlHZW9tZXRyeVR5cGU9W3t2ZXJ0aWNlczowLGluZGljZXM6MH0se3ZlcnRpY2VzOjAsaW5kaWNlczowfSx7dmVydGljZXM6MCxpbmRpY2VzOjB9LHt2ZXJ0aWNlczowLGluZGljZXM6MH0se3ZlcnRpY2VzOjAsaW5kaWNlczowfV0pO2NvbnN0IHM9dGhpcy5fYnlHZW9tZXRyeVR5cGVbZV07cy52ZXJ0aWNlcys9dCxzLmluZGljZXMrPWl9fWV4cG9ydHtlIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmNsYXNzIHR7Y29uc3RydWN0b3IoKXt0aGlzLnZlcnRleERhdGE9bmV3IE1hcCx0aGlzLnZlcnRleENvdW50PTAsdGhpcy5pbmRleERhdGE9W119Y2xlYXIoKXt0aGlzLnZlcnRleERhdGEuY2xlYXIoKSx0aGlzLnZlcnRleENvdW50PTAsdGhpcy5pbmRleERhdGE9W119dXBkYXRlKHQsZSxhKXtmb3IoY29uc3QgcyBpbiB0KXRoaXMudmVydGV4RGF0YS5zZXQocyx0W3NdKTtmb3IoY29uc3QgcyBpbiB0aGlzLnZlcnRleERhdGEpbnVsbD09PXRbc10mJnRoaXMudmVydGV4RGF0YS5kZWxldGUocyk7dGhpcy52ZXJ0ZXhDb3VudD1lLHRoaXMuaW5kZXhEYXRhPWF9fWV4cG9ydHt0IGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHthbGxvY2F0ZVR5cGVkQXJyYXlCdWZmZXJ3aXRoRGF0YSBhcyBlfWZyb21cIi4vVXRpbHMuanNcIjtjb25zdCByPTU7Y2xhc3MgZntjb25zdHJ1Y3Rvcigpe3RoaXMuZ2VvbWV0cmllcz1be2luZGV4QnVmZmVyOnZvaWQgMCx2ZXJ0ZXhCdWZmZXI6e319LHtpbmRleEJ1ZmZlcjp2b2lkIDAsdmVydGV4QnVmZmVyOnt9fSx7aW5kZXhCdWZmZXI6dm9pZCAwLHZlcnRleEJ1ZmZlcjp7fX0se2luZGV4QnVmZmVyOnZvaWQgMCx2ZXJ0ZXhCdWZmZXI6e319LHtpbmRleEJ1ZmZlcjp2b2lkIDAsdmVydGV4QnVmZmVyOnt9fV19Y2xvbmUoKXtjb25zdCBlPW5ldyBmO2ZvcihsZXQgcj0wO3I8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDtyKyspe2NvbnN0IGY9dGhpcy5nZW9tZXRyaWVzW3JdLHQ9ZS5nZW9tZXRyaWVzW3JdO3QuaW5kZXhCdWZmZXI9Zi5pbmRleEJ1ZmZlci5zbGljZSgpLHQudmVydGV4QnVmZmVyPXt9O2Zvcihjb25zdCBlIGluIGYudmVydGV4QnVmZmVyKXtjb25zdHtkYXRhOnIsc3RyaWRlOml9PWYudmVydGV4QnVmZmVyW2VdO3QudmVydGV4QnVmZmVyW2VdPXtkYXRhOnIuc2xpY2UoKSxzdHJpZGU6aX19fXJldHVybiBlfXN0YXRpYyBkZXNlcmlhbGl6ZSh0KXtjb25zdCBpPW5ldyBmO2ZvcihsZXQgZj0wO2Y8cjsrK2Ype2kuZ2VvbWV0cmllc1tmXS5pbmRleEJ1ZmZlcj1uZXcgVWludDMyQXJyYXkodC5nZW9tZXRyaWVzW2ZdLmluZGV4QnVmZmVyKSxpLmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyPXt9O2Zvcihjb25zdCByIGluIHQuZ2VvbWV0cmllc1tmXS52ZXJ0ZXhCdWZmZXIpaS5nZW9tZXRyaWVzW2ZdLnZlcnRleEJ1ZmZlcltyXT17ZGF0YTplKHQuZ2VvbWV0cmllc1tmXS52ZXJ0ZXhCdWZmZXJbcl0uZGF0YSx0Lmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyW3JdLnN0cmlkZSksc3RyaWRlOnQuZ2VvbWV0cmllc1tmXS52ZXJ0ZXhCdWZmZXJbcl0uc3RyaWRlfX1yZXR1cm4gaX1zZXJpYWxpemUoKXtjb25zdCBlPXtnZW9tZXRyaWVzOlt7aW5kZXhCdWZmZXI6dGhpcy5nZW9tZXRyaWVzWzBdLmluZGV4QnVmZmVyLmJ1ZmZlcix2ZXJ0ZXhCdWZmZXI6e319LHtpbmRleEJ1ZmZlcjp0aGlzLmdlb21ldHJpZXNbMV0uaW5kZXhCdWZmZXIuYnVmZmVyLHZlcnRleEJ1ZmZlcjp7fX0se2luZGV4QnVmZmVyOnRoaXMuZ2VvbWV0cmllc1syXS5pbmRleEJ1ZmZlci5idWZmZXIsdmVydGV4QnVmZmVyOnt9fSx7aW5kZXhCdWZmZXI6dGhpcy5nZW9tZXRyaWVzWzNdLmluZGV4QnVmZmVyLmJ1ZmZlcix2ZXJ0ZXhCdWZmZXI6e319LHtpbmRleEJ1ZmZlcjp0aGlzLmdlb21ldHJpZXNbNF0uaW5kZXhCdWZmZXIuYnVmZmVyLHZlcnRleEJ1ZmZlcjp7fX1dfTtmb3IobGV0IGY9MDtmPHI7KytmKWZvcihjb25zdCByIGluIHRoaXMuZ2VvbWV0cmllc1tmXS52ZXJ0ZXhCdWZmZXIpZS5nZW9tZXRyaWVzW2ZdLnZlcnRleEJ1ZmZlcltyXT17ZGF0YTp0aGlzLmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyW3JdLmRhdGEuYnVmZmVyLHN0cmlkZTp0aGlzLmdlb21ldHJpZXNbZl0udmVydGV4QnVmZmVyW3JdLnN0cmlkZX07cmV0dXJuIGV9Z2V0QnVmZmVycygpe2NvbnN0IGU9W107Zm9yKGxldCBmPTA7ZjxyOysrZil7ZS5wdXNoKHRoaXMuZ2VvbWV0cmllc1tmXS5pbmRleEJ1ZmZlci5idWZmZXIpO2Zvcihjb25zdCByIGluIHRoaXMuZ2VvbWV0cmllc1tmXS52ZXJ0ZXhCdWZmZXIpZS5wdXNoKHRoaXMuZ2VvbWV0cmllc1tmXS52ZXJ0ZXhCdWZmZXJbcl0uZGF0YS5idWZmZXIpfXJldHVybiBlfX1leHBvcnR7ZiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7UmVhbGxvY0dyb3d0aEZhY3RvciBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydHtXR0xTeW1ib2xvZ3lUeXBlIGFzIHR9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydCByIGZyb21cIi4vTWVtb3J5UmVxdWlyZW1lbnRzLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi9UaWxlQnVmZmVyRGF0YS5qc1wiO2ltcG9ydCBpIGZyb21cIi4vVGlsZURpc3BsYXlEYXRhLmpzXCI7aW1wb3J0e2FsbG9jYXRlVHlwZWRBcnJheUJ1ZmZlciBhcyBvLGNvcHlNZXNoRGF0YSBhcyBhLGZvckVhY2hHZW9tZXRyeVR5cGUgYXMgbn1mcm9tXCIuL1V0aWxzLmpzXCI7aW1wb3J0IGYgZnJvbVwiLi9XR0xEaXNwbGF5UmVjb3JkLmpzXCI7aW1wb3J0e0Rpc3BsYXlSZWNvcmRSZWFkZXIgYXMgbH1mcm9tXCIuL2NwdU1hcHBlZC9EaXNwbGF5UmVjb3JkUmVhZGVyLmpzXCI7aW1wb3J0e1ZlcnRleEJ1ZmZlcnMgYXMgdX1mcm9tXCIuL21lc2gvVmVydGV4QnVmZmVyLmpzXCI7aW1wb3J0e1ZlcnRleFZlY3RvcnMgYXMgY31mcm9tXCIuL21lc2gvVmVydGV4VmVjdG9yLmpzXCI7aW1wb3J0IG0gZnJvbVwiLi91dGlsL1dyaXRlci5qc1wiO2NvbnN0IGQ9bmV3IHIscD1uZXcgcixEPTU7ZnVuY3Rpb24gaChlLHQpe2NvbnN0IHI9e307Zm9yKGNvbnN0IHMgaW4gZSl7Y29uc3QgaT17ZGF0YTpvKHQsZVtzXSksc3RyaWRlOmVbc119O3Jbc109aX1yZXR1cm4gcn1mdW5jdGlvbiB4KGUpe3JldHVybltlLmZpbGx8fHt9LGUubGluZXx8e30sZS5pY29ufHx7fSxlLnRleHR8fHt9LGUubGFiZWx8fHt9XX1mdW5jdGlvbiB5KGUpe2NvbnN0IHQ9W1tdLFtdLFtdLFtdLFtdXSxyPWU7Zm9yKGNvbnN0IHMgb2Ygcilmb3IoY29uc3QgZSBvZiBzLmRpc3BsYXlSZWNvcmRzKXRbZS5nZW9tZXRyeVR5cGVdLnB1c2goZSk7cmV0dXJuIHR9Y2xhc3MgQntjb25zdHJ1Y3Rvcigpe3RoaXMudGlsZURpc3BsYXlEYXRhPW51bGwsdGhpcy50aWxlQnVmZmVyRGF0YT1udWxsfXJlc2h1ZmZsZSgpe2lmKGQucmVzZXQoKSwhdGhpcy50aWxlRGlzcGxheURhdGEpcmV0dXJuO2NvbnN0IHQ9eSh0aGlzLnRpbGVEaXNwbGF5RGF0YS5kaXNwbGF5T2JqZWN0cyk7Zm9yKGNvbnN0IGUgb2YgdClmb3IoY29uc3QgdCBvZiBlKXQmJmQubmVlZE1vcmUodC5nZW9tZXRyeVR5cGUsdC5tZXNoRGF0YT90Lm1lc2hEYXRhLnZlcnRleENvdW50OnQudmVydGV4Q291bnQsdC5tZXNoRGF0YT90Lm1lc2hEYXRhLmluZGV4RGF0YS5sZW5ndGg6dC5pbmRleENvdW50KTtjb25zdCByPXQubGVuZ3RoLGk9bmV3IHM7Zm9yKGxldCBzPTA7czxyOysrcyl7aS5nZW9tZXRyaWVzW3NdLmluZGV4QnVmZmVyPW5ldyBVaW50MzJBcnJheShNYXRoLnJvdW5kKGUqZC5pbmRpY2VzRm9yKHMpKSk7Y29uc3QgdD1bXSxyPXRoaXMudGlsZUJ1ZmZlckRhdGE/Lmdlb21ldHJpZXNbc10udmVydGV4QnVmZmVyO2lmKCFyKWNvbnRpbnVlO2Zvcihjb25zdCBlIGluIHIpdC5wdXNoKHJbZV0uc3RyaWRlKTtjb25zdCBhPUIuX2NvbXB1dGVWZXJ0ZXhBbGlnbm1lbnQodCksbj1NYXRoLnJvdW5kKGUqZC52ZXJ0aWNlc0ZvcihzKSksZj1CLl9hbGlnbihuLGEpO2Zvcihjb25zdCBlIGluIHIpe2NvbnN0IHQ9cltlXS5zdHJpZGU7aS5nZW9tZXRyaWVzW3NdLnZlcnRleEJ1ZmZlcltlXT17c3RyaWRlOnQsZGF0YTpvKGYsdCl9fX1wLnJlc2V0KCksdGhpcy50aWxlRGlzcGxheURhdGEuZGlzcGxheUxpc3Q/LmNsZWFyKCk7Zm9yKGxldCBlPTA7ZTxyOysrZSl7Y29uc3Qgcj10W2VdO2Zvcihjb25zdCB0IG9mIHIpe2lmKHQubWVzaERhdGEpdC53cml0ZU1lc2hEYXRhVG9CdWZmZXJzKHAudmVydGljZXNGb3IoZSksaS5nZW9tZXRyaWVzW2VdLnZlcnRleEJ1ZmZlcixwLmluZGljZXNGb3IoZSksaS5nZW9tZXRyaWVzW2VdLmluZGV4QnVmZmVyKSx0Lm1lc2hEYXRhPW51bGw7ZWxzZXtjb25zdCByPXRoaXMudGlsZUJ1ZmZlckRhdGE/Lmdlb21ldHJpZXNbZV07aWYocil7Y29uc3Qgcz1yLnZlcnRleEJ1ZmZlcixvPXIuaW5kZXhCdWZmZXIsbj1pLmdlb21ldHJpZXNbZV0udmVydGV4QnVmZmVyLGY9aS5nZW9tZXRyaWVzW2VdLmluZGV4QnVmZmVyLGw9cC52ZXJ0aWNlc0ZvcihlKSx1PXAuaW5kaWNlc0ZvcihlKTthKGwsdSxuLGYsdCxzLG8pLHQudmVydGV4RnJvbT1sLHQuaW5kZXhGcm9tPXV9fXAubmVlZE1vcmUoZSx0LnZlcnRleENvdW50LHQuaW5kZXhDb3VudCl9fWNvbnN0e2Rpc3BsYXlMaXN0Om4sZGlzcGxheU9iamVjdHM6Zn09dGhpcy50aWxlRGlzcGxheURhdGE7aWYobilmb3IoY29uc3QgZSBvZiBmKW4uYWRkVG9MaXN0KGUuZGlzcGxheVJlY29yZHMpO3RoaXMudGlsZUJ1ZmZlckRhdGE9aX1nZXRTdHJpZGVzKCl7Y29uc3QgZT1bXSx0PXRoaXMudGlsZUJ1ZmZlckRhdGE/Lmdlb21ldHJpZXM7aWYoIXQpcmV0dXJuIGU7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDsrK3Ipe2NvbnN0IHM9dFtyXTtlW3JdPXt9O2Zvcihjb25zdCB0IGluIHMudmVydGV4QnVmZmVyKWVbcl1bdF09cy52ZXJ0ZXhCdWZmZXJbdF0uc3RyaWRlfXJldHVybiBlfWNsb25lKCl7Y29uc3QgZT1uZXcgQjtyZXR1cm4gZS50aWxlQnVmZmVyRGF0YT10aGlzLnRpbGVCdWZmZXJEYXRhPy5jbG9uZSgpPz9udWxsLGUudGlsZURpc3BsYXlEYXRhPXRoaXMudGlsZURpc3BsYXlEYXRhPy5jbG9uZSgpPz9udWxsLGV9X2d1ZXNzU2l6ZSgpe2NvbnN0IGU9dGhpcy50aWxlRGlzcGxheURhdGE/LmRpc3BsYXlPYmplY3RzPz9bXSx0PU1hdGgubWluKGUubGVuZ3RoLDQpLHI9MTIscz00MDtsZXQgaT0wO2ZvcihsZXQgbz0wO288dDtvKyspaT1NYXRoLm1heChpLGVbb10uZGlzcGxheVJlY29yZHMubGVuZ3RoKTtyZXR1cm4gMiooZS5sZW5ndGgqcitlLmxlbmd0aCppKnMpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9dGhpcy50aWxlQnVmZmVyRGF0YS5zZXJpYWxpemUoKSx0PXRoaXMudGlsZUJ1ZmZlckRhdGEuZ2V0QnVmZmVycygpLHI9dGhpcy50aWxlRGlzcGxheURhdGEuc2VyaWFsaXplKG5ldyBtKEludDMyQXJyYXksdGhpcy5fZ3Vlc3NTaXplKCkpKS5idWZmZXIoKTtyZXR1cm4gdC5wdXNoKHIpLHtyZXN1bHQ6e2Rpc3BsYXlEYXRhOnIsYnVmZmVyRGF0YTplfSx0cmFuc2Zlckxpc3Q6dH19c3RhdGljIGZyb21WZXJ0ZXhEYXRhKGUscil7Y29uc3Qgcz17fSxpPW5ldyBNYXA7Zm9yKGNvbnN0IHQgb2YgcilpLnNldCh0LmlkLHQpO3JldHVybiBuKChyPT57Y29uc3Qgbz1lLmRhdGFbcl07aWYobnVsbCE9byl7Y29uc3QgZT1sLmZyb20oby5yZWNvcmRzKS5nZXRDdXJzb3IoKTtmb3IoO2UubmV4dCgpOyl7Y29uc3QgdD1lLmlkLHM9ZS5tYXRlcmlhbEtleSxvPWUuaW5kZXhGcm9tLGE9ZS5pbmRleENvdW50LG49ZS52ZXJ0ZXhGcm9tLGw9ZS52ZXJ0ZXhDb3VudCx1PWkuZ2V0KHQpLGM9bmV3IGYodCxyLHMpO2MuaW5kZXhGcm9tPW8sYy5pbmRleENvdW50PWEsYy52ZXJ0ZXhGcm9tPW4sYy52ZXJ0ZXhDb3VudD1sLHUuZGlzcGxheVJlY29yZHMucHVzaChjKX1zW3JdPXUuZnJvbVZlcnRleERhdGEobyxyKX1lbHNlIHNbcl09bmV3IGMociwwLHQuREVGQVVMVCkuaW50b0J1ZmZlcnMoKX0pKSxCLmZyb21NZXNoRGF0YSh7ZGlzcGxheU9iamVjdHM6cix2ZXJ0ZXhCdWZmZXJzTWFwOnN9KX1zdGF0aWMgZnJvbU1lc2hEYXRhKGUpe2NvbnN0IHQ9bmV3IEIscj1uZXcgaSxvPW5ldyBzO3IuZGlzcGxheU9iamVjdHM9ZS5kaXNwbGF5T2JqZWN0cztmb3IoY29uc3QgcyBpbiBlLnZlcnRleEJ1ZmZlcnNNYXApe2NvbnN0IHQ9cyxyPWUudmVydGV4QnVmZmVyc01hcFt0XTtvLmdlb21ldHJpZXNbdF0uaW5kZXhCdWZmZXI9ci5pbmRleEJ1ZmZlcixvLmdlb21ldHJpZXNbdF0udmVydGV4QnVmZmVyPXIubmFtZWRCdWZmZXJzfXJldHVybiB0LnRpbGVEaXNwbGF5RGF0YT1yLHQudGlsZUJ1ZmZlckRhdGE9byx0fXN0YXRpYyBiaW5kKGUsdCl7Y29uc3Qgcj1uZXcgQjtyZXR1cm4gci50aWxlRGlzcGxheURhdGE9ZSxyLnRpbGVCdWZmZXJEYXRhPXQscn1zdGF0aWMgY3JlYXRlKGUsdCl7Y29uc3Qgcj1uZXcgQjtyLnRpbGVEaXNwbGF5RGF0YT1uZXcgaSxyLnRpbGVEaXNwbGF5RGF0YS5kaXNwbGF5T2JqZWN0cz1lO2NvbnN0IG89WzAsMCwwLDAsMF0sYT1bMCwwLDAsMCwwXSxuPVtbXSxbXSxbXSxbXSxbXV07Zm9yKGNvbnN0IHMgb2YgZSlmb3IoY29uc3QgZSBvZiBzLmRpc3BsYXlSZWNvcmRzKW5bZS5nZW9tZXRyeVR5cGVdLnB1c2goZSksb1tlLmdlb21ldHJ5VHlwZV0rPWUubWVzaERhdGEudmVydGV4Q291bnQsYVtlLmdlb21ldHJ5VHlwZV0rPWUubWVzaERhdGEuaW5kZXhEYXRhLmxlbmd0aDtjb25zdCBsPW5ldyBzLHU9eCh0KTtmb3IobGV0IHM9MDtzPEQ7cysrKXtjb25zdCBlPW5ldyBVaW50MzJBcnJheShhW3NdKSx0PWgodVtzXSxvW3NdKTtmLndyaXRlQWxsTWVzaERhdGFUb0J1ZmZlcnMobltzXSx0LGUpLGwuZ2VvbWV0cmllc1tzXT17aW5kZXhCdWZmZXI6ZSx2ZXJ0ZXhCdWZmZXI6dH19cmV0dXJuIHIudGlsZUJ1ZmZlckRhdGE9bCxyfXN0YXRpYyBfYWxpZ24oZSx0KXtjb25zdCByPWUldDtyZXR1cm4gMD09PXI/ZTplKyh0LXIpfXN0YXRpYyBfY29tcHV0ZVZlcnRleEFsaWdubWVudChlKXtsZXQgdD0hMSxyPSExO2Zvcihjb25zdCBzIG9mIGUpcyU0PT0yP3Q9ITA6cyU0IT0wJiYocj0hMCk7cmV0dXJuIHI/NDp0PzI6MX19ZXhwb3J0e0IgYXMgVGlsZURhdGF9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBzIGZyb21cIi4vR3JhcGhpY0Rpc3BsYXlMaXN0LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi9XR0xEaXNwbGF5T2JqZWN0LmpzXCI7aW1wb3J0e3NlcmlhbGl6ZUxpc3QgYXMgaX1mcm9tXCIuL3V0aWwvc2VyaWFsaXphdGlvblV0aWxzLmpzXCI7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMuZGlzcGxheU9iamVjdHM9W10sdGhpcy5fZGlzcGxheUxpc3Q9bnVsbH1nZXQgZGlzcGxheU9iamVjdFJlZ2lzdHJ5KCl7aWYoIXRoaXMuX2Rpc3BsYXlPYmplY3RSZWdpc3RyeSl7dGhpcy5fZGlzcGxheU9iamVjdFJlZ2lzdHJ5PW5ldyBNYXA7Zm9yKGNvbnN0IHMgb2YgdGhpcy5kaXNwbGF5T2JqZWN0cyl0aGlzLl9kaXNwbGF5T2JqZWN0UmVnaXN0cnkuc2V0KHMuaWQscyl9cmV0dXJuIHRoaXMuX2Rpc3BsYXlPYmplY3RSZWdpc3RyeX1nZXQgZGlzcGxheUxpc3QoKXtyZXR1cm4gdGhpcy5fZGlzcGxheUxpc3R9Y29tcHV0ZURpc3BsYXlMaXN0KCl7dGhpcy5fZGlzcGxheUxpc3Q9bmV3IHM7Zm9yKGNvbnN0IHMgb2YgdGhpcy5kaXNwbGF5T2JqZWN0cylmb3IoY29uc3QgdCBvZiBzLmRpc3BsYXlSZWNvcmRzKXRoaXMuX2Rpc3BsYXlMaXN0LmFkZFRvTGlzdCh0KX1jbG9uZSgpe2NvbnN0IHM9bmV3IGU7cmV0dXJuIHRoaXMuZGlzcGxheU9iamVjdHMmJihzLmRpc3BsYXlPYmplY3RzPXRoaXMuZGlzcGxheU9iamVjdHMubWFwKChzPT5zLmNsb25lKCkpKSksc31zZXJpYWxpemUocyl7cmV0dXJuIGkocyx0aGlzLmRpc3BsYXlPYmplY3RzKSxzfV9kZXNlcmlhbGl6ZU9iamVjdHMocyl7Y29uc3QgaT1zLnJlYWRJbnQzMigpLGU9bmV3IEFycmF5KGkpLGE9bmV3IE1hcDtmb3IobGV0IGw9MDtsPGUubGVuZ3RoOysrbCl7Y29uc3QgaT10LmRlc2VyaWFsaXplKHMpO2VbbF09aSxhLnNldChpLmlkLGkpfXRoaXMuZGlzcGxheU9iamVjdHM9ZSx0aGlzLl9kaXNwbGF5TGlzdD1udWxsLHRoaXMuX2Rpc3BsYXlPYmplY3RSZWdpc3RyeT1hfXN0YXRpYyBkZXNlcmlhbGl6ZShzKXtjb25zdCB0PW5ldyBlO3JldHVybiB0Ll9kZXNlcmlhbGl6ZU9iamVjdHMocyksdH19ZXhwb3J0e2UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NyZWF0ZUdlb21ldHJ5RGF0YSBhcyBlLENfVkJPX0lORk8gYXMgdH1mcm9tXCIuL1V0aWxzLmpzXCI7aW1wb3J0e0J1ZmZlck9iamVjdCBhcyByfWZyb21cIi4uLy4uLy4uL3dlYmdsL0J1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHtVc2FnZSBhcyBzfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e1ZlcnRleEFycmF5T2JqZWN0IGFzIGF9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvVmVydGV4QXJyYXlPYmplY3QuanNcIjtjbGFzcyBve2NvbnN0cnVjdG9yKGEpe3RoaXMuZ2VvbWV0cnlNYXA9ZSgoKCk9Pih7aW5kZXhCdWZmZXI6ci5jcmVhdGVJbmRleChhLHMuU1RBVElDX0RSQVcpLHZhbzpudWxsfSkpLCgoZSxzKT0+KHt2ZXJ0ZXhCdWZmZXI6ci5jcmVhdGVWZXJ0ZXgoYSx0W3NdKX0pKSl9ZGlzcG9zZSgpe2ZvcihsZXQgZT0wO2U8NTtlKyspe2NvbnN0IHQ9dGhpcy5nZW9tZXRyeU1hcFtlXTtpZih0KXt0LmRhdGEudmFvPy5kaXNwb3NlVkFPT25seSgpLHQuZGF0YS5pbmRleEJ1ZmZlcj8uZGlzcG9zZSgpO2Zvcihjb25zdCBlIGluIHQuYnVmZmVycyl0LmJ1ZmZlcnNbZV0/LmRhdGEudmVydGV4QnVmZmVyLmRpc3Bvc2UoKX19fWdldChlKXtjb25zdCB0PXRoaXMuZ2VvbWV0cnlNYXBbZV07cmV0dXJue2dldFZBTyhlLHIscyl7aWYoIXQuZGF0YS52YW8pe2NvbnN0IG89e307Zm9yKGNvbnN0IGUgaW4gdC5idWZmZXJzKW9bZV09dC5idWZmZXJzW2VdLmRhdGEudmVydGV4QnVmZmVyO3QuZGF0YS52YW89bmV3IGEoZSxzLHIsbyx0LmRhdGEuaW5kZXhCdWZmZXIpfXJldHVybiB0LmRhdGEudmFvfX19aGFzKGUpe3JldHVybiBudWxsIT10aGlzLmdlb21ldHJ5TWFwW2VdfXVwbG9hZChlLHQpe3QuZm9yRWFjaCgoKHQscik9Pnt0aGlzLl91cGxvYWQodCxyLGUpfSkpfV91cGxvYWQoZSx0LHIpe2lmKGUuaW5kaWNlcyYmKGUuaW5kaWNlcy5hbGxEaXJ0eT90aGlzLl91cGxvYWRJbmRpY2VzKHIsdCk6bnVsbCE9ZS5pbmRpY2VzLmZyb20mJm51bGwhPWUuaW5kaWNlcy5jb3VudCYmdGhpcy5fdXBsb2FkSW5kaWNlcyhyLHQsZS5pbmRpY2VzLmZyb20sZS5pbmRpY2VzLmNvdW50KSksZS52ZXJ0aWNlcyl7Y29uc3Qgcz1lLnZlcnRpY2VzO2Zvcihjb25zdCBlIGluIHMpe2NvbnN0IGE9c1tlXTthLmFsbERpcnR5P3RoaXMuX3VwbG9hZFZlcnRpY2VzKHIsdCxlKTpudWxsIT1hLmZyb20mJm51bGwhPWEuY291bnQmJnRoaXMuX3VwbG9hZFZlcnRpY2VzKHIsdCxlLGEuZnJvbSxhLmNvdW50KX19fV91cGxvYWRWZXJ0aWNlcyhlLHQscixzLGEpe2NvbnN0IG89dGhpcy5nZW9tZXRyeU1hcFt0XTtpZighbylyZXR1cm47Y29uc3QgZj1lLmdlb21ldHJpZXNbdF0udmVydGV4QnVmZmVyW3JdO2lmKCFmKXJldHVybjtjb25zdHtkYXRhOmksc3RyaWRlOm59PWY7aWYoby5idWZmZXJzW3JdJiZpLmxlbmd0aD4wKXtjb25zdCBlPW4vaS5CWVRFU19QRVJfRUxFTUVOVDtudWxsIT1zJiZudWxsIT1hP28uYnVmZmVyc1tyXS5kYXRhLnZlcnRleEJ1ZmZlci5zZXRTdWJEYXRhKGkscyplLHMqZSwocythKSplKTpvLmJ1ZmZlcnNbcl0uZGF0YS52ZXJ0ZXhCdWZmZXIuc2V0RGF0YShpKX19X3VwbG9hZEluZGljZXMoZSx0LHIscyl7Y29uc3QgYT10aGlzLmdlb21ldHJ5TWFwW3RdO2lmKCFhKXJldHVybjtjb25zdCBvPWUuZ2VvbWV0cmllc1t0XS5pbmRleEJ1ZmZlcjthLmRhdGEuaW5kZXhCdWZmZXImJm8ubGVuZ3RoPjAmJihudWxsIT1yJiZudWxsIT1zP2EuZGF0YS5pbmRleEJ1ZmZlci5zZXRTdWJEYXRhKG8scixyLHIrcyk6YS5kYXRhLmluZGV4QnVmZmVyLnNldERhdGEobykpfX1leHBvcnR7byBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgcyBmcm9tXCIuL1dHTERpc3BsYXlSZWNvcmQuanNcIjtpbXBvcnR7c2VyaWFsaXplTGlzdCBhcyBpLGRlc2VyaWFsaXplTGlzdCBhcyB0fWZyb21cIi4vdXRpbC9zZXJpYWxpemF0aW9uVXRpbHMuanNcIjtjbGFzcyBle2NvbnN0cnVjdG9yKHMpe3RoaXMuaW5zZXJ0QWZ0ZXI9bnVsbCx0aGlzLmlkPXMsdGhpcy5kaXNwbGF5UmVjb3Jkcz1bXX1jb3B5KCl7Y29uc3Qgcz1uZXcgZSh0aGlzLmlkKTtyZXR1cm4gcy5zZXQodGhpcyksc31jbG9uZSgpe2NvbnN0IHM9bmV3IGUodGhpcy5pZCk7cmV0dXJuIHMuZGlzcGxheVJlY29yZHM9dGhpcy5kaXNwbGF5UmVjb3Jkcy5tYXAoKHM9PnMuY2xvbmUoKSkpLHMuaW5zZXJ0QWZ0ZXI9dGhpcy5pbnNlcnRBZnRlcixzfXNldChzKXt0aGlzLmlkPXMuaWQsdGhpcy5kaXNwbGF5UmVjb3Jkcz1zLmRpc3BsYXlSZWNvcmRzLHRoaXMuaW5zZXJ0QWZ0ZXI9cy5pbnNlcnRBZnRlcn1zZXJpYWxpemUocyl7cmV0dXJuIHMucHVzaCh0aGlzLmlkKSxpKHMsdGhpcy5kaXNwbGF5UmVjb3Jkcyksc31zdGF0aWMgZGVzZXJpYWxpemUoaSl7Y29uc3Qgcj1pLnJlYWRJbnQzMigpLGQ9bmV3IGUociksbz17aWQ6cn07cmV0dXJuIGQuZGlzcGxheVJlY29yZHM9dChpLHMsbyk/P1tdLGR9fWV4cG9ydHtlIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4vTWVzaERhdGEuanNcIjtpbXBvcnR7c3RyaWRlVG9QYWNraW5nRmFjdG9yIGFzIGV9ZnJvbVwiLi9VdGlscy5qc1wiO2NsYXNzIHN7Y29uc3RydWN0b3IodCxlLHMsaT0wLHI9MCl7dGhpcy5pZD10LHRoaXMuZ2VvbWV0cnlUeXBlPWUsdGhpcy5tYXRlcmlhbEtleT1zLHRoaXMubWluWm9vbT1pLHRoaXMubWF4Wm9vbT1yLHRoaXMubWVzaERhdGE9bnVsbCx0aGlzLnN5bWJvbExldmVsPTAsdGhpcy56T3JkZXI9MCx0aGlzLnZlcnRleEZyb209MCx0aGlzLnZlcnRleENvdW50PTAsdGhpcy5pbmRleEZyb209MCx0aGlzLmluZGV4Q291bnQ9MCx0aGlzLl9zb3J0S2V5PW51bGx9Z2V0IHNvcnRLZXkoKXtyZXR1cm4gbnVsbD09dGhpcy5fc29ydEtleSYmdGhpcy5fY29tcHV0ZVNvcnRLZXkoKSx0aGlzLl9zb3J0S2V5fWNsb25lKCl7cmV0dXJuIHRoaXMuY29weSgpfWNvcHkoKXtjb25zdCB0PW5ldyBzKHRoaXMuaWQsdGhpcy5nZW9tZXRyeVR5cGUsdGhpcy5tYXRlcmlhbEtleSk7cmV0dXJuIHQudmVydGV4RnJvbT10aGlzLnZlcnRleEZyb20sdC52ZXJ0ZXhDb3VudD10aGlzLnZlcnRleENvdW50LHQuaW5kZXhGcm9tPXRoaXMuaW5kZXhGcm9tLHQuaW5kZXhDb3VudD10aGlzLmluZGV4Q291bnQsdC56T3JkZXI9dGhpcy56T3JkZXIsdC5zeW1ib2xMZXZlbD10aGlzLnN5bWJvbExldmVsLHQubWVzaERhdGE9dGhpcy5tZXNoRGF0YSx0Lm1pblpvb209dGhpcy5taW5ab29tLHQubWF4Wm9vbT10aGlzLm1heFpvb20sdH1zZXRNZXNoRGF0YUZyb21CdWZmZXJzKHMsaSxyKXtjb25zdCBvPW5ldyB0O2Zvcihjb25zdCB0IGluIGkpe2NvbnN0IHI9aVt0XS5zdHJpZGUsYT1pW3RdLmRhdGE7aWYoIWEpY29udGludWU7Y29uc3QgaD1bXSxuPWUocik7Zm9yKGxldCB0PTA7dDxyKnMudmVydGV4Q291bnQvbjsrK3QpaFt0XT1hW3QrcipzLnZlcnRleEZyb20vbl07by52ZXJ0ZXhEYXRhLnNldCh0LGgpfW8uaW5kZXhEYXRhLmxlbmd0aD0wO2ZvcihsZXQgdD0wO3Q8cy5pbmRleENvdW50OysrdClvLmluZGV4RGF0YVt0XT1yW3Qrcy5pbmRleEZyb21dLXMudmVydGV4RnJvbTtvLnZlcnRleENvdW50PXMudmVydGV4Q291bnQsdGhpcy5tZXNoRGF0YT1vfXJlYWRNZXNoRGF0YUZyb21CdWZmZXJzKHMsaSl7dGhpcy5tZXNoRGF0YT90aGlzLm1lc2hEYXRhLmNsZWFyKCk6dGhpcy5tZXNoRGF0YT1uZXcgdDtmb3IoY29uc3QgdCBpbiBzKXtjb25zdCBpPXNbdF0uc3RyaWRlLHI9c1t0XS5kYXRhLG89W10sYT1lKGkpO2ZvcihsZXQgdD0wO3Q8aSp0aGlzLnZlcnRleENvdW50L2E7Kyt0KW9bdF09clt0K2kqdGhpcy52ZXJ0ZXhGcm9tL2FdO3RoaXMubWVzaERhdGEudmVydGV4RGF0YS5zZXQodCxvKX10aGlzLm1lc2hEYXRhLmluZGV4RGF0YS5sZW5ndGg9MDtmb3IobGV0IHQ9MDt0PHRoaXMuaW5kZXhDb3VudDsrK3QpdGhpcy5tZXNoRGF0YS5pbmRleERhdGFbdF09aVt0K3RoaXMuaW5kZXhGcm9tXS10aGlzLnZlcnRleEZyb207dGhpcy5tZXNoRGF0YS52ZXJ0ZXhDb3VudD10aGlzLnZlcnRleENvdW50fXdyaXRlTWVzaERhdGFUb0J1ZmZlcnModCxzLGkscil7aWYodGhpcy5tZXNoRGF0YSl7Zm9yKGNvbnN0IGkgaW4gcyl7Y29uc3Qgcj1zW2ldLnN0cmlkZSxvPXRoaXMubWVzaERhdGEudmVydGV4RGF0YS5nZXQoaSksYT1zW2ldLmRhdGEsaD1lKHIpO2ZvcihsZXQgZT0wO2U8cip0aGlzLm1lc2hEYXRhLnZlcnRleENvdW50L2g7KytlKWFbZStyKnQvaF09b1tlXX1mb3IobGV0IGU9MDtlPHRoaXMubWVzaERhdGEuaW5kZXhEYXRhLmxlbmd0aDsrK2UpcltlK2ldPXRoaXMubWVzaERhdGEuaW5kZXhEYXRhW2VdK3Q7dGhpcy52ZXJ0ZXhGcm9tPXQsdGhpcy52ZXJ0ZXhDb3VudD10aGlzLm1lc2hEYXRhLnZlcnRleENvdW50LHRoaXMuaW5kZXhGcm9tPWksdGhpcy5pbmRleENvdW50PXRoaXMubWVzaERhdGEuaW5kZXhEYXRhLmxlbmd0aH19c3RhdGljIHdyaXRlQWxsTWVzaERhdGFUb0J1ZmZlcnModCxlLHMpe2xldCBpPTAscj0wO2Zvcihjb25zdCBvIG9mIHQpby53cml0ZU1lc2hEYXRhVG9CdWZmZXJzKGksZSxyLHMpLGkrPW8udmVydGV4Q291bnQscis9by5pbmRleENvdW50fV9jb21wdXRlU29ydEtleSgpe3RoaXMuX3NvcnRLZXk9KDMxJnRoaXMuc3ltYm9sTGV2ZWwpPDwxMnwoMTI3JnRoaXMuek9yZGVyKTw8NHw3JnRoaXMuZ2VvbWV0cnlUeXBlfXNlcmlhbGl6ZSh0KXtyZXR1cm4gdC5wdXNoKHRoaXMuZ2VvbWV0cnlUeXBlKSx0LnB1c2godGhpcy5tYXRlcmlhbEtleSksdC5wdXNoKHRoaXMudmVydGV4RnJvbSksdC5wdXNoKHRoaXMudmVydGV4Q291bnQpLHQucHVzaCh0aGlzLmluZGV4RnJvbSksdC5wdXNoKHRoaXMuaW5kZXhDb3VudCksdC5wdXNoKHRoaXMubWluWm9vbSksdC5wdXNoKHRoaXMubWF4Wm9vbSksdH1zdGF0aWMgZGVzZXJpYWxpemUodCxlKXtjb25zdCBpPXQucmVhZEludDMyKCkscj10LnJlYWRJbnQzMigpLG89bmV3IHMoZS5pZCxpLHIpO3JldHVybiBvLnZlcnRleEZyb209dC5yZWFkSW50MzIoKSxvLnZlcnRleENvdW50PXQucmVhZEludDMyKCksby5pbmRleEZyb209dC5yZWFkSW50MzIoKSxvLmluZGV4Q291bnQ9dC5yZWFkSW50MzIoKSxvLm1pblpvb209dC5yZWFkSW50MzIoKSxvLm1heFpvb209dC5yZWFkSW50MzIoKSxvfX1leHBvcnR7cyBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YWxsb2NhdGVUeXBlZEFycmF5QnVmZmVyd2l0aERhdGEgYXMgZX1mcm9tXCIuLi9VdGlscy5qc1wiO2NsYXNzIHR7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmRhdGE9ZSx0aGlzLnN0cmlkZT10fXN0YXRpYyBkZWNvZGUocil7Y29uc3Qgcz1lKHIuZGF0YSxyLnN0cmlkZSksbj1yLnN0cmlkZTtyZXR1cm4gbmV3IHQocyxuKX1zdGF0aWMgZnJvbVZlcnRleFZlY3RvcihyKXtjb25zdCBzPWUoci5kYXRhLmJ1ZmZlcigpLHIuc3RyaWRlKSxuPXIuc3RyaWRlO3JldHVybiBuZXcgdChzLG4pfX1jbGFzcyBye2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLmdlb21ldHJ5VHlwZT1lLHRoaXMuaW5kZXhCdWZmZXI9bmV3IFVpbnQzMkFycmF5KHQpLHRoaXMubmFtZWRCdWZmZXJzPXJ9c3RhdGljIGRlY29kZShlKXtjb25zdCBzPWUuZ2VvbWV0cnlUeXBlLG49ZS5pbmRleEJ1ZmZlcixvPXt9O2Zvcihjb25zdCByIGluIGUubmFtZWRCdWZmZXJzKW9bcl09dC5kZWNvZGUoZS5uYW1lZEJ1ZmZlcnNbcl0pO3JldHVybiBuZXcgcihzLG4sbyl9c3RhdGljIGZyb21WZXJ0ZXhEYXRhKHMsbil7Y29uc3Qgbz1zLmluZGljZXMsYz1lKHMudmVydGljZXMscy5zdHJpZGUpLGk9cy5zdHJpZGUsZD17Z2VvbWV0cnk6bmV3IHQoYyxpKX07cmV0dXJuIG5ldyByKG4sbyxkKX1zdGF0aWMgZnJvbVZlcnRleFZlY3RvcnMoZSl7Y29uc3Qgcz1lLmdlb21ldHJ5VHlwZSxuPWUuaW5kZXhWZWN0b3IuYnVmZmVyKCksbz17fTtsZXQgYztmb3IoYyBpbiBlLm5hbWVkVmVjdG9ycylvW2NdPXQuZnJvbVZlcnRleFZlY3RvcihlLm5hbWVkVmVjdG9yc1tjXSk7cmV0dXJuIG5ldyByKHMsbixvKX19ZXhwb3J0e3IgYXMgVmVydGV4QnVmZmVyc307XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2dldFN0cmlkZXMgYXMgdH1mcm9tXCIuLi9VdGlscy5qc1wiO2ltcG9ydHtWZXJ0ZXhCdWZmZXJzIGFzIGV9ZnJvbVwiLi9WZXJ0ZXhCdWZmZXIuanNcIjtpbXBvcnQgciBmcm9tXCIuLi91dGlsL1dyaXRlci5qc1wiO2NsYXNzIHN7Z2V0IHZlcnRleENvdW50KCl7Y29uc3QgdD10aGlzLnN0cmlkZS80LGU9dGhpcy5kYXRhLmxlbmd0aC90O3JldHVybiBlIT09KDB8ZSkmJmNvbnNvbGUuZGVidWcoXCJDb3JydXB0ZWQgc3RyaWRlXCIpLGV9Y29uc3RydWN0b3IodCxlKXt0aGlzLmRhdGE9dCx0aGlzLnN0cmlkZT1lfXRyYW5zZmVyKHQsZSl7Y29uc3Qgcj10aGlzLmRhdGEuYnVmZmVyKCk7dC52ZXJ0ZXhDb3VudD10aGlzLnZlcnRleENvdW50LHQuZGF0YT1yLHQuc3RyaWRlPXRoaXMuc3RyaWRlLGUucHVzaChyKX19Y2xhc3Mgb3tjb25zdHJ1Y3RvcihlLG8sbil7dGhpcy5nZW9tZXRyeVR5cGU9ZSx0aGlzLmluZGV4VmVjdG9yPW5ldyByKFVpbnQzMkFycmF5LDYqbyksdGhpcy5uYW1lZFZlY3RvcnM9e307Y29uc3QgaT10KGUsbik7Zm9yKGNvbnN0IHQgaW4gaSl7Y29uc3QgZT1pW3RdO2xldCBuO3N3aXRjaChlJTQpe2Nhc2UgMDpjYXNlIDI6bj1uZXcgcihVaW50MzJBcnJheSxlKm8pO2JyZWFrO2Nhc2UgMTpjYXNlIDM6bj1uZXcgcihVaW50OEFycmF5LGUqbyl9dGhpcy5uYW1lZFZlY3RvcnNbdF09bmV3IHMobixlKX19Z2V0KHQpe3JldHVybiB0aGlzLm5hbWVkVmVjdG9yc1t0XS5kYXRhfWdldFZlY3Rvcih0KXtyZXR1cm4gdGhpcy5uYW1lZFZlY3RvcnNbdF19dHJhbnNmZXIodCxlKXtjb25zdCByPXRoaXMuaW5kZXhWZWN0b3IuYnVmZmVyKCkscz17fTtsZXQgbztmb3IobyBpbiBlLnB1c2gociksdGhpcy5uYW1lZFZlY3RvcnMpe2NvbnN0IHQ9dGhpcy5uYW1lZFZlY3RvcnNbb107c1tvXT17fSx0LnRyYW5zZmVyKHNbb10sZSl9dC5nZW9tZXRyeVR5cGU9dGhpcy5nZW9tZXRyeVR5cGUsdC5pbmRleEJ1ZmZlcj1yLHQubmFtZWRCdWZmZXJzPXMsdGhpcy5kZXN0cm95KCl9aW50b0J1ZmZlcnMoKXtjb25zdCB0PWUuZnJvbVZlcnRleFZlY3RvcnModGhpcyk7cmV0dXJuIHRoaXMuZGVzdHJveSgpLHR9ZGVzdHJveSgpe3RoaXMuaW5kZXhWZWN0b3I9bnVsbCx0aGlzLm5hbWVkVmVjdG9ycz1udWxsfX1leHBvcnR7cyBhcyBWZXJ0ZXhWZWN0b3IsbyBhcyBWZXJ0ZXhWZWN0b3JzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiBlKGUsbil7aWYobnVsbCE9PW4pe2UucHVzaChuLmxlbmd0aCk7Zm9yKGNvbnN0IHIgb2YgbilyLnNlcmlhbGl6ZShlKTtyZXR1cm4gZX1lLnB1c2goMCl9ZnVuY3Rpb24gbihlLG4scil7Y29uc3QgdD1lLnJlYWRJbnQzMigpLG89bmV3IEFycmF5KHQpO2ZvcihsZXQgaT0wO2k8by5sZW5ndGg7aSsrKW9baV09bi5kZXNlcmlhbGl6ZShlLHIpO3JldHVybiBvfWV4cG9ydHtuIGFzIGRlc2VyaWFsaXplTGlzdCxlIGFzIHNlcmlhbGl6ZUxpc3R9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtnZXRKc29uVHlwZSBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvanNvblV0aWxzLmpzXCI7aW1wb3J0e2NvbnZlcnRGcm9tR3JhcGhpY3MgYXMgdH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydHtGZWF0dXJlU2V0UmVhZGVyIGFzIGV9ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVyLmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXJKU09OIGFzIHN9ZnJvbVwiLi9GZWF0dXJlU2V0UmVhZGVySlNPTi5qc1wiO2NsYXNzIG8gZXh0ZW5kcyBze3N0YXRpYyBmcm9tKHMsbixpKXtjb25zdCBjPWUuY3JlYXRlSW5zdGFuY2UoKSx1PVtdLGE9cy5maWx0ZXIoKHI9PiEhci5nZW9tZXRyeSkpO2Zvcihjb25zdCBlIG9mIGEpe2NvbnN0IHM9cihlLmdlb21ldHJ5KTt0KHUsW2VdLHMsITEsITEsbil9cmV0dXJuIG5ldyBvKGMsdSxpKX1jb25zdHJ1Y3RvcihyLHQsZSl7c3VwZXIocix0LG51bGwpLHRoaXMuX3RyYW5zZm9ybT1lfWdldCBnZW9tZXRyeVR5cGUoKXtjb25zdCByPXRoaXMuX2N1cnJlbnQ7cmV0dXJuIHI/ci5nZW9tZXRyeVR5cGU6bnVsbH1nZXQgaW5zZXJ0QWZ0ZXIoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5pbnNlcnRBZnRlcn1yZWFkR3JhcGhpYygpe3JldHVybiB0aGlzLl9jdXJyZW50fWdldEN1cnNvcigpe3JldHVybiB0aGlzLmNvcHkoKX1jb3B5KCl7Y29uc3Qgcj1uZXcgbyh0aGlzLmluc3RhbmNlLHRoaXMuX2ZlYXR1cmVzLHRoaXMuX3RyYW5zZm9ybSk7cmV0dXJuIHRoaXMuY29weUludG8ocikscn19ZXhwb3J0e28gYXMgR3JhcGhpY3NSZWFkZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtwdDJweCBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvc2NyZWVuVXRpbHMuanNcIjtpbXBvcnR7ciBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9yYnVzaC5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgaSxpbnRlcnNlY3RzIGFzIHIsY2xvbmUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2dldEJvdW5kc1hZIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9ib3VuZHNVdGlscy5qc1wiO2ltcG9ydHtub3JtYWxpemVNYXBYIGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9ub3JtYWxpemVVdGlscy5qc1wiO2ltcG9ydHtnZXRJbmZvIGFzIGx9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9zcGF0aWFsUmVmZXJlbmNlVXRpbHMuanNcIjtpbXBvcnR7SGl0dGVzdERyYXdIZWxwZXIgYXMgdX1mcm9tXCIuLi8uLi8uLi8uLi9zeW1ib2xzL2NpbS9DSU1TeW1ib2xEcmF3SGVscGVyLmpzXCI7aW1wb3J0e0NJTVN5bWJvbEluZmxhdGVkU2l6ZUhlbHBlciBhcyBofWZyb21cIi4uLy4uLy4uLy4uL3N5bWJvbHMvY2ltL0NJTVN5bWJvbEhlbHBlci5qc1wiO2ltcG9ydCBhIGZyb21cIi4vR3JhcGhpY1N0b3JlSXRlbS5qc1wiO2ltcG9ydHtQSVhFTF9CVUZGRVIgYXMgYyxncmFwaGljR2VvbWV0cnlUb051bWJlciBhcyBkfWZyb21cIi4vZ3JhcGhpY3NVdGlscy5qc1wiO2NvbnN0IG09e21pblg6MCxtaW5ZOjAsbWF4WDowLG1heFk6MH0scD1pKCksZz0xZS01O2Z1bmN0aW9uIGYoZSx0LGkscixzKXtyZXR1cm4gbS5taW5YPXQsbS5taW5ZPWksbS5tYXhYPXIsbS5tYXhZPXMsZS5zZWFyY2gobSl9ZnVuY3Rpb24gXyhlKXtyZXR1cm57bWluWDplLmJvdW5kc1swXSxtaW5ZOmUuYm91bmRzWzFdLG1heFg6ZS5ib3VuZHNbMl0sbWF4WTplLmJvdW5kc1szXX19Y2xhc3MgYntjb25zdHJ1Y3RvcihlLGkscixzLG8sbixsKXt0aGlzLl9ncmFwaGljcz1zLHRoaXMuX29uQWRkPW8sdGhpcy5fb25SZW1vdmU9bix0aGlzLl9oYXNoVG9DSU09bCx0aGlzLl9pbmRleD10KDksXyksdGhpcy5faXRlbUJ5R3JhcGhpYz1uZXcgTWFwLHRoaXMuX2luZmxhdGVkU2l6ZUhlbHBlcj1uZXcgaCx0aGlzLl90aWxlSW5mb1ZpZXc9ZSx0aGlzLl91aWRGaWVsZE5hbWU9cjtjb25zdCB1PWUuZ2V0Q2xvc2VzdEluZm9Gb3JTY2FsZShpKTt1JiYodGhpcy5fcmVzb2x1dGlvbj10aGlzLl90aWxlSW5mb1ZpZXcuZ2V0VGlsZVJlc29sdXRpb24odS5sZXZlbCkpfXNldFJlc291cmNlTWFuYWdlcihlKXt0aGlzLl9jaW1SZXNvdXJjZU1hbmFnZXI9ZSx0aGlzLl9oaXR0ZXN0RHJhd0hlbHBlcj1uZXcgdShlKX1oaXRUZXN0KGUsdCxzLG8sbCl7ZT1uKGUsdGhpcy5fdGlsZUluZm9WaWV3LnNwYXRpYWxSZWZlcmVuY2UpO2NvbnN0IHU9LjUqbyp3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbypzO3BbMF09ZS11LHBbMV09dC11LHBbMl09ZSt1LHBbM109dCt1O2NvbnN0IGg9LjUqbyoocytjKSxhPWYodGhpcy5faW5kZXgsZS1oLHQtaCxlK2gsdCtoKTtpZighYXx8MD09PWEubGVuZ3RoKXJldHVybltdO2NvbnN0IGQ9W10sbT1pKCksZz1pKCk7Zm9yKGNvbnN0IGkgb2YgYSl7Y29uc3R7Z2VvbWV0cnk6ZSxzeW1ib2xSZXNvdXJjZTp0fT1pO3RoaXMuX2dldFN5bWJvbEJvdW5kcyhtLHQsZSxnLGwpLGdbM109Z1syXT1nWzFdPWdbMF09MCxyKG0scCkmJmkuZ3JhcGhpYz8udmlzaWJsZSYmZC5wdXNoKGkpfWlmKDA9PT1kLmxlbmd0aClyZXR1cm5bXTtjb25zdCBfPXRoaXMuX2hpdHRlc3REcmF3SGVscGVyLGI9W107Zm9yKGNvbnN0IGkgb2YgZCl7Y29uc3R7Z2VvbWV0cnk6ZSxzeW1ib2xSZXNvdXJjZTp0fT1pLHtoYXNoOnIsdGV4dEluZm86c309dCxuPXRoaXMuX2hhc2hUb0NJTS5nZXQocik7biYmKF8uaGl0VGVzdChwLG4uc3ltYm9sLGUscyxsLG8pJiZiLnB1c2goaSkpfXJldHVybiBiLnNvcnQoeSksYi5tYXAoKGU9PmUuZ3JhcGhpYykpfWdldEdyYXBoaWNzRGF0YShlLHQsaSl7Y29uc3Qgcj10aGlzLl9zZWFyY2hGb3JJdGVtcyh0KTtpZigwPT09ci5sZW5ndGh8fDA9PT1pLmxlbmd0aClyZXR1cm5bXTtyLnNvcnQoKChlLHQpPT5lLnpvcmRlci10LnpvcmRlcikpLHJbMF0uaW5zZXJ0QWZ0ZXI9LTE7Zm9yKGxldCBhPTE7YTxyLmxlbmd0aDthKyspclthXS5pbnNlcnRBZnRlcj1yW2EtMV0uZ3JhcGhpYy51aWQ7ci5zb3J0KCgoZSx0KT0+ZS5ncmFwaGljLnVpZC10LmdyYXBoaWMudWlkKSksaS5zb3J0KCgoZSx0KT0+ZS51aWQtdC51aWQpKTtsZXQgcyxvPTAsbj0wO2NvbnN0IGw9dC5yZXNvbHV0aW9uLHU9W10saD17b3JpZ2luUG9zaXRpb246XCJ1cHBlckxlZnRcIixzY2FsZTpbbCxsXSx0cmFuc2xhdGU6W3QuYm91bmRzWzBdLHQuYm91bmRzWzNdXX07Zm9yKGNvbnN0IGMgb2YgaSl7Zm9yKG49LTI7bzxyLmxlbmd0aDspaWYocz1yW29dLG8rKyxjLnVpZD09PXMuZ3JhcGhpYy51aWQpe249cy5pbnNlcnRBZnRlcjticmVha31pZighcz8uZ2VvbWV0cnl8fC0yPT09biljb250aW51ZTtjb25zdCBpPXMuZ2V0R2VvbWV0cnlRdWFudGl6ZWQoaCx0LmJvdW5kcyx0aGlzLl90aWxlSW5mb1ZpZXcuc3BhdGlhbFJlZmVyZW5jZSxsKSxkPXsuLi5zLmdyYXBoaWMuYXR0cmlidXRlc307ZFt0aGlzLl91aWRGaWVsZE5hbWVdPWMudWlkLG51bGw9PXMuZ3JvdXBJZCYmKHMuZ3JvdXBJZD1lLmNyZWF0ZVRlbXBsYXRlR3JvdXAocy5zeW1ib2wsbnVsbCkpLHUucHVzaCh7Y2VudHJvaWQ6YS5nZXRDZW50cm9pZFF1YW50aXplZChzLGgpLGdlb21ldHJ5OmksYXR0cmlidXRlczpkLHN5bWJvbDpzLnN5bWJvbCxncm91cElkOnMuZ3JvdXBJZCxpbnNlcnRBZnRlcjpuLHpvcmRlcjpzLnpvcmRlcn0pfXJldHVybiB1LnNvcnQoKChlLHQpPT5lLnpvcmRlci10LnpvcmRlcikpLHV9cXVlcnlUaWxlRGF0YShlLHQpe2lmKDA9PT10aGlzLl9ncmFwaGljcy5sZW5ndGgpcmV0dXJuW107Y29uc3R7Ym91bmRzOmkscmVzb2x1dGlvbjpyfT10LHM9dGhpcy5fc2VhcmNoRm9ySXRlbXModCksbz1bXTtyZXR1cm4gMD09PXMubGVuZ3RofHx0aGlzLl9jcmVhdGVUaWxlR3JhcGhpY3MobyxlLHMse29yaWdpblBvc2l0aW9uOlwidXBwZXJMZWZ0XCIsc2NhbGU6W3Iscl0sdHJhbnNsYXRlOltpWzBdLGlbM11dfSx0KSxvfWhhcyhlKXtyZXR1cm4gdGhpcy5faXRlbUJ5R3JhcGhpYy5oYXMoZSl9Z2V0Qm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5faXRlbUJ5R3JhcGhpYy5nZXQoZSk7cmV0dXJuIHQ/dC5ib3VuZHM6bnVsbH1nZXRBbGxCb3VuZHMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9pdGVtQnlHcmFwaGljLnZhbHVlcygpKS5maWx0ZXIoKGU9PmUuZ3JhcGhpYy52aXNpYmxlKSkubWFwKChlPT5lLmJvdW5kcykpfWFkZE9yTW9kaWZ5KGUsdCxpKXtpZighZXx8bnVsbD09dClyZXR1cm47dGhpcy5oYXMoZSkmJnRoaXMucmVtb3ZlKGUpLHRoaXMuX29uQWRkKGUpO2NvbnN0IHI9WzAsMCwwLDBdLHM9dGhpcy5fZ2V0U3ltYm9sQm91bmRzKG51bGwsdCxpLHIsMCksbz1hLmFjcXVpcmUoZSx0LGksbnVsbCE9cz9zOm51bGwscik7cmV0dXJuIHRoaXMuX2l0ZW1CeUdyYXBoaWMuc2V0KGUsbyksaSYmdGhpcy5faW5kZXguaW5zZXJ0KG8pLG8uYm91bmRzfXJlbW92ZShlKXtpZighdGhpcy5faXRlbUJ5R3JhcGhpYy5oYXMoZSkpcmV0dXJuO3RoaXMuX29uUmVtb3ZlKGUpO2NvbnN0IHQ9dGhpcy5faXRlbUJ5R3JhcGhpYy5nZXQoZSk7dD8uYm91bmRzJiZ0aGlzLl9pbmRleC5yZW1vdmUodCksdGhpcy5faXRlbUJ5R3JhcGhpYy5kZWxldGUoZSl9dXBkYXRlWigpe2NvbnN0IGU9dGhpcy5fZ3JhcGhpY3MuaXRlbXM7bGV0IHQsaTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpPWVbcl0sdD10aGlzLl9pdGVtQnlHcmFwaGljLmdldChpKSx0JiYodC56b3JkZXI9cil9dXBkYXRlKGUsdCxpKXtjb25zdCByPXRoaXMuX2l0ZW1CeUdyYXBoaWMuZ2V0KGUpO3IuZ3JvdXBJZD1udWxsO2NvbnN0IG89cyhyLmJvdW5kcyk7dGhpcy5faW5kZXgucmVtb3ZlKHIpO2NvbnN0IG49dGhpcy5fZ2V0U3ltYm9sQm91bmRzKHIuYm91bmRzLHQsaSxyLnNpemUsMCk7cmV0dXJuIG51bGwhPW4mJnIuc2V0KGUsdCxpLG4sci5zaXplKSxpJiZ0aGlzLl9pbmRleC5pbnNlcnQocikse29sZEJvdW5kczpvLG5ld0JvdW5kczpyLmJvdW5kc319dXBkYXRlTGV2ZWwoZSl7aWYodGhpcy5fcmVzb2x1dGlvbj09PWUpcmV0dXJuO3RoaXMuX3Jlc29sdXRpb249ZSx0aGlzLl9pbmRleC5jbGVhcigpO2NvbnN0IHQ9dGhpcy5faXRlbUJ5R3JhcGhpYyxpPVtdO2Zvcihjb25zdFtyLHNdb2YgdCl7Y29uc3QgZT10aGlzLl9nZXRTeW1ib2xCb3VuZHMocy5ib3VuZHMscy5zeW1ib2xSZXNvdXJjZSxzLmdlb21ldHJ5LHMuc2l6ZSwwKTtzLmdlb21ldHJ5JiZudWxsIT1lJiYocy5ib3VuZHM9ZSxpLnB1c2gocykpfXRoaXMuX2luZGV4LmxvYWQoaSl9Y2xlYXIoKXt0aGlzLl9pdGVtQnlHcmFwaGljLmNsZWFyKCksdGhpcy5faW5kZXguY2xlYXIoKX1fY3JlYXRlVGlsZUdyYXBoaWNzKGUsdCxpLHIscyl7Y29uc3Qgbz10aGlzLl91aWRGaWVsZE5hbWUsbj10aGlzLl90aWxlSW5mb1ZpZXcuc3BhdGlhbFJlZmVyZW5jZSx7Ym91bmRzOmwscmVzb2x1dGlvbjp1fT1zO2xldCBoLGMsZCxtO2kuc29ydCgoKGUsdCk9PmUuem9yZGVyLXQuem9yZGVyKSk7Zm9yKGxldCBwPTA7cDxpLmxlbmd0aDtwKyspe2Q9aVtwXSxoPWQuZ3JhcGhpYyxjPWQuZ2V0R2VvbWV0cnlRdWFudGl6ZWQocixsLG4sdSksbT0wPT09cD8tMTppW3AtMV0uZ3JhcGhpYy51aWQ7Y29uc3Qgcz17Li4uZC5ncmFwaGljLmF0dHJpYnV0ZXN9O3Nbb109aC51aWQsbnVsbD09ZC5ncm91cElkJiYoZC5ncm91cElkPXQuY3JlYXRlVGVtcGxhdGVHcm91cChkLnN5bWJvbCxudWxsKSksZS5wdXNoKHtjZW50cm9pZDphLmdldENlbnRyb2lkUXVhbnRpemVkKGQsciksZ2VvbWV0cnk6YyxhdHRyaWJ1dGVzOnMsc3ltYm9sOmQuc3ltYm9sLGdyb3VwSWQ6ZC5ncm91cElkLGluc2VydEFmdGVyOm0sem9yZGVyOmQuem9yZGVyfSl9fV9zZWFyY2hGb3JJdGVtcyhlKXtjb25zdCB0PXRoaXMuX3RpbGVJbmZvVmlldy5zcGF0aWFsUmVmZXJlbmNlLHI9ZS5ib3VuZHMscz1sKHQpO2lmKHMmJnQuaXNXcmFwcGFibGUpe2NvbnN0W3Qsb109cy52YWxpZCxuPU1hdGguYWJzKHJbMl0tbyk8ZyxsPU1hdGguYWJzKHJbMF0tdCk8ZztpZigoIW58fCFsKSYmKG58fGwpKXtjb25zdCBzPWUucmVzb2x1dGlvbjtsZXQgbDtsPWkobj9bdCxyWzFdLHQrcypjLHJbM11dOltvLXMqYyxyWzFdLG8sclszXV0pO2NvbnN0IHU9Zih0aGlzLl9pbmRleCxyWzBdLHJbMV0sclsyXSxyWzNdKSxoPWYodGhpcy5faW5kZXgsbFswXSxsWzFdLGxbMl0sbFszXSk7cmV0dXJuWy4uLm5ldyBTZXQoWy4uLnUsLi4uaF0pXX19cmV0dXJuIGYodGhpcy5faW5kZXgsclswXSxyWzFdLHJbMl0sclszXSl9X2dldFN5bWJvbEJvdW5kcyh0LHIscyxuLGwpe2lmKCFyfHwhci5zeW1ib2x8fCFzKXJldHVybiBudWxsO2lmKHR8fCh0PWkoKSksbyh0LHMpLCFufHwwPT09blswXSYmMD09PW5bMV0mJjA9PT1uWzJdJiYwPT09blszXSl7Y29uc3R7aGFzaDp0LHRleHRJbmZvOml9PXIscz10aGlzLl9oYXNoVG9DSU0uZ2V0KHQpO2lmKCFzKXJldHVybiBudWxsO258fChuPVswLDAsMCwwXSk7Y29uc3Qgbz10aGlzLl9pbmZsYXRlZFNpemVIZWxwZXIuZ2V0U3ltYm9sSW5mbGF0ZVNpemUobixzLnN5bWJvbCx0aGlzLl9jaW1SZXNvdXJjZU1hbmFnZXIsbCxpKTtuWzBdPWUob1swXSksblsxXT1lKG9bMV0pLG5bMl09ZShvWzJdKSxuWzNdPWUob1szXSl9Y29uc3QgdT10aGlzLl9yZXNvbHV0aW9uLGE9aC5zYWZlU2l6ZShuKTtyZXR1cm4gdFswXS09YSp1LHRbMV0tPWEqdSx0WzJdKz1hKnUsdFszXSs9YSp1LHR9fWNvbnN0IHk9KGUsdCk9Pntjb25zdCBpPWQoZS5ncmFwaGljKSxyPWQodC5ncmFwaGljKTtyZXR1cm4gaT09PXI/dC56b3JkZXItZS56b3JkZXI6aS1yfTtleHBvcnR7YiBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlIGFzIHQsY29udGFpbnNQb2ludFdpdGhNYXJnaW4gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e3BvbHlnb25DZW50cm9pZCBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvY2VudHJvaWQuanNcIjtpbXBvcnR7aXNQb2x5Z29uIGFzIHIsZ2V0SnNvblR5cGUgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2pzb25VdGlscy5qc1wiO2ltcG9ydHtxdWFudGl6ZVBvaW50IGFzIG8scXVhbnRpemVHZW9tZXRyeSBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvcXVhbnRpemF0aW9uVXRpbHMuanNcIjtpbXBvcnR7Z2V0SW5mbyBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e2NvbnZlcnRGcm9tUG9seWxpbmUgYXMgdSxnZW5lcmFsaXplT3B0aW1pemVkR2VvbWV0cnkgYXMgaCxxdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIGEsY29udmVydFRvUG9seWxpbmUgYXMgbX1mcm9tXCIuLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvZmVhdHVyZUNvbnZlcnNpb25VdGlscy5qc1wiO2ltcG9ydCBjIGZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9PcHRpbWl6ZWRHZW9tZXRyeS5qc1wiO2NvbnN0IHA9bmV3IGMseT1uZXcgYyxnPVwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIjtmdW5jdGlvbiBmKHQpe3QuY29vcmRzLmxlbmd0aD0wLHQubGVuZ3Rocy5sZW5ndGg9MH1jbGFzcyBke2NvbnN0cnVjdG9yKCl7dGhpcy5ib3VuZHM9dCgpLHRoaXMuZ3JhcGhpYz1udWxsfXN0YXRpYyBhY3F1aXJlKHQ9bnVsbCxlLHMscixpKXtsZXQgbztyZXR1cm4gMD09PWQuX3Bvb2wubGVuZ3RoP289bmV3IGQ6KG89ZC5fcG9vbC5wb3AoKSx0aGlzLl9zZXQuZGVsZXRlKG8pKSxvLmFjcXVpcmUodCxlLHMscixpKSxvfXN0YXRpYyByZWxlYXNlKHQpe3QmJiF0aGlzLl9zZXQuaGFzKHQpJiYodC5yZWxlYXNlKCksdGhpcy5fcG9vbC5wdXNoKHQpLHRoaXMuX3NldC5hZGQodCkpfXN0YXRpYyBnZXRDZW50cm9pZFF1YW50aXplZCh0LGUpe2lmKHIodC5nZW9tZXRyeSkpe2NvbnN0IHI9dC5zeW1ib2w7aWYobnVsbD09cilyZXR1cm4gbnVsbDtpZihyPy5sYXllcnMubGVuZ3RoPjAmJnIubGF5ZXJzLnNvbWUoKHQ9PlwidGV4dFwiPT09dC50eXBlfHxcIm1hcmtlclwiPT09dC50eXBlKSkpe2NvbnN0IHI9cyh0Lmdlb21ldHJ5KTtyZXR1cm4gbnVsbCE9PXI/byhlLHt9LHt4OnJbMF0seTpyWzFdfSwhMSwhMSk6bnVsbH19cmV0dXJuIG51bGx9YWNxdWlyZSh0PW51bGwsZSxzLHIsaSl7dCYmdGhpcy5zZXQodCxlLHMscixpKX1yZWxlYXNlKCl7dGhpcy5ncmFwaGljPW51bGwsdGhpcy5zeW1ib2xSZXNvdXJjZT1udWxsLHRoaXMuZ2VvbWV0cnk9bnVsbH1nZXQgc3ltYm9sKCl7cmV0dXJuIHRoaXMuc3ltYm9sUmVzb3VyY2Uuc3ltYm9sfXNldCh0LGUscyxyLGkpe3RoaXMuZ3JhcGhpYz10LHRoaXMuZ2VvbWV0cnk9cyx0aGlzLnN5bWJvbFJlc291cmNlPWUsdGhpcy5ib3VuZHM9cixpJiYodGhpcy5zaXplPWkpfWdldEdlb21ldHJ5UXVhbnRpemVkKHQscyxyLG8pe2NvbnN0IGM9dGhpcy5nZW9tZXRyeSxkPWkoYyk7aWYobnVsbD09ZClyZXR1cm4gbnVsbDtzd2l0Y2goZCl7Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWdvblwiOntjb25zdCBlPWMse3JpbmdzOnN9PWU7aWYoIXN8fDA9PT1zLmxlbmd0aClyZXR1cm4gbnVsbDtsZXQgcjtpZihyPTE9PT1zLmxlbmd0aCYmMj09PXNbMF0ubGVuZ3RoP24odCx7cGF0aHM6W1tzWzBdWzBdLHNbMF1bMV1dXX0pOm4odCx0aGlzLmdlb21ldHJ5KSwhcil7Y29uc3QgZT17eDpzWzBdWzBdWzBdLHk6c1swXVswXVsxXX07aWYocj1uKHQsZSkscil7Y29uc3R7eDp0LHk6ZX09cjtyZXR1cm57cmluZ3M6W1tbdC0xLGVdLFsxLC0xXSxbMSwxXSxbLTEsMV0sWy0xLC0xXV1dfX19cmV0dXJuIHJ9Y2FzZVwiZXNyaUdlb21ldHJ5UG9seWxpbmVcIjp7Y29uc3QgZT1jO2YocCksZih5KTtjb25zdCBzPWUuaGFzWj8/ITEscj1lLmhhc00/PyExO3JldHVybiB1KHAsZSksaCh5LHAscyxyLGcsdC5zY2FsZVswXSksYShwLHkscyxyLGcsdCksbShwLGUuaGFzWj8/ITEsZS5oYXNNPz8hMSl9Y2FzZVwiZXNyaUdlb21ldHJ5TXVsdGlwb2ludFwiOntjb25zdCBpPWMsdT0uNSpvKk1hdGgubWF4KE1hdGguYWJzKHRoaXMuc2l6ZVswXSkrdGhpcy5zaXplWzJdLXRoaXMuc2l6ZVswXSxNYXRoLmFicyh0aGlzLnNpemVbMV0pK3RoaXMuc2l6ZVszXS10aGlzLnNpemVbMV0pLGg9bChyKTtsZXQgYT1pLnBvaW50cztpZihoKXtjb25zdFt0LHJdPWgudmFsaWQsaT1yLXQ7YT1hLmZpbHRlcigobz0+e2lmKG9bMF0rdT5yfHxvWzBdLXU8dCl7Y29uc3QgdD1bLi4ub107cmV0dXJuIG9bMF0rdT5yP3RbMF0tPWk6dFswXSs9aSxlKHMsbyx1KXx8ZShzLHQsdSl9cmV0dXJuIGUocyxvLHUpfSkpfXJldHVybiAwPT09YS5sZW5ndGg/e3BvaW50czphfTpuKHQse3BvaW50czphfSl9fXJldHVybiBuKHQsdGhpcy5nZW9tZXRyeSl9fWQuX3Bvb2w9W10sZC5fc2V0PW5ldyBTZXQ7ZXhwb3J0e2QgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e18gYXMgZX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvdHNsaWIuZXM2LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9BY2Nlc3Nvci5qc1wiO2ltcG9ydHtpc1NvbWUgYXMgc31mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2FycmF5VXRpbHMuanNcIjtpbXBvcnR7YmlkaVRleHQgYXMgaX1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0JpZGlUZXh0LmpzXCI7aW1wb3J0e0hhbmRsZU93bmVyTWl4aW4gYXMgcn1mcm9tXCIuLi8uLi8uLi8uLi9jb3JlL0hhbmRsZU93bmVyLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtJZGVudGlmaWFibGVNaXhpbiBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvSWRlbnRpZmlhYmxlLmpzXCI7aW1wb3J0e2Fzc2VydElzU29tZSBhcyBhfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7dGhyb3dJZkFib3J0ZWQgYXMgbixpc0Fib3J0RXJyb3IgYXMgaCx0aHJvd0lmQWJvcnRFcnJvciBhcyBsfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e3dhdGNoIGFzIGR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9yZWFjdGl2ZVV0aWxzLmpzXCI7aW1wb3J0e3Byb3BlcnR5IGFzIHB9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9wcm9wZXJ0eS5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZW5zdXJlVHlwZS5qc1wiO2ltcG9ydHtzdWJjbGFzcyBhcyBjfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RlY29yYXRvcnMvc3ViY2xhc3MuanNcIjtpbXBvcnQgZyBmcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9TcGF0aWFsUmVmZXJlbmNlLmpzXCI7aW1wb3J0e3dpZHRoIGFzIHUsaGVpZ2h0IGFzIG0sY3JlYXRlIGFzIF99ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9hYUJvdW5kaW5nUmVjdC5qc1wiO2ltcG9ydHtjbG9zZVJpbmdzQW5kRml4V2luZGluZyBhcyBmfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvY29vcmRzVXRpbHMuanNcIjtpbXBvcnR7Z2V0SnNvblR5cGUgYXMgeSxpc1BvbHlnb24gYXMgYixpc1BvbHlsaW5lIGFzIFMsaXNFeHRlbnQgYXMgdyxpc1BvaW50IGFzIHYsaXNNdWx0aXBvaW50IGFzIFR9ZnJvbVwiLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtpbXBvcnR7bm9ybWFsaXplQ2VudHJhbE1lcmlkaWFuRm9yRGlzcGxheSBhcyBJfWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvbm9ybWFsaXplVXRpbHNTeW5jLmpzXCI7aW1wb3J0e2dldEluZm8gYXMgVX1mcm9tXCIuLi8uLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L3NwYXRpYWxSZWZlcmVuY2VVdGlscy5qc1wiO2ltcG9ydHtjaGVja1Byb2plY3Rpb25TdXBwb3J0IGFzIEcscHJvamVjdCBhcyBNfWZyb21cIi4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9kYXRhL3Byb2plY3Rpb25TdXBwb3J0LmpzXCI7aW1wb3J0e3N5bWJvbFRvQ0lNIGFzIGp9ZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9jaW0vQ0lNU3ltYm9sSGVscGVyLmpzXCI7aW1wb3J0e2Vycm9yUG9seWxpbmVTeW1ib2wyRCBhcyBDLGVycm9yUG9seWdvblN5bWJvbDJEIGFzIFAsZXJyb3JQb2ludFN5bWJvbDJEIGFzIFJ9ZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9zdXBwb3J0L2RlZmF1bHRzLmpzXCI7aW1wb3J0e0ZJTFRFUl9GTEFHXzAgYXMgeH1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvZGVmaW5pdGlvbnMuanNcIjtpbXBvcnR7V0dMU3ltYm9sb2d5VHlwZSBhcyBBfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtHcmFwaGljVGlsZSBhcyB6fWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9HcmFwaGljVGlsZS5qc1wiO2ltcG9ydHtUaWxlRGF0YSBhcyBxfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9UaWxlRGF0YS5qc1wiO2ltcG9ydCBEIGZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9XR0xEaXNwbGF5T2JqZWN0LmpzXCI7aW1wb3J0e01lc2hEYXRhIGFzIEZ9ZnJvbVwiLi4vLi4vZW5naW5lL3dlYmdsL21lc2gvTWVzaERhdGEuanNcIjtpbXBvcnR7V0dMTWVzaEZhY3RvcnkgYXMgT31mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvbWVzaC9mYWN0b3JpZXMvV0dMTWVzaEZhY3RvcnkuanNcIjtpbXBvcnR7V0dMVGVtcGxhdGVTdG9yZSBhcyBFfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9tZXNoL3RlbXBsYXRlcy9XR0xUZW1wbGF0ZVN0b3JlLmpzXCI7aW1wb3J0e2NyZWF0ZU1hdGNoZXIgYXMgSH1mcm9tXCIuLi8uLi9lbmdpbmUvd2ViZ2wvdXRpbC9NYXRjaGVyLmpzXCI7aW1wb3J0e2NyZWF0ZVN5bWJvbFNjaGVtYU9wdGlvbnMgYXMgayxjcmVhdGVNYXRjaGVyU2NoZW1hIGFzIE59ZnJvbVwiLi4vZmVhdHVyZXMvc2NoZW1hVXRpbHMuanNcIjtpbXBvcnQgQiBmcm9tXCIuLi9mZWF0dXJlcy9zdXBwb3J0L0F0dHJpYnV0ZVN0b3JlLmpzXCI7aW1wb3J0e0NvbXB1dGVkQXR0cmlidXRlU3RvcmFnZSBhcyBMfWZyb21cIi4uL2ZlYXR1cmVzL3N1cHBvcnQvQ29tcHV0ZWRBdHRyaWJ1dGVTdG9yYWdlLmpzXCI7aW1wb3J0e0dyYXBoaWNzUmVhZGVyIGFzIFZ9ZnJvbVwiLi4vZmVhdHVyZXMvc3VwcG9ydC9HcmFwaGljc1JlYWRlci5qc1wiO2ltcG9ydCBXIGZyb21cIi4vR3JhcGhpY1N0b3JlLmpzXCI7aW1wb3J0e2ludGVyc2VjdGluZ0ludGVybmF0aW9uYWxEYXRlbGluZSBhcyBKLGlzTWFya2VyU3ltYm9sIGFzIFosaXNUZXh0U3ltYm9sIGFzIEsscG9seWdvbkZyb21FeHRlbnQgYXMgUSxUSUxFX1NJWkUgYXMgWCxQSVhFTF9CVUZGRVIgYXMgWX1mcm9tXCIuL2dyYXBoaWNzVXRpbHMuanNcIjtpbXBvcnR7ZXhwYW5kU3ltYm9sIGFzICR9ZnJvbVwiLi4vc3VwcG9ydC9jaW1TeW1ib2xVdGlscy5qc1wiO2ltcG9ydHtnZXRXZWJHTENhcGFiaWxpdGllcyBhcyBlZX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9jYXBhYmlsaXRpZXMuanNcIjtpbXBvcnR7Y3JlYXRlU3ltYm9sU2NoZW1hIGFzIHRlfWZyb21cIi4uL2ZlYXR1cmVzL2NyZWF0ZVN5bWJvbFNjaGVtYS5qc1wiO2NvbnN0IHNlPWhhcyhcImVzcmktMmQtZ3JhcGhpYy1kZWJ1Z1wiKTtmdW5jdGlvbiBpZShlLHQscyl7bGV0IGk9cy5nZXQoZSk7cmV0dXJuIGl8fChpPXt0aWxlOnQsYWRkZWRPck1vZGlmaWVkOltdLHJlbW92ZWQ6W119LHMuc2V0KGUsaSkpLGl9bGV0IHJlPWNsYXNzIGV4dGVuZHMobyhyKHQpKSl7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5fc3RvcmFnZT1uZXcgTCx0aGlzLl9kaXNwbGF5SWRzPW5ldyBNYXAsdGhpcy5fY29udHJvbGxlcj1uZXcgQWJvcnRDb250cm9sbGVyLHRoaXMuX3RpbGVzPW5ldyBNYXAsdGhpcy5fZ3JhcGhpY1N0b3JlVXBkYXRlPSExLHRoaXMuX2dyYXBoaWNzU2V0PW5ldyBTZXQsdGhpcy5fbWF0Y2hlcj1Qcm9taXNlLnJlc29sdmUobnVsbCksdGhpcy5fdGlsZVVwZGF0ZVNldD1uZXcgU2V0LHRoaXMuX3RpbGVzVG9VcGRhdGU9bmV3IE1hcCx0aGlzLl9ncmFwaGljSWRUb0Fib3J0Q29udHJvbGxlcj1uZXcgTWFwLHRoaXMuX2F0dGFjaGVkPSExLHRoaXMuX3VwZGF0aW5nR3JhcGhpY3NUaW1lcj1udWxsLHRoaXMuX2hhc2hUb0V4cGFuZGVkU3ltYm9sPW5ldyBNYXAsdGhpcy5faGFzaFRvRXhwYW5kZWRTeW1ib2xQcm9taXNlPW5ldyBNYXAsdGhpcy5faGFzaFRvQ0lNU3ltYm9sUHJvbWlzZT1uZXcgTWFwLHRoaXMuX2hhc2hUb0NJTT1uZXcgTWFwLHRoaXMuX3Byb2Nlc3Npbmc9ITEsdGhpcy5fbmVlZHNQcm9jZXNzaW5nPSExLHRoaXMuX3BlbmRpbmdVcGRhdGU9e2FkZGVkOm5ldyBTZXQsdXBkYXRlZDpuZXcgU2V0LHJlbW92ZWQ6bmV3IFNldH0sdGhpcy5sYXN0VXBkYXRlSWQ9LTEsdGhpcy5yZW5kZXJlcj1udWxsLHRoaXMudXBkYXRlUmVxdWVzdGVkPSExLHRoaXMuZGVmYXVsdFBvaW50U3ltYm9sRW5hYmxlZD0hMCx0aGlzLmdyYXBoaWNVcGRhdGVIYW5kbGVyPXRoaXMuZ3JhcGhpY1VwZGF0ZUhhbmRsZXIuYmluZCh0aGlzKX1kZXN0cm95KCl7dGhpcy5fdXBkYXRpbmdHcmFwaGljc1RpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0aW5nR3JhcGhpY3NUaW1lciksdGhpcy5fdXBkYXRpbmdHcmFwaGljc1RpbWVyPW51bGwsdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSksdGhpcy5fY29udHJvbGxlci5hYm9ydCgpLHRoaXMuY29udGFpbmVyLmRlc3Ryb3koKSx0aGlzLl9zZXQoXCJncmFwaGljc1wiLG51bGwpLHRoaXMuX2dyYXBoaWNTdG9yZS5jbGVhcigpLHRoaXMuX2F0dHJpYnV0ZVN0b3JlPW51bGwsdGhpcy5faGFzaFRvRXhwYW5kZWRTeW1ib2wuY2xlYXIoKSx0aGlzLnZpZXc9bnVsbCx0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5faGFzaFRvQ0lNLmNsZWFyKCksdGhpcy5faGFzaFRvQ0lNU3ltYm9sUHJvbWlzZS5jbGVhcigpLHRoaXMuX2hhc2hUb0V4cGFuZGVkU3ltYm9sUHJvbWlzZS5jbGVhcigpfV9jcmVhdGVNYXRjaGVyKGUsdCxzKXtpZihlKXtjb25zdCBpPWsoZSkscj1OKHtpbmRleENvdW50OjAsZmllbGRzOnt9fSxcImZlYXR1cmVcIixlLGkpO3RoaXMuX21hdGNoZXI9SChyLHQsbnVsbCxzKX19X2NyZWF0ZURpc3BsYXlJZChlKXtsZXQgdD10aGlzLl9kaXNwbGF5SWRzLmdldChlKTtyZXR1cm4gdHx8KHQ9dGhpcy5fc3RvcmFnZS5jcmVhdGVEaXNwbGF5SWQoKSx0aGlzLl9kaXNwbGF5SWRzLnNldChlLHQpKSx0fWluaXRpYWxpemUoKXt0aGlzLl9hdHRyaWJ1dGVTdG9yZT1uZXcgQih7dHlwZTpcImxvY2FsXCIsaW5pdGlhbGl6ZTplPT5Qcm9taXNlLnJlc29sdmUodGhpcy5jb250YWluZXIuYXR0cmlidXRlVmlldy5pbml0aWFsaXplKGUpKSx1cGRhdGU6ZT0+dGhpcy5jb250YWluZXIuYXR0cmlidXRlVmlldy5yZXF1ZXN0VXBkYXRlKGUpLHJlbmRlcjooKT0+dGhpcy5jb250YWluZXIucmVxdWVzdFJlbmRlcigpfSxlZShcIjJkXCIpKSx0aGlzLmNvbnRhaW5lci5oYXNIaWdobGlnaHQ9KCk9PnRoaXMuX2F0dHJpYnV0ZVN0b3JlLmhhc0hpZ2hsaWdodDtjb25zdCBlPWU9Pnt0aGlzLl9jcmVhdGVEaXNwbGF5SWQoZS51aWQpLHRoaXMuX3NldEZpbHRlclN0YXRlKGUudWlkLGUudmlzaWJsZSl9LHQ9ZT0+e2NvbnN0IHQ9dGhpcy5fZGlzcGxheUlkcy5nZXQoZS51aWQpO3RoaXMuX2Rpc3BsYXlJZHMuZGVsZXRlKGUudWlkKSx0aGlzLl9zdG9yYWdlLnJlbGVhc2VEaXNwbGF5SWQodCl9LHM9bmV3IEUodGhpcy5jb250YWluZXIuZ2V0TWF0ZXJpYWxJdGVtcy5iaW5kKHRoaXMuY29udGFpbmVyKSx0aGlzLnZpZXcuZmVhdHVyZXNUaWxpbmdTY2hlbWUudGlsZUluZm8pO3RoaXMuX2dyYXBoaWNTdG9yZT1uZXcgVyh0aGlzLnZpZXcuZmVhdHVyZXNUaWxpbmdTY2hlbWUsdGhpcy52aWV3LnN0YXRlLnNjYWxlLHRoaXMudWlkLHRoaXMuZ3JhcGhpY3MsZSx0LHRoaXMuX2hhc2hUb0NJTSksdGhpcy5fbWVzaEZhY3Rvcnk9bmV3IE8obnVsbCx0aGlzLnVpZCxzKSx0aGlzLl90ZW1wbGF0ZVN0b3JlPXMsdGhpcy5oYW5kbGVzLmFkZChbZCgoKCk9PnRoaXMuX2VmZmVjdGl2ZVJlbmRlcmVyKSwoZT0+e3RoaXMuX2NyZWF0ZU1hdGNoZXIoZSxzLHRoaXMuY29udGFpbmVyLnN0YWdlLnJlc291cmNlTWFuYWdlcik7Zm9yKGNvbnN0IHQgb2YgdGhpcy5ncmFwaGljcyl0aGlzLl9wZW5kaW5nVXBkYXRlLnVwZGF0ZWQuYWRkKHQpO3RoaXMucmVxdWVzdFVwZGF0ZSgpfSkpLHRoaXMudmlldy5ncmFwaGljc1RpbGVTdG9yZS5vbihcInVwZGF0ZVwiLHRoaXMuX29uVGlsZVVwZGF0ZS5iaW5kKHRoaXMpKSx0aGlzLmNvbnRhaW5lci5vbihcImF0dGFjaFwiLCgoKT0+e3NlJiZ0aGlzLmNvbnRhaW5lci5lbmFibGVSZW5kZXJpbmdCb3VuZHMoKCgpPT50aGlzLl9ncmFwaGljU3RvcmUuZ2V0QWxsQm91bmRzKCkpKSx0aGlzLmdyYXBoaWNzLml0ZW1zLmxlbmd0aD4wJiZ0aGlzLl9ncmFwaGljc0NoYW5nZUhhbmRsZXIoe3RhcmdldDp0aGlzLmdyYXBoaWNzLGFkZGVkOnRoaXMuZ3JhcGhpY3MuaXRlbXMscmVtb3ZlZDpbXSxtb3ZlZDpbXX0pLHRoaXMuaGFuZGxlcy5hZGQodGhpcy5ncmFwaGljcy5vbihcImNoYW5nZVwiLChlPT50aGlzLl9ncmFwaGljc0NoYW5nZUhhbmRsZXIoZSkpKSxcImdyYXBoaWNzXCIpO2NvbnN0IGU9dGhpcy5jb250YWluZXIuc3RhZ2UucmVzb3VyY2VNYW5hZ2VyO3RoaXMuX2NyZWF0ZU1hdGNoZXIodGhpcy5fZWZmZWN0aXZlUmVuZGVyZXIscyxlKSx0aGlzLl9ncmFwaGljU3RvcmUuc2V0UmVzb3VyY2VNYW5hZ2VyKGUpLHRoaXMuX2F0dGFjaGVkPSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9KSldKTtjb25zdCBpPXRoaXMudmlldy5ncmFwaGljc1RpbGVTdG9yZS50aWxlczt0aGlzLl9vblRpbGVVcGRhdGUoe2FkZGVkOmkscmVtb3ZlZDpbXX0pfWdldCBfZWZmZWN0aXZlUmVuZGVyZXIoKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLnJlbmRlcmVyP3RoaXMucmVuZGVyZXIoKTp0aGlzLnJlbmRlcmVyfWdldCB1cGRhdGluZygpe3JldHVybiF0aGlzLl9hdHRhY2hlZHx8bnVsbCE9PXRoaXMuX3VwZGF0aW5nR3JhcGhpY3NUaW1lcnx8dGhpcy5fcGVuZGluZ1VwZGF0ZS5hZGRlZC5zaXplPjB8fHRoaXMuX3BlbmRpbmdVcGRhdGUucmVtb3ZlZC5zaXplPjB8fHRoaXMuX3BlbmRpbmdVcGRhdGUudXBkYXRlZC5zaXplPjB8fHRoaXMuX3RpbGVVcGRhdGVTZXQuc2l6ZT4wfHx0aGlzLl90aWxlc1RvVXBkYXRlLnNpemU+MHx8dGhpcy5fYXR0cmlidXRlU3RvcmU/LnVwZGF0aW5nSGFuZGxlcy51cGRhdGluZ3x8dGhpcy5fcHJvY2Vzc2luZ31oaXRUZXN0KGUpe2lmKCF0aGlzLnZpZXd8fHRoaXMudmlldy5zdXNwZW5kZWQpcmV0dXJuW107Y29uc3R7cmVzb2x1dGlvbjp0LHJvdGF0aW9uOnN9PXRoaXMudmlldy5zdGF0ZTtyZXR1cm4gdGhpcy5fZ3JhcGhpY1N0b3JlLmhpdFRlc3QoZS54LGUueSwyLHQscyl9dXBkYXRlKGUpe24odGhpcy5fY29udHJvbGxlci5zaWduYWwpO2NvbnN0IHQ9ZS5zdGF0ZSx7cmVzb2x1dGlvbjpzfT10O2lmKHRoaXMuX2dyYXBoaWNTdG9yZS51cGRhdGVMZXZlbChzKSx0aGlzLl9ncmFwaGljU3RvcmVVcGRhdGU9ITAsdGhpcy51cGRhdGVSZXF1ZXN0ZWQ9ITEsdGhpcy5fcGVuZGluZ1VwZGF0ZS51cGRhdGVkLnNpemU+MCl7aWYoIXRoaXMuX3Byb2Nlc3NpbmcpcmV0dXJuIHZvaWQgdGhpcy5fdXBkYXRlR3JhcGhpY3MoKTt0aGlzLl9uZWVkc1Byb2Nlc3Npbmc9ITB9fXZpZXdDaGFuZ2UoKXt0aGlzLnJlcXVlc3RVcGRhdGUoKX1yZXF1ZXN0VXBkYXRlKCl7dGhpcy51cGRhdGVSZXF1ZXN0ZWR8fCh0aGlzLnVwZGF0ZVJlcXVlc3RlZD0hMCx0aGlzLnJlcXVlc3RVcGRhdGVDYWxsYmFjaygpKX1wcm9jZXNzVXBkYXRlKGUpe3RoaXMudXBkYXRlUmVxdWVzdGVkJiYodGhpcy51cGRhdGVSZXF1ZXN0ZWQ9ITEsdGhpcy51cGRhdGUoZSkpfWdyYXBoaWNVcGRhdGVIYW5kbGVyKGUpe2NvbnN0e2dyYXBoaWM6dCxwcm9wZXJ0eTpzfT1lO3N3aXRjaChzKXtjYXNlXCJhdHRyaWJ1dGVzXCI6Y2FzZVwiZ2VvbWV0cnlcIjpjYXNlXCJzeW1ib2xcIjp0aGlzLl9wZW5kaW5nVXBkYXRlLnVwZGF0ZWQuYWRkKHQpLHRoaXMucmVxdWVzdFVwZGF0ZSgpO2JyZWFrO2Nhc2VcInZpc2libGVcIjp0aGlzLl9zZXRGaWx0ZXJTdGF0ZSh0LnVpZCx0LnZpc2libGUpLHRoaXMuX2F0dHJpYnV0ZVN0b3JlLnNlbmRVcGRhdGVzKCl9fXNldEhpZ2hsaWdodChlKXtjb25zdCB0PWUubWFwKChlPT50aGlzLl9kaXNwbGF5SWRzLmdldChlKSkpLmZpbHRlcihzKTt0aGlzLl9hdHRyaWJ1dGVTdG9yZS5zZXRIaWdobGlnaHQoZSx0KX1fZ2V0SW50ZXJzZWN0aW5nVGlsZXMoZSl7Y29uc3QgdD10aGlzLl9ncmFwaGljU3RvcmUuZ2V0Qm91bmRzKGUpO2lmKCF0fHwwPT09dSh0KXx8MD09PW0odCkpcmV0dXJuW107Y29uc3Qgcz1KKHQsdGhpcy52aWV3LnNwYXRpYWxSZWZlcmVuY2UpO3JldHVybiBudWxsIT1zP1suLi5uZXcgU2V0KFsuLi50aGlzLnZpZXcuZ3JhcGhpY3NUaWxlU3RvcmUuYm91bmRzSW50ZXJzZWN0aW9ucyhzWzBdKSwuLi50aGlzLnZpZXcuZ3JhcGhpY3NUaWxlU3RvcmUuYm91bmRzSW50ZXJzZWN0aW9ucyhzWzFdKV0pXTp0aGlzLnZpZXcuZ3JhcGhpY3NUaWxlU3RvcmUuYm91bmRzSW50ZXJzZWN0aW9ucyh0KX1hc3luYyBfdXBkYXRlVGlsZShlKXtuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKTtjb25zdCB0PWUudGlsZSxzPXRoaXMuX2dldEdyYXBoaWNzRGF0YSh0aGlzLl90ZW1wbGF0ZVN0b3JlLHQsZS5hZGRlZE9yTW9kaWZpZWQpLGk9YXdhaXQgdGhpcy5fcHJvY2Vzc0dyYXBoaWNzKHQscyk7cmV0dXJuIG4odGhpcy5fY29udHJvbGxlci5zaWduYWwpLHRoaXMuX3BhdGNoVGlsZSh0LmtleSx7dHlwZTpcInVwZGF0ZVwiLGFkZE9yVXBkYXRlOmkscmVtb3ZlOmUucmVtb3ZlZCxlbmQ6ITAsY2xlYXI6ITEsc29ydDohMX0pLGl9X3BhdGNoVGlsZShlLHQpe2NvbnN0IHM9dGhpcy5fdGlsZXMuZ2V0KGUpO3MmJih0aGlzLmNvbnRhaW5lci5vblRpbGVEYXRhKHMsdCksdGhpcy5jb250YWluZXIucmVxdWVzdFJlbmRlcigpKX1fZ3JhcGhpY3NDaGFuZ2VIYW5kbGVyKGUpe2NvbnN0IHQ9dGhpcy5fcGVuZGluZ1VwZGF0ZTtmb3IoY29uc3QgcyBvZiBlLmFkZGVkKXQuYWRkZWQuYWRkKHMpO2Zvcihjb25zdCBzIG9mIGUubW92ZWQpdC51cGRhdGVkLmFkZChzKTtmb3IoY29uc3QgcyBvZiBlLnJlbW92ZWQpdGhpcy5fcGVuZGluZ1VwZGF0ZS5hZGRlZC5oYXMocyk/dC5hZGRlZC5kZWxldGUocyk6dC5yZW1vdmVkLmFkZChzKTt0aGlzLl9wcm9jZXNzaW5nP3RoaXMuX25lZWRzUHJvY2Vzc2luZz0hMDp0aGlzLl91cGRhdGVHcmFwaGljcygpfV9nZXRHcmFwaGljc1RvVXBkYXRlKCl7Y29uc3QgZT17YWRkZWQ6W10scmVtb3ZlZDpbXSx1cGRhdGVkOltdfTtpZighdGhpcy5ncmFwaGljcylyZXR1cm4gZTtjb25zdCB0PXRoaXMuX3BlbmRpbmdVcGRhdGU7Zm9yKGNvbnN0IHMgb2YgdGhpcy5ncmFwaGljcy5pdGVtcyl0LmFkZGVkLmhhcyhzKT9lLmFkZGVkLnB1c2gocyk6dC51cGRhdGVkLmhhcyhzKSYmZS51cGRhdGVkLnB1c2gocyk7Zm9yKGNvbnN0IHMgb2YgdC5yZW1vdmVkKXRoaXMuX2dyYXBoaWNTdG9yZS5oYXMocykmJmUucmVtb3ZlZC5wdXNoKHMpO3JldHVybiB0LmFkZGVkLmNsZWFyKCksdC5yZW1vdmVkLmNsZWFyKCksdC51cGRhdGVkLmNsZWFyKCksZX1hc3luYyBfdXBkYXRlR3JhcGhpY3MoKXt0aGlzLl9wcm9jZXNzaW5nPSEwO2NvbnN0e2FkZGVkOmUscmVtb3ZlZDp0LHVwZGF0ZWQ6c309dGhpcy5fZ2V0R3JhcGhpY3NUb1VwZGF0ZSgpLGk9dGhpcy5fdGlsZXNUb1VwZGF0ZTtsZXQgcjt0cnl7aWYoIXRoaXMuX2dyYXBoaWNTdG9yZVVwZGF0ZSl7Y29uc3QgZT10aGlzLnZpZXcuc3RhdGUse3Jlc29sdXRpb246dH09ZTt0aGlzLl9ncmFwaGljU3RvcmUudXBkYXRlTGV2ZWwodCl9Y29uc3Qgbz1bXSxhPW5ldyBBcnJheShlLmxlbmd0aCt0Lmxlbmd0aCk7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspe2NvbnN0IHQ9c1tlXSxuPXRoaXMuX2dldEludGVyc2VjdGluZ1RpbGVzKHQpO2Zvcihjb25zdCBlIG9mIG4pe3I9ZS5pZDtpZShyLGUsaSkucmVtb3ZlZC5wdXNoKHRoaXMuX2Rpc3BsYXlJZHMuZ2V0KHQudWlkKSl9by5wdXNoKHRoaXMuX3VwZGF0ZUdyYXBoaWModCxudWxsKSksYVtlXT10fWNvbnN0IG49cy5sZW5ndGg7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IHM9ZVt0XTthW24rdF09cyx0aGlzLl9ncmFwaGljc1NldC5hZGQocyksby5wdXNoKHRoaXMuX2FkZEdyYXBoaWMocykpfWZvcihjb25zdCBlIG9mIHQpe3RoaXMuX2Fib3J0UHJvY2Vzc2luZ0dyYXBoaWMoZS51aWQpO2NvbnN0IHQ9dGhpcy5fZ2V0SW50ZXJzZWN0aW5nVGlsZXMoZSk7Zm9yKGNvbnN0IHMgb2YgdCl7cj1zLmlkO2llKHIscyxpKS5yZW1vdmVkLnB1c2godGhpcy5fZGlzcGxheUlkcy5nZXQoZS51aWQpKX10aGlzLl9ncmFwaGljc1NldC5kZWxldGUoZSksdGhpcy5fZ3JhcGhpY1N0b3JlLnJlbW92ZShlKX1sZXQgaDt0aGlzLl9mbGlwVXBkYXRpbmdHcmFwaGljcygpLGF3YWl0IFByb21pc2UuYWxsKG8pO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKXtoPWFbZV07Y29uc3QgdD10aGlzLl9nZXRJbnRlcnNlY3RpbmdUaWxlcyhoKTtmb3IoY29uc3QgZSBvZiB0KXtyPWUuaWQ7aWUocixlLGkpLmFkZGVkT3JNb2RpZmllZC5wdXNoKGgpfX10aGlzLl9ncmFwaGljU3RvcmUudXBkYXRlWigpO2NvbnN0IGw9W107Zm9yKGNvbnN0W2UsdF1vZiBpKWwucHVzaCh0aGlzLl91cGRhdGVUaWxlKHQpKTthd2FpdCBQcm9taXNlLmFsbChsKX1jYXRjaChvKXtoKG8pLDB9Zm9yKGNvbnN0IGEgb2YgdCl0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLl9nZXRTeW1ib2xGb3JHcmFwaGljKGEsbnVsbCk7aWYoZSl7Y29uc3QgdD1lLmhhc2goKTt0aGlzLl9oYXNoVG9FeHBhbmRlZFN5bWJvbC5kZWxldGUodCl9fWNhdGNoKG8pe2gobyksMH1pLmNsZWFyKCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSx0aGlzLl9wcm9jZXNzaW5nPSExLHRoaXMuX25lZWRzUHJvY2Vzc2luZyYmKHRoaXMuX25lZWRzUHJvY2Vzc2luZz0hMSx0aGlzLl91cGRhdGVHcmFwaGljcygpKX1fZ2V0QXJjYWRlSW5mbyhlKXtjb25zdCB0PShlLmF0dHJpYnV0ZXM/T2JqZWN0LmtleXMoZS5hdHRyaWJ1dGVzKTpbXSkubWFwKCh0PT4oe25hbWU6dCxhbGlhczp0LHR5cGU6XCJzdHJpbmdcIj09dHlwZW9mIGUuYXR0cmlidXRlc1t0XT9cImVzcmlGaWVsZFR5cGVTdHJpbmdcIjpcImVzcmlGaWVsZFR5cGVEb3VibGVcIn0pKSk7cmV0dXJuIG51bGw9PWUuZ2VvbWV0cnk/bnVsbDp7Z2VvbWV0cnlUeXBlOnkoZS5nZW9tZXRyeSksc3BhdGlhbFJlZmVyZW5jZTpnLmZyb21KU09OKGUuZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZSksZmllbGRzOnR9fV9nZXRTeW1ib2xGb3JHcmFwaGljKGUsdCl7cmV0dXJuIG4odGhpcy5fY29udHJvbGxlci5zaWduYWwpLG51bGwhPWUuc3ltYm9sP1Byb21pc2UucmVzb2x2ZShlLnN5bWJvbCk6bnVsbCE9dGhpcy5fZWZmZWN0aXZlUmVuZGVyZXI/dGhpcy5fZWZmZWN0aXZlUmVuZGVyZXIuZ2V0U3ltYm9sQXN5bmMoZSx7c2NhbGU6dGhpcy52aWV3LnN0YXRlLnNjYWxlLHNpZ25hbDpudWxsIT10P3Quc2lnbmFsOm51bGx9KTpQcm9taXNlLnJlc29sdmUodGhpcy5fZ2V0TnVsbFN5bWJvbChlKSl9X2dldENJTVN5bWJvbChlLHQscyl7bGV0IGk9dGhpcy5faGFzaFRvQ0lNLmdldCh0KTtpZihpKXJldHVybiBQcm9taXNlLnJlc29sdmUoaSk7Y29uc3Qgcj1qKGUpO2lmKG51bGwhPXIpe2lmKFwiQ0lNU3ltYm9sUmVmZXJlbmNlXCI9PT1yLnR5cGUpcmV0dXJuIGk9cix0aGlzLl9oYXNoVG9DSU0uc2V0KHQsaSksUHJvbWlzZS5yZXNvbHZlKGkpO2xldCBlPXRoaXMuX2hhc2hUb0NJTVN5bWJvbFByb21pc2UuZ2V0KHQpO3JldHVybiBlfHwoZT1yLmZldGNoQ0lNU3ltYm9sKHMpLnRoZW4oKGU9Pih0aGlzLl9oYXNoVG9DSU0uc2V0KHQsZS5kYXRhKSx0aGlzLl9oYXNoVG9DSU1TeW1ib2xQcm9taXNlLmRlbGV0ZSh0KSxlKSkpLmNhdGNoKChlPT4odGhpcy5faGFzaFRvQ0lNU3ltYm9sUHJvbWlzZS5kZWxldGUodCksbChlKSxudWxsKSkpLHRoaXMuX2hhc2hUb0NJTVN5bWJvbFByb21pc2Uuc2V0KHQsZSksZSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKX1fZXhwYW5kQ0lNU3ltYm9sKGUsdCxzLGkpe2NvbnN0IHI9dGhpcy5faGFzaFRvRXhwYW5kZWRTeW1ib2wuZ2V0KHMpO2lmKHIpcmV0dXJuIFByb21pc2UucmVzb2x2ZShyKTtsZXQgbz10aGlzLl9oYXNoVG9FeHBhbmRlZFN5bWJvbFByb21pc2UuZ2V0KHMpO2lmKG8pcmV0dXJuIG87Y29uc3QgYT10aGlzLmNvbnRhaW5lci5zdGFnZSxuPXRoaXMuX2dldEFyY2FkZUluZm8odCksaD1rKG51bGwpLGw9dGUoZSxoKTtyZXR1cm4gbz0kKGwsbixhLnJlc291cmNlTWFuYWdlcixpKSx0aGlzLl9oYXNoVG9FeHBhbmRlZFN5bWJvbFByb21pc2Uuc2V0KHMsbyksby50aGVuKChlPT4odGhpcy5faGFzaFRvRXhwYW5kZWRTeW1ib2wuc2V0KHMsZSksdGhpcy5faGFzaFRvRXhwYW5kZWRTeW1ib2xQcm9taXNlLmRlbGV0ZShzKSxlKSkpLG99YXN5bmMgX2dldFN5bWJvbFJlc291cmNlcyhlLHQpe24odGhpcy5fY29udHJvbGxlci5zaWduYWwpO3JldHVybiB0aGlzLmNvbnRhaW5lci5zdGFnZT90aGlzLl9nZXRTeW1ib2xGb3JHcmFwaGljKGUsdCkudGhlbigocz0+e2lmKCFzKXJldHVybiBudWxsO2NvbnN0IHI9cy5oYXNoKCk7cmV0dXJuIHRoaXMuX2dldENJTVN5bWJvbChzLHIsdCkudGhlbigocz0+bnVsbD09cz9udWxsOnRoaXMuX2V4cGFuZENJTVN5bWJvbChzLGUscix0KS50aGVuKChlPT57Y29uc3QgdD1lLmxheWVycy5maWx0ZXIoKGU9PlwidGV4dFwiPT09ZS50eXBlJiZcInN0cmluZ1wiPT10eXBlb2YgZS50ZXh0KSk7aWYodCYmdC5sZW5ndGg+MCl7Y29uc3Qgcz1uZXcgQXJyYXkodC5sZW5ndGgpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCByPXRbZV0sbz1bXSxbYV09aShyLnRleHQpO3IudGV4dD1hO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKW8ucHVzaChhLmNoYXJDb2RlQXQoZSkpO3NbZV09e3N5bWJvbDpyLGlkOmUsZ2x5cGhJZHM6b319Y29uc3Qgbz1uZXcgTWFwO3JldHVybiB0aGlzLmNvbnRhaW5lci5nZXRNYXRlcmlhbEl0ZW1zKHMpLnRoZW4oKHM9PnthKHMpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBpPXRbZV07by5zZXQoaS5jaW0se3RleHQ6aS50ZXh0LG1vc2FpY0l0ZW06c1tlXS5tb3NhaWNJdGVtfSl9cmV0dXJue3N5bWJvbDplLHRleHRJbmZvOm8saGFzaDpyfX0pKX1yZXR1cm57c3ltYm9sOmUsaGFzaDpyfX0pKSkpfSkpLmNhdGNoKChlPT4obChlKSxudWxsKSkpOm51bGx9YXN5bmMgX3Byb2plY3RBbmROb3JtYWxpemVHZW9tZXRyeShlLHQpe2lmKG4odGhpcy5fY29udHJvbGxlci5zaWduYWwpLG51bGw9PWUuZ2VvbWV0cnl8fFwibWVzaFwiPT09ZS5nZW9tZXRyeS50eXBlKXJldHVybiBudWxsO2xldCBzPWUuZ2VvbWV0cnk7aWYoYihzKSl7Y29uc3QgZT1zLnJpbmdzO3MucmluZ3M9ZX1lbHNlIGlmKFMocykpe2NvbnN0IGU9cy5wYXRocztzLnBhdGhzPWV9ZWxzZSBpZih3KHMpKXtjb25zdCBpPWF3YWl0IHRoaXMuX2dldFN5bWJvbEZvckdyYXBoaWMoZSx0KTtpZihuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKSxpJiYoWihpLnR5cGUpfHxLKGkudHlwZSkpKXtzPXMuY2VudGVyfWVsc2Ugcz1RKHMpfWF3YWl0IEcocy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKTtjb25zdCBpPUkocykscj1NKGkscy5zcGF0aWFsUmVmZXJlbmNlLHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKTtyZXR1cm4gciYmZihyKSxyfV9vblRpbGVVcGRhdGUoZSl7Y29uc3QgdD1VKHRoaXMudmlldy5zcGF0aWFsUmVmZXJlbmNlKTtpZihlLmFkZGVkJiZlLmFkZGVkLmxlbmd0aD4wKWZvcihjb25zdCBzIG9mIGUuYWRkZWQpdGhpcy5fYWRkTmV3VGlsZShzLHQpO2lmKGUucmVtb3ZlZCYmZS5yZW1vdmVkLmxlbmd0aD4wKWZvcihjb25zdCBzIG9mIGUucmVtb3ZlZCl0aGlzLl9yZW1vdmVUaWxlKHMua2V5KX1hc3luYyBfYWRkR3JhcGhpYyhlKXt0aGlzLl9hYm9ydFByb2Nlc3NpbmdHcmFwaGljKGUudWlkKSxuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKTtjb25zdCB0PW5ldyBBYm9ydENvbnRyb2xsZXI7dGhpcy5fZ3JhcGhpY0lkVG9BYm9ydENvbnRyb2xsZXIuc2V0KGUudWlkLHQpO2NvbnN0IHM9e3NpZ25hbDp0LnNpZ25hbH07dHJ5e2F3YWl0IHRoaXMuX2FkZE9yVXBkYXRlR3JhcGhpYyhlLHMpLG4odGhpcy5fY29udHJvbGxlci5zaWduYWwpLHRoaXMuX2dyYXBoaWNJZFRvQWJvcnRDb250cm9sbGVyLmRlbGV0ZShlLnVpZCl9Y2F0Y2goaSl7aWYodGhpcy5fZ3JhcGhpY0lkVG9BYm9ydENvbnRyb2xsZXIuZGVsZXRlKGUudWlkKSwhaChpKSl0aHJvdyBpfX1fdXBkYXRlR3JhcGhpYyhlLHQpe24odGhpcy5fY29udHJvbGxlci5zaWduYWwpO2NvbnN0IHM9dGhpcy5fcHJvamVjdEFuZE5vcm1hbGl6ZUdlb21ldHJ5KGUsdCksaT10aGlzLl9nZXRTeW1ib2xSZXNvdXJjZXMoZSx0KTtyZXR1cm4gUHJvbWlzZS5hbGwoW3MsaV0pLnRoZW4oKChbdCxzXSk9PntuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKSx0aGlzLl9ncmFwaGljU3RvcmUuYWRkT3JNb2RpZnkoZSxzLHQpfSkpfV9hZGRPclVwZGF0ZUdyYXBoaWMoZSx0KXtuKHRoaXMuX2NvbnRyb2xsZXIuc2lnbmFsKTtjb25zdCBzPXRoaXMuX3Byb2plY3RBbmROb3JtYWxpemVHZW9tZXRyeShlLHQpLGk9dGhpcy5fZ2V0U3ltYm9sUmVzb3VyY2VzKGUsdCk7cmV0dXJuIFByb21pc2UuYWxsKFtzLGldKS50aGVuKCgoW3Qsc10pPT57bih0aGlzLl9jb250cm9sbGVyLnNpZ25hbCksdGhpcy5fZ3JhcGhpY3NTZXQuaGFzKGUpJiZ0aGlzLl9ncmFwaGljU3RvcmUuYWRkT3JNb2RpZnkoZSxzLHQpfSkpfV9hZGRUaWxlKGUpe2NvbnN0IHQ9dGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lLmdldFRpbGVCb3VuZHMoXygpLGUpLHM9dGhpcy52aWV3LmZlYXR1cmVzVGlsaW5nU2NoZW1lLmdldFRpbGVSZXNvbHV0aW9uKGUubGV2ZWwpLGk9bmV3IHooZSxzLHRbMF0sdFszXSk7cmV0dXJuIHRoaXMuX3RpbGVzLnNldChlLGkpLHRoaXMuY29udGFpbmVyLmFkZENoaWxkKGkpLGl9YXN5bmMgX2FkZE5ld1RpbGUoZSx0KXtjb25zdCBzPXRoaXMuX2FkZFRpbGUoZS5rZXkpLGk9dGhpcy5fZ3JhcGhpY1N0b3JlLnF1ZXJ5VGlsZURhdGEodGhpcy5fdGVtcGxhdGVTdG9yZSxlKTtpZigwPT09aS5sZW5ndGgpcmV0dXJuO2lmKHQpe2NvbnN0IHM9TWF0aC5yb3VuZCgodC52YWxpZFsxXS10LnZhbGlkWzBdKS9lLnJlc29sdXRpb24pO2Zvcihjb25zdCBlIG9mIGkpZS5nZW9tZXRyeSYmKHYoZS5nZW9tZXRyeSl8fFQoZS5nZW9tZXRyeSkpJiZ0aGlzLl93cmFwUG9pbnRzKGUscyl9Y29uc3Qgcj1lLmtleTt0aGlzLl90aWxlVXBkYXRlU2V0LmFkZChlLmtleSksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKTt0cnl7Y29uc3QgdD17dHlwZTpcInVwZGF0ZVwiLGNsZWFyOiExLGFkZE9yVXBkYXRlOmF3YWl0IHRoaXMuX3Byb2Nlc3NHcmFwaGljcyhlLGkpLHJlbW92ZTpbXSxlbmQ6ITAsc29ydDohMX07cy5wYXRjaCh0KSx0aGlzLl90aWxlVXBkYXRlU2V0LmRlbGV0ZShyKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpfWNhdGNoKG8pe2lmKHRoaXMuX3RpbGVVcGRhdGVTZXQuZGVsZXRlKHIpLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksIWgobykpdGhyb3cgb319X3JlbW92ZVRpbGUoZSl7aWYoIXRoaXMuX3RpbGVzLmhhcyhlKSlyZXR1cm47Y29uc3QgdD10aGlzLl90aWxlcy5nZXQoZSk7dGhpcy5jb250YWluZXIucmVtb3ZlQ2hpbGQodCksdC5kZXN0cm95KCksdGhpcy5fdGlsZXMuZGVsZXRlKGUpfV9zZXRGaWx0ZXJTdGF0ZShlLHQpe2NvbnN0IHM9dGhpcy5fZGlzcGxheUlkcy5nZXQoZSksaT10aGlzLl9hdHRyaWJ1dGVTdG9yZS5nZXRIaWdobGlnaHRGbGFnKGUpO3RoaXMuX2F0dHJpYnV0ZVN0b3JlLnNldERhdGEocywwLDAsaXwodD94OjApKX1fZ2V0R3JhcGhpY3NEYXRhKGUsdCxzKXtjb25zdCBpPXRoaXMudmlldyxyPVUoaS5zcGF0aWFsUmVmZXJlbmNlKSxvPXRoaXMuX2dyYXBoaWNTdG9yZS5nZXRHcmFwaGljc0RhdGEoZSx0LHMpO2lmKHIpe2NvbnN0IGU9TWF0aC5yb3VuZCgoci52YWxpZFsxXS1yLnZhbGlkWzBdKS90LnJlc29sdXRpb24pO2Zvcihjb25zdCB0IG9mIG8pdC5nZW9tZXRyeSYmKHYodC5nZW9tZXRyeSl8fFQodC5nZW9tZXRyeSkpJiZ0aGlzLl93cmFwUG9pbnRzKHQsZSl9cmV0dXJuIG99X3dyYXBQb2ludHMoZSx0KXtjb25zdCBzPWUuZ2VvbWV0cnk7VChzKT90aGlzLl93cmFwTXVsdGlwb2ludChzLHQpOnRoaXMuX3dyYXBQb2ludChlLHQpfV93cmFwTXVsdGlwb2ludChlLHQpe2NvbnN0IHM9ZS5wb2ludHMsaT1bXTtsZXQgcj0wLG89MDtmb3IoY29uc3RbYSxuXW9mIHMpe2lmKGkucHVzaChbYStyLG5dKSxyPTAsdD09PVgpe2NvbnN0IGU9NSpZO2ErbzxlPyhpLnB1c2goW3QsMF0pLHI9LXQpOmErbz5YLWUmJihpLnB1c2goWy10LDBdKSxyPXQpfWVsc2UgYStvPC1ZPyhpLnB1c2goW3QsMF0pLHI9LXQpOmErbz5YK1kmJihpLnB1c2goWy10LDBdKSxyPXQpO28rPWF9ZS5wb2ludHM9aX1fd3JhcFBvaW50KGUsdCl7Y29uc3Qgcz1lLmdlb21ldHJ5O2lmKHQ9PT1YKXtjb25zdCBpPTUqWTtzLng8aT9lLmdlb21ldHJ5PXtwb2ludHM6W1tzLngscy55XSxbdCwwXV19OnMueD5YLWkmJihlLmdlb21ldHJ5PXtwb2ludHM6W1tzLngscy55XSxbLXQsMF1dfSl9ZWxzZSBzLng8LVk/ZS5nZW9tZXRyeT17cG9pbnRzOltbcy54LHMueV0sW3QsMF1dfTpzLng+WCtZJiYoZS5nZW9tZXRyeT17cG9pbnRzOltbcy54LHMueV0sWy10LDBdXX0pfV9wcm9jZXNzR3JhcGhpY3MoZSx0LHMpe2lmKCEodCYmdC5sZW5ndGgpfHwhdGhpcy5fbWVzaEZhY3RvcnkpcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtjb25zdCBpPVYuZnJvbSh0LHRoaXMudWlkLGUudHJhbnNmb3JtKSxyPXRoaXMuX21lc2hGYWN0b3J5O3JldHVybiB0aGlzLl9tYXRjaGVyLnRoZW4oKHQ9PnIuYW5hbHl6ZUdyYXBoaWNzKGksdGhpcy5jb250YWluZXIuc3RhZ2UucmVzb3VyY2VNYW5hZ2VyLHQsbnVsbCxudWxsLHMpLnRoZW4oKCgpPT4odGhpcy5fYXR0cmlidXRlU3RvcmUuc2VuZFVwZGF0ZXMoKSx0aGlzLl9wcm9jZXNzQW5hbHl6ZWRHcmFwaGljcyhlLGkpKSkpKSl9X3Byb2Nlc3NBbmFseXplZEdyYXBoaWNzKGUsdCl7Y29uc3Qgcz10aGlzLl9tZXNoRmFjdG9yeSxpPXQuZ2V0U2l6ZSgpLHI9dC5nZXRDdXJzb3IoKSxvPXtmZWF0dXJlczppLHJlY29yZHM6aSxtZXRyaWNzOjB9LGE9bmV3IEYoZS5rZXkuaWQsbyxBLkRFRkFVTFQsITEsITEpLG49W107Zm9yKDtyLm5leHQoKTspe2NvbnN0IHQ9ci5yZWFkR3JhcGhpYygpO3QuaW5zZXJ0QWZ0ZXI9LTE9PT10Lmluc2VydEFmdGVyPy0xOnRoaXMuX2Rpc3BsYXlJZHMuZ2V0KHQuaW5zZXJ0QWZ0ZXIpLHQuZGlzcGxheUlkPXRoaXMuX2Rpc3BsYXlJZHMuZ2V0KHQuYXR0cmlidXRlc1t0aGlzLnVpZF0pO2NvbnN0IGk9bmV3IEQodC5kaXNwbGF5SWQpO2kuaW5zZXJ0QWZ0ZXI9dC5pbnNlcnRBZnRlcixuLnB1c2goaSkscy53cml0ZUdyYXBoaWMoYSxyLGUubGV2ZWwsdGhpcy5jb250YWluZXIuc3RhZ2UucmVzb3VyY2VNYW5hZ2VyKX1jb25zdCBoPWUudGlsZUluZm9WaWV3LnRpbGVJbmZvLmlzV3JhcHBhYmxlLGw9YS5zZXJpYWxpemUoaCk7aWYoMSE9PWwubGVuZ3RoKXJldHVybiBuZXcgcTtjb25zdCBkPWxbMF0ubWVzc2FnZTtyZXR1cm4gcS5mcm9tVmVydGV4RGF0YShkLG4pfV9hYm9ydFByb2Nlc3NpbmdHcmFwaGljKGUpe3RoaXMuX2dyYXBoaWNJZFRvQWJvcnRDb250cm9sbGVyLmdldChlKT8uYWJvcnQoKX1fZ2V0TnVsbFN5bWJvbChlKXtjb25zdCB0PWUuZ2VvbWV0cnk7cmV0dXJuIFModCk/QzpiKHQpfHx3KHQpP1A6dGhpcy5kZWZhdWx0UG9pbnRTeW1ib2xFbmFibGVkP1I6bnVsbH1fZmxpcFVwZGF0aW5nR3JhcGhpY3MoKXt0aGlzLl91cGRhdGluZ0dyYXBoaWNzVGltZXImJmNsZWFyVGltZW91dCh0aGlzLl91cGRhdGluZ0dyYXBoaWNzVGltZXIpLHRoaXMuX3VwZGF0aW5nR3JhcGhpY3NUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX3VwZGF0aW5nR3JhcGhpY3NUaW1lcj1udWxsLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9KSwxNjApLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIil9fTtlKFtwKCldLHJlLnByb3RvdHlwZSxcIl9lZmZlY3RpdmVSZW5kZXJlclwiLG51bGwpLGUoW3Aoe2NvbnN0cnVjdE9ubHk6ITB9KV0scmUucHJvdG90eXBlLFwicmVxdWVzdFVwZGF0ZUNhbGxiYWNrXCIsdm9pZCAwKSxlKFtwKCldLHJlLnByb3RvdHlwZSxcImNvbnRhaW5lclwiLHZvaWQgMCksZShbcCh7Y29uc3RydWN0T25seTohMH0pXSxyZS5wcm90b3R5cGUsXCJncmFwaGljc1wiLHZvaWQgMCksZShbcCgpXSxyZS5wcm90b3R5cGUsXCJyZW5kZXJlclwiLHZvaWQgMCksZShbcCgpXSxyZS5wcm90b3R5cGUsXCJ1cGRhdGluZ1wiLG51bGwpLGUoW3AoKV0scmUucHJvdG90eXBlLFwidmlld1wiLHZvaWQgMCksZShbcCgpXSxyZS5wcm90b3R5cGUsXCJ1cGRhdGVSZXF1ZXN0ZWRcIix2b2lkIDApLGUoW3AoKV0scmUucHJvdG90eXBlLFwiZGVmYXVsdFBvaW50U3ltYm9sRW5hYmxlZFwiLHZvaWQgMCkscmU9ZShbYyhcImVzcmkudmlld3MuMmQubGF5ZXJzLnN1cHBvcnQuR3JhcGhpY3NWaWV3MkRcIildLHJlKTtjb25zdCBvZT1yZTtleHBvcnR7b2UgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=