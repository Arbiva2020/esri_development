"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_views_2d_layers_features_support_AttributeStore_js-node_modu-2bb848"],{

/***/ "./node_modules/@arcgis/core/arcade/ArcadeDate.js":
/*!********************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/ArcadeDate.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArcadeDate": () => (/* binding */ c),
/* harmony export */   "ArcadeDateError": () => (/* binding */ d),
/* harmony export */   "ArcadeDateErrorCodes": () => (/* binding */ o),
/* harmony export */   "ArcadeDateErrorMessages": () => (/* binding */ a),
/* harmony export */   "UnknownTimeZone": () => (/* binding */ i),
/* harmony export */   "createDateTimeZone": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _executionError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./executionError.js */ "./node_modules/@arcgis/core/arcade/executionError.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i{}var o;i.instance=new luxon__WEBPACK_IMPORTED_MODULE_1__.IANAZone("Etc/UTC"),function(e){e.TimeZoneNotRecognised="TimeZoneNotRecognised"}(o||(o={}));const a={[o.TimeZoneNotRecognised]:"Timezone identifier has not been recognised."};class d extends Error{constructor(t,n){super((0,_executionError_js__WEBPACK_IMPORTED_MODULE_0__.doSubstitutions)(a[t],n)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,d)}}class c{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,t=1,r=1,s=0,i=0,o=0,a=0,d){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(s)||isNaN(i)||isNaN(o)||isNaN(a))return null;let m=0;const h=luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.local(e,t).daysInMonth;r<1&&(m=r-1,r=1),r>h&&(m=r-h,r=h);let l=0;t>12?(l=t-12,t=12):t<1&&(l=t-1,t=1);let f=0;i>59?(f=i-59,i=59):i<0&&(f=i,i=0);let w=0;o>59?(w=o-59,o=59):o<0&&(w=o,o=0);let T=0;a>999?(T=a-999,a=999):a<0&&(T=a,a=0);let y=luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromObject({day:r,year:e,month:t,hour:s,minute:i,second:o,millisecond:a},{zone:u(d)});return 0!==l&&(y=y.plus({months:l})),0!==m&&(y=y.plus({days:m})),0!==f&&(y=y.plus({minutes:f})),0!==w&&(y=y.plus({seconds:w})),0!==T&&(y=y.plus({milliseconds:T})),new c(y)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,t){const n=u(t);return e.isUnknownTimeZone||n===i.instance?c.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e._date.setZone(t))}static dateJSToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,t="system"){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(e,{zone:t}))}static unknownEpochToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e,{zone:i.instance}))}static unknownDateJSToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e.getTime(),{zone:i.instance}))}static epochToArcadeDate(e,t="system"){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromMillis(e,{zone:t}))}static dateTimeToArcadeDate(e){return new c(e)}clone(){return new c(this._date)}changeTimeZone(e){const t=u(e);return c.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,t){const n=u(t);return e.zone===i.instance||n===i.instance?c.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,n):new c(e.setZone(n))}static nowToArcadeDate(e){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.fromJSDate(new Date,{zone:e}))}static nowUTCToArcadeDate(){return new c(luxon__WEBPACK_IMPORTED_MODULE_1__.DateTime.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===c.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===i.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const e=this.zone;return"fixed"===e.type?0===e.fixed?"utc":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new c(this._date.plus(e))}diff(e,t="milliseconds"){return this._date.diff(e._date,t)[t]}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toFormat(e,t){return this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLString(){return"timestamp '"+this._date.toFormat("yyyy-LL-dd HH:mm:ss")+"'"}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new c(this._date.toUTC())}toLocal(){return new c(this._date.toLocal())}toString(){return this.toISOString(!0)}}function u(e){if(e instanceof luxon__WEBPACK_IMPORTED_MODULE_1__.Zone)return e;if("system"===e.toLowerCase())return"system";if("utc"===e.toLowerCase())return"utc";if("unknown"===e.toLowerCase())return i.instance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const t=luxon__WEBPACK_IMPORTED_MODULE_1__.FixedOffsetZone.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(t)return t}const n=luxon__WEBPACK_IMPORTED_MODULE_1__.IANAZone.create(e);if(!n.isValid)throw new d(o.TimeZoneNotRecognised);return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateTimeReferenceFieldIndex": () => (/* binding */ T),
/* harmony export */   "convertTimeReference": () => (/* binding */ m),
/* harmony export */   "convertToIANA": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _time_TimeReference_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../time/TimeReference.js */ "./node_modules/@arcgis/core/time/TimeReference.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/src/luxon.js");
/* harmony import */ var _time_timeReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../time/timeReferenceUtils.js */ "./node_modules/@arcgis/core/time/timeReferenceUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function l(e){return e instanceof _time_TimeReference_js__WEBPACK_IMPORTED_MODULE_2__["default"]}function m(n){if(!n)return null;if(l(n)&&(n=c(n.toJSON())),n instanceof luxon__WEBPACK_IMPORTED_MODULE_3__.Zone)return n;if("unknown"===n.toLowerCase())return _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.UnknownTimeZone.instance;if("system"===n.toLowerCase())return luxon__WEBPACK_IMPORTED_MODULE_3__.SystemZone.instance;if("utc"===n.toLowerCase())return luxon__WEBPACK_IMPORTED_MODULE_3__.FixedOffsetZone.utcInstance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(n)){const e=luxon__WEBPACK_IMPORTED_MODULE_3__.FixedOffsetZone.parseSpecifier("UTC"+(n.startsWith("+")||n.startsWith("-")?"":"+")+n);if(e)return e}const a=luxon__WEBPACK_IMPORTED_MODULE_3__.IANAZone.create(n);if(!a.isValid)throw new _ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDateError(_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_0__.ArcadeDateErrorCodes.TimeZoneNotRecognised);return a}function c(e){return e?.timeZoneIANA?e?.timeZoneIANA:e?.timeZone?(0,_time_timeReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__.convertLegacyTimeZone)(e,""):""}class T{constructor(){this.dateTimeReferenceMetaData=null,this._fieldTimeZoneIndex={},this._fieldIndex=null,this._ianaPreferred=null,this._ianaTimeInfo=null,this._ianaEditFields=null,this._ianaLayerDateFields=null}static create(e,t){const i=new T;return i.dateTimeReferenceMetaData=t,i._fieldIndex=e instanceof _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"]?e:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_1__["default"](e),i}static createFromLayer(e){if(!e)return null;if(!e.fieldsIndex)return!e.declaredClass&&e.fields?T.create(e.fields,e):null;const t=new T;return t._fieldIndex=e.fieldsIndex,t.dateTimeReferenceMetaData={timeInfo:e?.timeInfo?.toJSON()??null,editFieldsInfo:e?.editFieldsInfo?.toJSON()??null,dateFieldsTimeReference:e?.dateFieldsTimeReference?.toJSON()??null,preferredTimeReference:e?.preferredTimeReference?.toJSON()??null,datesInUnknownTimezone:!0===e?.datesInUnknownTimezone},t}fieldTimeZone(e){const t=this._fieldIndex?.get(e);if(!t)return null;if("date"!==t.type&&"esriFieldTypeDate"!==t.type)return null;const i=this._fieldTimeZoneIndex[t.name];if(void 0!==i)return i;const n=[{field:this.dateTimeReferenceMetaData?.editFieldsInfo?.creationDateField,timeReference:this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.editFieldsInfo?.editDateField,timeReference:this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.timeInfo?.startTimeField,timeReference:this.dateTimeReferenceMetaData?.timeInfo?.timeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone},{field:this.dateTimeReferenceMetaData?.timeInfo?.endTimeField,timeReference:this.dateTimeReferenceMetaData?.timeInfo?.timeReference,isunknown:!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone}];for(const r of n)if(r.field===t.name){const e=this.convertToIANA(r.timeReference,r.isunknown);return this._fieldTimeZoneIndex[t.name]=e,e}const a=this.convertToIANA(this.dateTimeReferenceMetaData?.dateFieldsTimeReference,this.dateTimeReferenceMetaData?.datesInUnknownTimezone);return this._fieldTimeZoneIndex[t.name]=a,a}convertToIANA(e,t){return t?"unknown":c(e)}get layerPreferredTimeZone(){if(null!==this._ianaPreferred)return this._ianaPreferred;this._ianaPreferred="";const e=this.dateTimeReferenceMetaData?.preferredTimeReference;return this._ianaPreferred=this.convertToIANA(e,!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaPreferred}get layerTimeInfoTimeZone(){if(null!==this._ianaTimeInfo)return this._ianaTimeInfo;this._ianaTimeInfo="";const e=this.dateTimeReferenceMetaData?.timeInfo?.timeReference;return this._ianaTimeInfo=this.convertToIANA(e,!1),this._ianaTimeInfo}get layerEditFieldsTimeZone(){if(null!==this._ianaEditFields)return this._ianaEditFields;this._ianaEditFields="";const e=this.dateTimeReferenceMetaData?.editFieldsInfo?.dateFieldsTimeReference;return this._ianaEditFields=this.convertToIANA(e,this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaEditFields}get layerDateFieldsTimeZone(){if(null!==this._ianaLayerDateFields)return this._ianaLayerDateFields;this._ianaLayerDateFields="";const e=this.dateTimeReferenceMetaData?.dateFieldsTimeReference;return this._ianaLayerDateFields=this.convertToIANA(e,!0===this.dateTimeReferenceMetaData?.datesInUnknownTimezone),this._ianaLayerDateFields}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/AttributeStore.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/support/WatchUpdatingTracking.js */ "./node_modules/@arcgis/core/core/support/WatchUpdatingTracking.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../engine/webgl/Utils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Utils.js");
/* harmony import */ var _engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../engine/webgl/util/debug.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/util/debug.js");
/* harmony import */ var _tileRenderers_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tileRenderers/support/visualVariablesUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/features/tileRenderers/support/visualVariablesUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const E=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.layers.2d.features.support.AttributeStore"),k=(0,_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__.createDebugLogger)(_engine_webgl_util_debug_js__WEBPACK_IMPORTED_MODULE_12__.DEBUG_ATTR_UPDATES,E),D={sharedArrayBuffer:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-shared-array-buffer"),atomics:(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-atomics")};function F(t,e){return i=>e(t(i))}class I{constructor(t,e,i,s){this.size=0,this.texelSize=4,this.dirtyStart=0,this.dirtyEnd=0;const{pixelType:r,layout:a,textureOnly:n}=s;this.textureOnly=n||!1,this.pixelType=r,this._ctype=e,this.layout=a,this._resetRange(),this._shared=t,this.size=i,n||(this.data=this._initData(r,i,t,e))}get buffer(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(this.data,(t=>t.buffer))}unsetComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]&=~e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponentAllTexels(t,e){const i=this.data;for(let s=0;s<this.size*this.size;s++)i[s*this.texelSize+t]|=255&e;this.dirtyStart=0,this.dirtyEnd=this.size*this.size-1}setComponent(t,e,i){const s=this.data;for(const r of i)s[r*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,r),this.dirtyEnd=Math.max(this.dirtyEnd,r)}setComponentTexel(t,e,i){this.data[i*this.texelSize+t]|=e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}unsetComponentTexel(t,e,i){this.data[i*this.texelSize+t]&=~e,this.dirtyStart=Math.min(this.dirtyStart,i),this.dirtyEnd=Math.max(this.dirtyEnd,i)}getData(t,e){const i=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);return this.data[i*this.texelSize+e]}setData(t,e,i){const s=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t),r=1<<e;0!=(this.layout&r)?null!=this.data&&(this.data[s*this.texelSize+e]=i,this.dirtyStart=Math.min(this.dirtyStart,s),this.dirtyEnd=Math.max(this.dirtyEnd,s)):E.error("mapview-attributes-store","Tried to set a value for a texel's readonly component")}lock(){this.pixelType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE&&this._shared&&D.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,1)}unlock(){this.pixelType===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE&&this._shared&&D.atomics&&"local"!==this._ctype&&Atomics.store(this.data,0,0)}expand(t){if(this.size=t,!this.textureOnly){const e=this._initData(this.pixelType,t,this._shared,this._ctype),i=this.data;e.set(i),this.data=e}}toMessage(){const t=this.dirtyStart,e=this.dirtyEnd,i=this.texelSize;if(t>e)return null;this._resetRange();const s=!(this._shared||"local"===this._ctype),r=this.pixelType,a=this.layout,n=this.data;return{start:t,end:e,data:s&&n.slice(t*i,(e+1)*i)||null,pixelType:r,layout:a}}_initData(t,e,i,s){const r=i&&"local"!==s?SharedArrayBuffer:ArrayBuffer,a=(0,_engine_webgl_Utils_js__WEBPACK_IMPORTED_MODULE_11__.getPixelArrayCtor)(t),n=new a(new r(e*e*4*a.BYTES_PER_ELEMENT));for(let o=0;o<n.length;o+=4)n[o+1]=255;return n}_resetRange(){this.dirtyStart=2147483647,this.dirtyEnd=0}}class B{constructor(t,e){this._client=t,this.config=e,this.updatingHandles=new _core_support_WatchUpdatingTracking_js__WEBPACK_IMPORTED_MODULE_7__.WatchUpdatingTracking,this._blocks=new Array,this._filters=new Array(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.MAX_FILTERS),this._attributeComputeInfo=null,this._targetType=0,this._abortController=new AbortController,this._hasScaleExpr=!1,this._size=32,this._nextUpdate=null,this._currUpdate=null,this._idsToHighlight=new Set;const i=e.supportsTextureFloat?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.FLOAT:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE;k(`Creating AttributeStore ${D.sharedArrayBuffer?"with":"without"} shared memory`),this._blockDescriptors=[{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:1},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_14__.PixelType.UNSIGNED_BYTE,layout:15,textureOnly:!0},{pixelType:i,layout:15},{pixelType:i,layout:15},{pixelType:i,layout:15},{pixelType:i,layout:15}],this._blocks=this._blockDescriptors.map((()=>null))}destroy(){this._abortController.abort(),this.updatingHandles.destroy()}get hasScaleExpr(){return this._hasScaleExpr}get _signal(){return this._abortController.signal}get hasHighlight(){return this._idsToHighlight.size>0}isUpdating(){const t=this.updatingHandles.updating||!!this._nextUpdate;return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-log-updating")&&console.log(`Updating AttributeStore: ${t}\n  -> updatingHandles ${this.updatingHandles.updating} (currUpdate: ${!!this._currUpdate})\n  -> nextUpdate: ${!!this._nextUpdate}\n`),t}update(t,e){this.config=e;const i=e.schema.processors[0].storage,s=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_6__.diff)(this._schema,i);if((t.targets.feature||t.targets.aggregate)&&(t.storage.data=!0),s&&((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:",s),t.storage.data=!0,this._schema=i,this._attributeComputeInfo=null,null!=i)){switch(i.target){case"feature":this._targetType=_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.DISPLAY_ID_TYPE_FEATURE;break;case"aggregate":this._targetType=_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.DISPLAY_ID_TYPE_AGGREGATE}if("subtype"===i.type){this._attributeComputeInfo={isSubtype:!0,subtypeField:i.subtypeField,map:new Map};for(const t in i.mapping){const e=i.mapping[t];if(null!=e&&null!=e.vvMapping)for(const i of e.vvMapping)this._bindAttribute(i,parseInt(t,10))}}else{if(this._attributeComputeInfo={isSubtype:!1,map:new Map},null!=i.vvMapping)for(const t of i.vvMapping)this._bindAttribute(t);if(null!=i.attributeMapping)for(const t of i.attributeMapping)this._bindAttribute(t)}}}onTileData(t,e){if(null==e.addOrUpdate)return;const i=e.addOrUpdate.getCursor();for(;i.next();){const t=i.getDisplayId();this.setAttributeData(t,i)}}async setHighlight(t,e){const i=1,s=this._getBlock(0),r=e.map((t=>(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t)));s.lock(),s.unsetComponentAllTexels(0,i),s.setComponent(0,i,r),s.unlock(),this._idsToHighlight.clear();for(const a of t)this._idsToHighlight.add(a);await this.sendUpdates()}async updateFilters(t,e,i){(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::updateFilters");const{service:s,spatialReference:r}=i,{filters:a}=e,n=a.map(((t,e)=>this._updateFilter(t,e,s,r))),o=(await Promise.all(n)).some((t=>t));(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::updateFilters - finsihed"),o&&(t.storage.filters=!0,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("Applying Update - AttributeStore:","Filters changed"))}setData(t,e,i,s){const r=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);this._ensureSizeForTexel(r),this._getBlock(e).setData(t,i,s)}getData(t,e,i){return this._getBlock(e).getData(t,i)}getHighlightFlag(t){return this._idsToHighlight.has(t)?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.HIGHLIGHT_FLAG:0}unsetAttributeData(t){const e=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);this._getBlock(0).setData(e,0,0)}setAttributeData(t,e){const s=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdTexel)(t);if(this._ensureSizeForTexel(s),this._getBlock(0).setData(s,0,this.getFilterFlags(e)),this._targetType!==(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdType)(t))return;const r=this._attributeComputeInfo,a=this.config.supportsTextureFloat?1:2,n=4;let o=null;r&&(o=r.isSubtype?r.map.get(e.readAttribute(r.subtypeField)):r.map,o&&o.size&&o.forEach(((t,r)=>{const o=r*a%n,l=Math.floor(r*a/n),h=this._getBlock(l+_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_VV),u=t(e);if(this.config.supportsTextureFloat)h.setData(s,o,u);else if(u===_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.NAN_MAGIC_NUMBER)h.setData(s,o,255),h.setData(s,o+1,255);else{const t=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.clamp)(Math.round(u),-32767,32766)+32768,e=255&t,r=(65280&t)>>8;h.setData(s,o,e),h.setData(s,o+1,r)}})))}sendUpdates(){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate"),this._nextUpdate)return this._nextUpdate.promise;if(this._currUpdate)return this._nextUpdate=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.createResolver)(),this.updatingHandles.addPromise(this._nextUpdate.promise),this._nextUpdate.promise;const e={blocks:this._blocks.map((t=>null!=t?t.toMessage():null))};return this._currUpdate=this._createResources().then((()=>{const t=()=>{if(this._currUpdate=null,this._nextUpdate){const t=this._nextUpdate;this._nextUpdate=null,this.sendUpdates().then((()=>t.resolve()))}else (0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate::No additional updates queued")};(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-2d-update-debug")&&console.debug("AttributeStore::sendUpdate::client.update");const i=this.updatingHandles.addPromise(this._client.update(e,this._signal).then(t).catch(t));return this._client.render(this._signal),i})).catch((e=>{if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e))return this._createResourcesPromise=null,this._createResources();E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-attribute-store","Encountered an error during client update",e))})),this._currUpdate}_ensureSizeForTexel(t){for(;t>=this._size*this._size;)if(this._expand())return}_bindAttribute(t,e){function i(){const{normalizationField:e}=t;return e?i=>{const s=i.readAttribute(e);if(!s)return null;return i.readAttribute(t.field)/s}:e=>e.readAttribute(t.field)}function s(){return t.normalizationField&&E.warn("mapview-arcade","Ignoring normalizationField specified with an arcade expression which is not supported."),e=>e.getComputedNumericAtIndex(t.fieldIndex)}let r;if(null!=t.fieldIndex)r=s();else{if(!t.field)return;r=i()}const{valueRepresentation:a}=t;if(a){r=F(r,(t=>(0,_tileRenderers_support_visualVariablesUtils_js__WEBPACK_IMPORTED_MODULE_13__.getVisualVariableSizeValueRepresentationRatio)(t,a)))}const n=t=>null===t||isNaN(t)||t===1/0||t===-1/0?_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.NAN_MAGIC_NUMBER:t,o=this._attributeComputeInfo;if(o.isSubtype){const i=o.map.get(e)??new Map;i.set(t.binding,F(r,n)),o.map.set(e,i)}else o.map.set(t.binding,F(r,n))}_createResources(){if(null!=this._createResourcesPromise)return this._createResourcesPromise;this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_ANIMATION),this._getBlock(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_9__.ATTRIBUTE_DATA_GPGPU),k("Initializing AttributeStore");const e={shared:D.sharedArrayBuffer&&!("local"===this._client.type),size:this._size,blocks:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.mapMany)(this._blocks,(t=>({textureOnly:t.textureOnly,buffer:t.buffer,pixelType:t.pixelType})))},i=this._client.initialize(e,this._signal).catch((e=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)?this._createResourcesPromise=null:E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-attribute-store","Encountered an error during client initialization",e))}));return this._createResourcesPromise=i,i.then((()=>null==this._createResourcesPromise?this._createResources():void 0)),i}_getBlock(t){const e=this._blocks[t];if(null!=e)return e;k(`Initializing AttributeBlock at index ${t}`);const i=D.sharedArrayBuffer,s=this._client.type,r=new I(i,s,this._size,this._blockDescriptors[t]);return this._blocks[t]=r,this._createResourcesPromise=null,r}_expand(){if(this._size<this.config.maxTextureSize){const t=this._size<<=1;return k("Expanding block size to",t,this._blocks),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.forEachSome)(this._blocks,(e=>e.expand(t))),this._createResourcesPromise=null,this._size=t,0}return E.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("mapview-limitations","Maximum number of onscreen features exceeded.")),-1}async _updateFilter(t,e,i,s){const r=this._filters[e],a=null!=r&&r.hash;if(!r&&!t)return!1;if(a===JSON.stringify(t))return!1;if(null==t){if(!r)return!1;const t=1<<e+1,i=this._getBlock(0);return this._filters[e]=null,i.setComponentAllTexels(0,t),this.sendUpdates(),!0}const n=await this._getFilter(e,i);return await n.update(t,s),!0}async _getFilter(t,e){const i=this._filters[t];if(null!=i)return i;const{default:s}=await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_arcgis_core_rest_support_Query_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_graphics_data_spatialQuerySupport_js-node_modules_arc-4b8eca"), __webpack_require__.e("vendors-node_modules_arcgis_core_views_2d_layers_features_FeatureStore2D_js"), __webpack_require__.e("vendors-node_modules_arcgis_core_layers_support_Field_js-node_modules_arcgis_core_views_2d_la-c39741")]).then(__webpack_require__.bind(__webpack_require__, /*! ./FeatureFilter.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureFilter.js")),r=new s({geometryType:e.geometryType,hasM:!1,hasZ:!1,timeInfo:e.timeInfo,fieldsIndex:new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_8__["default"](e.fields)});return this._filters[t]=r,r}isVisible(t){return!!(2&this._getBlock(0).getData(t,0))}getFilterFlags(t){let e=0;const i=(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_10__.getDisplayIdFilterMask)(t.getDisplayId());for(let r=0;r<this._filters.length;r++){const s=!!(i&1<<r),a=this._filters[r];e|=(!s||null==a||a.check(t)?1:0)<<r}let s=0;if(this._idsToHighlight.size){const e=t.getObjectId();s=this.getHighlightFlag(e)}return e<<1|s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/ComputedAttributeStorage.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ComputedAttributeStorage": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/* harmony import */ var _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DisplayIdGenerator.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js");
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(t,e,s){if(!(t.length>e))for(;t.length<=e;)t.push(s)}class r{constructor(){this._numerics=[],this._strings=[],this._idGenerator=new _DisplayIdGenerator_js__WEBPACK_IMPORTED_MODULE_1__.DisplayIdGenerator,this._allocatedSize=256,this._bitsets=[],this._instanceIds=[],this._bounds=[]}createBitset(){const e=this._bitsets.length;return this._bitsets.push(_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_2__.StaticBitSet.create(this._allocatedSize,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)),e+1}getBitset(t){return this._bitsets[t-1]}_expand(){this._allocatedSize<<=1;for(const t of this._bitsets)t.resize(this._allocatedSize)}_ensureNumeric(t,e){this._numerics[t]||(this._numerics[t]=[]);n(this._numerics[t],e,0)}_ensureInstanceId(t){n(this._instanceIds,t,0)}_ensureString(t,e){this._strings[t]||(this._strings[t]=[]);n(this._strings[t],e,null)}createDisplayId(t=!1){const s=this._idGenerator.createId();return s>this._allocatedSize&&this._expand(),(0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.createDisplayId)(s,t)}releaseDisplayId(e){for(const t of this._bitsets)t.unset(e);return this._idGenerator.releaseId(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)}getComputedNumeric(e,s){return this.getComputedNumericAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0)}setComputedNumeric(e,s,i){return this.setComputedNumericAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,i,0)}getComputedString(e,s){return this.getComputedStringAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0)}setComputedString(e,s,i){return this.setComputedStringAtIndex(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK,0,i)}getComputedNumericAtIndex(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureNumeric(s,i),this._numerics[s][i]}setComputedNumericAtIndex(e,s,i){const n=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureNumeric(s,n),this._numerics[s][n]=i}getInstanceId(e){const s=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureInstanceId(s),this._instanceIds[s]}setInstanceId(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureInstanceId(i),this._instanceIds[i]=s}getComputedStringAtIndex(e,s){const i=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return this._ensureString(s,i),this._strings[s][i]}setComputedStringAtIndex(e,s,i){const n=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;this._ensureString(s,n),this._strings[s][n]=i}getXMin(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)]}getYMin(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+1]}getXMax(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+2]}getYMax(e){return this._bounds[4*(e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK)+3]}setBounds(e,s){const i=s.readHydratedGeometry();if(!i||!i.coords.length)return!1;let r=1/0,u=1/0,o=-1/0,h=-1/0;i.forEachVertex(((t,e)=>{r=Math.min(r,t),u=Math.min(u,e),o=Math.max(o,t),h=Math.max(h,e)}));const d=e&_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.DISPLAY_ID_TEXEL_MASK;return n(this._bounds,4*d+4,0),this._bounds[4*d]=r,this._bounds[4*d+1]=u,this._bounds[4*d+2]=o,this._bounds[4*d+3]=h,!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/DisplayIdGenerator.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DisplayIdGenerator": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../engine/webgl/DisplayId.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/DisplayId.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r{constructor(){this._freeIds=[],this._idCounter=1}createId(r=!1){return (0,_engine_webgl_DisplayId_js__WEBPACK_IMPORTED_MODULE_0__.createDisplayId)(this._getFreeId(),r)}releaseId(e){this._freeIds.push(e)}_getFreeId(){return this._freeIds.length?this._freeIds.pop():this._idCounter++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReader": () => (/* binding */ I)
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../arcade/ArcadeDate.js */ "./node_modules/@arcgis/core/arcade/ArcadeDate.js");
/* harmony import */ var _arcade_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../arcade/arcadeTimeUtils.js */ "./node_modules/@arcgis/core/arcade/arcadeTimeUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../layers/graphics/centroid.js */ "./node_modules/@arcgis/core/layers/graphics/centroid.js");
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/* harmony import */ var _StaticBitSet_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StaticBitSet.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let d=0;const h=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-thresholds")??[.5,.5,.5,.5],u=h[0],l=h[1],c=h[2],m=h[3],f=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-payload-size-factors")??[1,2,4],g=f[0],y=f[1],_=f[2],p=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("featurelayer-simplify-mobile-factor")??2,x=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("esri-mobile");class I{constructor(e,t){this.type="FeatureSetReader",this.arcadeDeclaredClass="esri.arcade.Feature",this.seen=!1,this.instance=0,this._tx=0,this._ty=0,this._sx=1,this._sy=1,this._deleted=null,this._joined=[],this._objectIdToIndex=null,this._level=0,this._datetimeMetadata=null,this.contextTimeReference=null,this.instance=e,this._layerSchema=t}static createInstance(){return d++,d=d>65535?0:d,d}get isEmpty(){return null!=this._deleted&&this._deleted.countSet()===this.getSize()}set level(e){this._level=e}getAreaSimplificationThreshold(e,t){let r=1;const s=x?p:1;t>4e6?r=_*s:t>1e6?r=y*s:t>5e5?r=g*s:t>1e5&&(r=s);let i=0;e>4e3?i=m*r:e>2e3?i=c*r:e>100?i=l:e>15&&(i=u);let n=8;return this._level<4?n=1:this._level<5?n=2:this._level<6&&(n=4),i*n}createQuantizedExtrudedQuad(e,t){return new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"]([5],[e-1,t,1,-1,1,1,-1,1,-1,-1])}parseTimestampOffset(e){return e}setArcadeSpatialReference(e){this._arcadeSpatialReference=e}attachStorage(e){this._storage=e}getQuantizationTransform(){throw new Error("Unable to find transform for featureSet")}getStorage(){return this._storage}getComputedNumeric(e){return this.getComputedNumericAtIndex(0)}setComputedNumeric(e,t){return this.setComputedNumericAtIndex(t,0)}getComputedString(e){return this.getComputedStringAtIndex(0)}setComputedString(e,t){return this.setComputedStringAtIndex(0,t)}getComputedNumericAtIndex(e){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),e)}setComputedNumericAtIndex(e,t){this._storage.setComputedNumericAtIndex(this.getDisplayId(),e,t)}getComputedStringAtIndex(e){return this._storage.getComputedStringAtIndex(this.getDisplayId(),e)}setComputedStringAtIndex(e,t){return this._storage.setComputedStringAtIndex(this.getDisplayId(),e,t)}transform(e,t,r,s){const i=this.copy();return i._tx+=e,i._ty+=t,i._sx*=r,i._sy*=s,i}readAttribute(e,t=!1){const r=this._readAttribute(e,t);if(void 0!==r)return r;for(const s of this._joined){s.setIndex(this.getIndex());const r=s._readAttribute(e,t);if(void 0!==r)return r}}readAttributes(){const e=this._readAttributes();for(const t of this._joined){t.setIndex(this.getIndex());const r=t._readAttributes();for(const t of Object.keys(r))e[t]=r[t]}return e}joinAttributes(e){this._joined.push(e)}readArcadeFeature(){return this}hasField(e){return this.fields.has(e)}geometry(){const e=this.readHydratedGeometry(),t=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertToGeometry)(e,this.geometryType,this.hasZ,this.hasM),r=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__.fromJSON)(t);return r&&(r.spatialReference=this._arcadeSpatialReference),r}get dateTimeReferenceFieldIndex(){return this._datetimeMetadata||(this._datetimeMetadata=_arcade_arcadeTimeUtils_js__WEBPACK_IMPORTED_MODULE_2__.DateTimeReferenceFieldIndex.create(this._layerSchema.fields,this._layerSchema)),this._datetimeMetadata}autocastArcadeDate(t,r){return r&&r instanceof Date?this.isUnknownDateTimeField(t)?_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.unknownDateJSToArcadeDate(r):_arcade_ArcadeDate_js__WEBPACK_IMPORTED_MODULE_1__.ArcadeDate.dateJSAndZoneToArcadeDate(r,this.contextTimeReference?.timeZone??"system"):r}isUnknownDateTimeField(e){return"unknown"===this.dateTimeReferenceFieldIndex?.fieldTimeZone(e)}fieldSourceTimeZone(e){return this.dateTimeReferenceFieldIndex?.fieldTimeZone(e)??""}get layerPreferredTimeZone(){return this.dateTimeReferenceFieldIndex?.layerPreferredTimeZone??""}field(e){if(this.hasField(e))return this.autocastArcadeDate(e,this.readAttribute(e,!0));for(const t of this._joined)if(t.setIndex(this.getIndex()),t.hasField(e)){const r=t._readAttribute(e,!0);return this.autocastArcadeDate(e,r)}throw new Error(`Field ${e} does not exist`)}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this.fields.fields.map((e=>e.name))}castToText(e=!1){if(!e)return JSON.stringify(this.readLegacyFeature());const t=this.readLegacyFeature();if(!t)return JSON.stringify(null);const r={geometry:t.geometry,attributes:{...t.attributes??{}}};for(const s in r.attributes){const e=r.attributes[s];e instanceof Date&&(r.attributes[s]=e.getTime())}return JSON.stringify(r)}gdbVersion(){return null}fullSchema(){return this._layerSchema}castAsJson(e=null){return{attributes:this._readAttributes(),geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}removeIds(e){if(null==this._objectIdToIndex){const e=new Map,t=this.getCursor();for(;t.next();){const s=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrapOrThrow)(t.getObjectId());e.set(s,t.getIndex())}this._objectIdToIndex=e}const t=this._objectIdToIndex;for(const r of e)t.has(r)&&this.removeAtIndex(t.get(r))}removeAtIndex(e){null==this._deleted&&(this._deleted=_StaticBitSet_js__WEBPACK_IMPORTED_MODULE_8__.StaticBitSet.create(this.getSize())),this._deleted.set(e)}readGeometryForDisplay(){return this.readUnquantizedGeometry(!0)}readLegacyGeometryForDisplay(){return this.readLegacyGeometry(!0)}*features(){const e=this.getCursor();for(;e.next();)yield e.readOptimizedFeature()}_getExists(){return null==this._deleted||!this._deleted.has(this.getIndex())}_computeCentroid(){if("esriGeometryPolygon"!==this.geometryType)return null;const e=this.readUnquantizedGeometry();if(!e||e.hasIndeterminateRingOrder)return null;const t=this.getQuantizationTransform()??null;return (0,_layers_graphics_centroid_js__WEBPACK_IMPORTED_MODULE_5__.getCentroidOptimizedGeometry)(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_7__["default"],e,this.hasM,this.hasZ,t)}copyInto(e){e.seen=this.seen,e._storage=this._storage,e._arcadeSpatialReference=this._arcadeSpatialReference,e._joined=this._joined,e._tx=this._tx,e._ty=this._ty,e._sx=this._sx,e._sy=this._sy,e._deleted=this._deleted,e._objectIdToIndex=this._objectIdToIndex}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderJSON.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FeatureSetReaderJSON": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../layers/graphics/featureConversionUtils.js */ "./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js");
/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../layers/graphics/OptimizedFeature.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js");
/* harmony import */ var _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../layers/support/FieldsIndex.js */ "./node_modules/@arcgis/core/layers/support/FieldsIndex.js");
/* harmony import */ var _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FeatureSetReader.js */ "./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReader.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function d({coords:t,lengths:e}){let r=0;for(const s of e){for(let e=1;e<s;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=s}}class h extends _FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader{static fromFeatures(e,r){const{objectIdField:s,geometryType:i}=r,n=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatures)([],e,i,!1,!1,s);for(let t=0;t<n.length;t++)n[t].displayId=e[t].displayId;return h.fromOptimizedFeatures(n,r)}static fromFeatureSet(t,r){const s=(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertFromFeatureSet)(t,r.objectIdField);return h.fromOptimizedFeatureSet(s,r)}static fromOptimizedFeatureSet(t,e){const{features:r}=t,s=h.fromOptimizedFeatures(r,e);return s._exceededTransferLimit=t.exceededTransferLimit,s._transform=t.transform,s._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.fields),s}static fromOptimizedFeatures(t,e,r){const s=_FeatureSetReader_js__WEBPACK_IMPORTED_MODULE_3__.FeatureSetReader.createInstance(),i=new h(s,t,e);return i._fieldsIndex=new _layers_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_2__["default"](e.fields),i._transform=r,i}constructor(t,e,r){super(t,r),this._exceededTransferLimit=!1,this._featureIndex=-1,this._fieldsIndex=null,this._geometryType=r?.geometryType,this._features=e}get fields(){return this._fieldsIndex}get _current(){return this._features[this._featureIndex]}get geometryType(){return this._geometryType}get hasFeatures(){return!!this._features.length}get hasNext(){return this._featureIndex+1<this._features.length}get exceededTransferLimit(){return this._exceededTransferLimit}get hasZ(){return!1}get hasM(){return!1}removeIds(t){const e=new Set(t);this._features=this._features.filter((t=>!(null!=t.objectId&&e.has(t.objectId))))}append(t){for(const e of t)this._features.push(e)}getSize(){return this._features.length}getCursor(){return this.copy()}getQuantizationTransform(){return this._transform}getAttributeHash(){let t="";for(const e in this._current.attributes)t+=this._current.attributes[e];return t}getIndex(){return this._featureIndex}setIndex(t){this._featureIndex=t}getObjectId(){return this._current?.objectId}getDisplayId(){return this._current.displayId}setDisplayId(t){this._current.displayId=t}getGroupId(){return this._current.groupId}setGroupId(t){this._current.groupId=t}copy(){const t=new h(this.instance,this._features,this.fullSchema());return this.copyInto(t),t}next(){for(;++this._featureIndex<this._features.length&&!this._getExists(););return this._featureIndex<this._features.length}readLegacyFeature(){return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToFeature)(this._current,this.geometryType,this.hasZ,this.hasM)}readOptimizedFeature(){return this._current}readLegacyPointGeometry(){return this.readGeometry()?{x:this.getX(),y:this.getY()}:null}readLegacyGeometry(){const t=this.readUnquantizedGeometry();return (0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.convertToGeometry)(t,this.geometryType,this.hasZ,this.hasM)}readLegacyCentroid(){const t=this.readCentroid();return null==t?null:{x:t.coords[0]*this._sx+this._tx,y:t.coords[1]*this._sy+this._ty}}readGeometryArea(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.getQuantizedArea)(this._current.geometry,2):0}readUnquantizedGeometry(){const t=this.readGeometry();if("esriGeometryPoint"===this.geometryType||!t)return t;const e=t.clone();return d(e),e}readHydratedGeometry(){const t=this._current.geometry;if(null==t)return null;const e=t.clone();return null!=this._transform&&(0,_layers_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__.unquantizeOptimizedGeometry)(e,e,this.hasZ,this.hasM,this._transform),e}getXHydrated(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current))return 0;const t=this._current.geometry.coords[0],e=this.getQuantizationTransform();return null==e?t:t*e.scale[0]+e.translate[0]}getYHydrated(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current))return 0;const t=this._current.geometry.coords[1],e=this.getQuantizationTransform();return null==e?t:e.translate[1]-t*e.scale[1]}getX(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[0]*this._sx+this._tx:0}getY(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._current.geometry.coords[1]*this._sy+this._ty:0}readGeometry(){if(!(0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)){if(null!=this._current.centroid){const[t,e]=this._current.centroid.coords;return this.createQuantizedExtrudedQuad(t,e)}return null}const t=this._current.geometry.clone();if(t.isPoint)return t.coords[0]=t.coords[0]*this._sx+this._tx,t.coords[1]=t.coords[1]*this._sy+this._ty,t;let e=0;for(const r of t.lengths)t.coords[2*e]=t.coords[2*e]*this._sx+this._tx,t.coords[2*e+1]=t.coords[2*e+1]*this._sy+this._ty,e+=r;return t}readCentroid(){return (0,_layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_1__.hasGeometry)(this._current)?this._computeCentroid():this._current.centroid}_readAttribute(t,e){const r=this._fieldsIndex.get(t);if(!r)return;let s=this._current.attributes[r.name];return null==s?s:("esriFieldTypeTimestampOffset"===this.fields.get(t)?.type&&(s=this.parseTimestampOffset(s)),e&&this.fields.isDateField(t)?new Date(s):s)}copyInto(t){super.copyInto(t),t._featureIndex=this._featureIndex,t._transform=this._transform,t._fieldsIndex=this._fieldsIndex}_readAttributes(){return this._current.attributes}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/features/support/StaticBitSet.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StaticBitSet": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{static fromBuffer(e,s){return new t(e,s)}static create(e,s=4294967295){const r=new Uint32Array(Math.ceil(e/32));return new t(r,s)}constructor(t,e){this._mask=0,this._buf=t,this._mask=e}_getIndex(t){return Math.floor(t/32)}has(t){const e=this._mask&t;return!!(this._buf[this._getIndex(e)]&1<<e%32)}hasRange(t,e){let s=t,r=e;for(;s%32&&s!==r;){if(this.has(s))return!0;s++}for(;r%32&&s!==r;){if(this.has(s))return!0;r--}if(s===r)return!1;for(let h=s/32;h!==r/32;h++){if(this._buf[h])return!0}return!1}set(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]|=r}setRange(t,e){let s=t,r=e;for(;s%32&&s!==r;)this.set(s++);for(;r%32&&s!==r;)this.set(r--);if(s!==r)for(let h=s/32;h!==r/32;h++)this._buf[h]=4294967295}unset(t){const e=this._mask&t,s=this._getIndex(e),r=1<<e%32;this._buf[s]&=4294967295^r}resize(t){const e=this._buf,s=new Uint32Array(Math.ceil(t/32));s.set(e),this._buf=s}or(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=t._buf[e];return this}and(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=t._buf[e];return this}xor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=t._buf[e];return this}ior(t){for(let e=0;e<this._buf.length;e++)this._buf[e]|=~t._buf[e];return this}iand(t){for(let e=0;e<this._buf.length;e++)this._buf[e]&=~t._buf[e];return this}ixor(t){for(let e=0;e<this._buf.length;e++)this._buf[e]^=~t._buf[e];return this}any(){for(let t=0;t<this._buf.length;t++)if(this._buf[t])return!0;return!1}copy(t){for(let e=0;e<this._buf.length;e++)this._buf[e]=t._buf[e];return this}clone(){return new t(this._buf.slice(),this._mask)}clear(){for(let t=0;t<this._buf.length;t++)this._buf[t]=0}forEachSet(t){for(let e=0;e<this._buf.length;e++){let s=this._buf[e],r=32*e;if(s)for(;s;){1&s&&t(r),s>>>=1,r++}}}countSet(){let t=0;return this.forEachSet((e=>{t++})),t}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvNWRiZDk4MGY3OTdlN2Q4MzEwN2JhZGMzODQzYmRlM2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNvSSxTQUFTLE1BQU0sZUFBZSwyQ0FBQyx3QkFBd0IsZ0RBQWdELFNBQVMsR0FBRyxTQUFTLDBFQUEwRSxzQkFBc0IsaUJBQWlCLE1BQU0sbUVBQUMsOEhBQThILFFBQVEsZUFBZSw2REFBNkQsZ0RBQWdELG9GQUFvRixRQUFRLFFBQVEsaURBQU8sa0JBQWtCLGtDQUFrQyxRQUFRLG9DQUFvQyxRQUFRLGtDQUFrQyxRQUFRLGtDQUFrQyxRQUFRLHFDQUFxQyxNQUFNLHNEQUFZLEVBQUUsNERBQTRELEVBQUUsVUFBVSxFQUFFLHlCQUF5QixTQUFTLHFCQUFxQixPQUFPLHFCQUFxQixVQUFVLHFCQUFxQixVQUFVLHFCQUFxQixlQUFlLFlBQVkseUNBQXlDLGtFQUFrRSwwQ0FBMEMsYUFBYSxvSkFBb0osNkJBQTZCLGFBQWEsc0RBQVksSUFBSSxjQUFjLEdBQUcsK0NBQStDLGFBQWEsc0RBQVksSUFBSSxPQUFPLEdBQUcsbUNBQW1DLGFBQWEsc0RBQVksSUFBSSxnQkFBZ0IsR0FBRyxvQ0FBb0MsYUFBYSxzREFBWSxjQUFjLGdCQUFnQixHQUFHLHVDQUF1QyxhQUFhLHNEQUFZLElBQUksT0FBTyxHQUFHLCtCQUErQixnQkFBZ0IsUUFBUSx5QkFBeUIsa0JBQWtCLGFBQWEscURBQXFELHdDQUF3QyxhQUFhLDBJQUEwSSwwQkFBMEIsYUFBYSxzREFBWSxXQUFXLE9BQU8sR0FBRyw0QkFBNEIsYUFBYSwrQ0FBSyxJQUFJLGVBQWUsOEVBQThFLFVBQVUseUlBQXlJLHdCQUF3QixvQ0FBb0MsY0FBYywwQkFBMEIsV0FBVyx1QkFBdUIsYUFBYSx5QkFBeUIsVUFBVSxzQkFBc0IsbUJBQW1CLDBCQUEwQixrQkFBa0IseUJBQXlCLG9CQUFvQixrQkFBa0IsOEJBQThCLGVBQWUsd0JBQXdC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bUIsNkJBQTZCLFNBQVMsUUFBUSxZQUFZLG1CQUFtQiwyQkFBMkIsWUFBWSxRQUFRLDJDQUEyQyxRQUFRLFlBQVksbUJBQW1CLG1CQUFtQixjQUFjLFlBQVksbUJBQW1CLEtBQUssMEJBQTBCLFVBQVUsRUFBRSxFQUFFLHVCQUF1QixXQUFXLFFBQVEsNEJBQTRCLElBQUksTUFBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9hcmNhZGUvQXJjYWRlRGF0ZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9hcmNhZGUvYXJjYWRlVGltZVV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0F0dHJpYnV0ZVN0b3JlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9mZWF0dXJlcy9zdXBwb3J0L0NvbXB1dGVkQXR0cmlidXRlU3RvcmFnZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9EaXNwbGF5SWRHZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL2ZlYXR1cmVzL3N1cHBvcnQvRmVhdHVyZVNldFJlYWRlci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9GZWF0dXJlU2V0UmVhZGVySlNPTi5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZmVhdHVyZXMvc3VwcG9ydC9TdGF0aWNCaXRTZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkb1N1YnN0aXR1dGlvbnMgYXMgZX1mcm9tXCIuL2V4ZWN1dGlvbkVycm9yLmpzXCI7aW1wb3J0e0lBTkFab25lIGFzIHQsRGF0ZVRpbWUgYXMgbixab25lIGFzIHIsRml4ZWRPZmZzZXRab25lIGFzIHN9ZnJvbVwibHV4b25cIjtjbGFzcyBpe312YXIgbztpLmluc3RhbmNlPW5ldyB0KFwiRXRjL1VUQ1wiKSxmdW5jdGlvbihlKXtlLlRpbWVab25lTm90UmVjb2duaXNlZD1cIlRpbWVab25lTm90UmVjb2duaXNlZFwifShvfHwobz17fSkpO2NvbnN0IGE9e1tvLlRpbWVab25lTm90UmVjb2duaXNlZF06XCJUaW1lem9uZSBpZGVudGlmaWVyIGhhcyBub3QgYmVlbiByZWNvZ25pc2VkLlwifTtjbGFzcyBkIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxuKXtzdXBlcihlKGFbdF0sbikpLHRoaXMuZGVjbGFyZWRSb290Q2xhc3M9XCJlc3JpLmFyY2FkZS5hcmNhZGVkYXRlLmRhdGVlcnJvclwiLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLGQpfX1jbGFzcyBje2NvbnN0cnVjdG9yKGUpe3RoaXMuX2RhdGU9ZSx0aGlzLmRlY2xhcmVkUm9vdENsYXNzPVwiZXNyaS5hcmNhZGUuYXJjYWRlZGF0ZVwifXN0YXRpYyBmcm9tUGFydHMoZT0wLHQ9MSxyPTEscz0wLGk9MCxvPTAsYT0wLGQpe2lmKGlzTmFOKGUpfHxpc05hTih0KXx8aXNOYU4ocil8fGlzTmFOKHMpfHxpc05hTihpKXx8aXNOYU4obyl8fGlzTmFOKGEpKXJldHVybiBudWxsO2xldCBtPTA7Y29uc3QgaD1uLmxvY2FsKGUsdCkuZGF5c0luTW9udGg7cjwxJiYobT1yLTEscj0xKSxyPmgmJihtPXItaCxyPWgpO2xldCBsPTA7dD4xMj8obD10LTEyLHQ9MTIpOnQ8MSYmKGw9dC0xLHQ9MSk7bGV0IGY9MDtpPjU5PyhmPWktNTksaT01OSk6aTwwJiYoZj1pLGk9MCk7bGV0IHc9MDtvPjU5Pyh3PW8tNTksbz01OSk6bzwwJiYodz1vLG89MCk7bGV0IFQ9MDthPjk5OT8oVD1hLTk5OSxhPTk5OSk6YTwwJiYoVD1hLGE9MCk7bGV0IHk9bi5mcm9tT2JqZWN0KHtkYXk6cix5ZWFyOmUsbW9udGg6dCxob3VyOnMsbWludXRlOmksc2Vjb25kOm8sbWlsbGlzZWNvbmQ6YX0se3pvbmU6dShkKX0pO3JldHVybiAwIT09bCYmKHk9eS5wbHVzKHttb250aHM6bH0pKSwwIT09bSYmKHk9eS5wbHVzKHtkYXlzOm19KSksMCE9PWYmJih5PXkucGx1cyh7bWludXRlczpmfSkpLDAhPT13JiYoeT15LnBsdXMoe3NlY29uZHM6d30pKSwwIT09VCYmKHk9eS5wbHVzKHttaWxsaXNlY29uZHM6VH0pKSxuZXcgYyh5KX1zdGF0aWMgZ2V0IHN5c3RlbVRpbWVab25lQ2Fub25pY2FsTmFtZSgpe3JldHVybiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU/P1wic3lzdGVtXCJ9c3RhdGljIGFyY2FkZURhdGVBbmRab25lVG9BcmNhZGVEYXRlKGUsdCl7Y29uc3Qgbj11KHQpO3JldHVybiBlLmlzVW5rbm93blRpbWVab25lfHxuPT09aS5pbnN0YW5jZT9jLmZyb21QYXJ0cyhlLnllYXIsZS5tb250aEpTKzEsZS5kYXksZS5ob3VyLGUubWludXRlLGUuc2Vjb25kLGUubWlsbGlzZWNvbmQsbik6bmV3IGMoZS5fZGF0ZS5zZXRab25lKHQpKX1zdGF0aWMgZGF0ZUpTVG9BcmNhZGVEYXRlKGUpe3JldHVybiBuZXcgYyhuLmZyb21KU0RhdGUoZSx7em9uZTpcInN5c3RlbVwifSkpfXN0YXRpYyBkYXRlSlNBbmRab25lVG9BcmNhZGVEYXRlKGUsdD1cInN5c3RlbVwiKXtyZXR1cm4gbmV3IGMobi5mcm9tSlNEYXRlKGUse3pvbmU6dH0pKX1zdGF0aWMgdW5rbm93bkVwb2NoVG9BcmNhZGVEYXRlKGUpe3JldHVybiBuZXcgYyhuLmZyb21NaWxsaXMoZSx7em9uZTppLmluc3RhbmNlfSkpfXN0YXRpYyB1bmtub3duRGF0ZUpTVG9BcmNhZGVEYXRlKGUpe3JldHVybiBuZXcgYyhuLmZyb21NaWxsaXMoZS5nZXRUaW1lKCkse3pvbmU6aS5pbnN0YW5jZX0pKX1zdGF0aWMgZXBvY2hUb0FyY2FkZURhdGUoZSx0PVwic3lzdGVtXCIpe3JldHVybiBuZXcgYyhuLmZyb21NaWxsaXMoZSx7em9uZTp0fSkpfXN0YXRpYyBkYXRlVGltZVRvQXJjYWRlRGF0ZShlKXtyZXR1cm4gbmV3IGMoZSl9Y2xvbmUoKXtyZXR1cm4gbmV3IGModGhpcy5fZGF0ZSl9Y2hhbmdlVGltZVpvbmUoZSl7Y29uc3QgdD11KGUpO3JldHVybiBjLmRhdGVUaW1lVG9BcmNhZGVEYXRlKHRoaXMuX2RhdGUuc2V0Wm9uZSh0KSl9c3RhdGljIGRhdGVUaW1lQW5kWm9uZVRvQXJjYWRlRGF0ZShlLHQpe2NvbnN0IG49dSh0KTtyZXR1cm4gZS56b25lPT09aS5pbnN0YW5jZXx8bj09PWkuaW5zdGFuY2U/Yy5mcm9tUGFydHMoZS55ZWFyLGUubW9udGgsZS5kYXksZS5ob3VyLGUubWludXRlLGUuc2Vjb25kLGUubWlsbGlzZWNvbmQsbik6bmV3IGMoZS5zZXRab25lKG4pKX1zdGF0aWMgbm93VG9BcmNhZGVEYXRlKGUpe3JldHVybiBuZXcgYyhuLmZyb21KU0RhdGUobmV3IERhdGUse3pvbmU6ZX0pKX1zdGF0aWMgbm93VVRDVG9BcmNhZGVEYXRlKCl7cmV0dXJuIG5ldyBjKG4udXRjKCkpfWdldCBpc1N5c3RlbSgpe3JldHVyblwic3lzdGVtXCI9PT10aGlzLnRpbWVab25lfHx0aGlzLnRpbWVab25lPT09Yy5zeXN0ZW1UaW1lWm9uZUNhbm9uaWNhbE5hbWV9ZXF1YWxzKGUpe3JldHVybiB0aGlzLmlzU3lzdGVtJiZlLmlzU3lzdGVtP3RoaXMudG9OdW1iZXIoKT09PWUudG9OdW1iZXIoKTp0aGlzLmlzVW5rbm93blRpbWVab25lPT09ZS5pc1Vua25vd25UaW1lWm9uZSYmdGhpcy5fZGF0ZS5lcXVhbHMoZS5fZGF0ZSl9Z2V0IGlzVW5rbm93blRpbWVab25lKCl7cmV0dXJuIHRoaXMuX2RhdGUuem9uZT09PWkuaW5zdGFuY2V9Z2V0IGlzVmFsaWQoKXtyZXR1cm4gdGhpcy5fZGF0ZS5pc1ZhbGlkfWdldCBob3VyKCl7cmV0dXJuIHRoaXMuX2RhdGUuaG91cn1nZXQgc2Vjb25kKCl7cmV0dXJuIHRoaXMuX2RhdGUuc2Vjb25kfWdldCBkYXkoKXtyZXR1cm4gdGhpcy5fZGF0ZS5kYXl9Z2V0IGRheU9mV2Vla0lTTygpe3JldHVybiB0aGlzLl9kYXRlLndlZWtkYXl9Z2V0IGRheU9mV2Vla0pTKCl7bGV0IGU9dGhpcy5fZGF0ZS53ZWVrZGF5O3JldHVybiBlPjYmJihlPTApLGV9Z2V0IG1pbGxpc2Vjb25kKCl7cmV0dXJuIHRoaXMuX2RhdGUubWlsbGlzZWNvbmR9Z2V0IG1vbnRoSVNPKCl7cmV0dXJuIHRoaXMuX2RhdGUubW9udGh9Z2V0IHdlZWtJU08oKXtyZXR1cm4gdGhpcy5fZGF0ZS53ZWVrTnVtYmVyfWdldCB5ZWFySVNPKCl7cmV0dXJuIHRoaXMuX2RhdGUud2Vla1llYXJ9Z2V0IG1vbnRoSlMoKXtyZXR1cm4gdGhpcy5fZGF0ZS5tb250aC0xfWdldCB5ZWFyKCl7cmV0dXJuIHRoaXMuX2RhdGUueWVhcn1nZXQgbWludXRlKCl7cmV0dXJuIHRoaXMuX2RhdGUubWludXRlfWdldCB6b25lKCl7cmV0dXJuIHRoaXMuX2RhdGUuem9uZX1nZXQgdGltZVpvbmVPZmZzZXQoKXtyZXR1cm4gdGhpcy5pc1Vua25vd25UaW1lWm9uZT8wOnRoaXMuX2RhdGUub2Zmc2V0fWdldCB0aW1lWm9uZSgpe2lmKHRoaXMuaXNVbmtub3duVGltZVpvbmUpcmV0dXJuXCJ1bmtub3duXCI7aWYoXCJzeXN0ZW1cIj09PXRoaXMuX2RhdGUuem9uZS50eXBlKXJldHVyblwic3lzdGVtXCI7Y29uc3QgZT10aGlzLnpvbmU7cmV0dXJuXCJmaXhlZFwiPT09ZS50eXBlPzA9PT1lLmZpeGVkP1widXRjXCI6ZS5mb3JtYXRPZmZzZXQoMCxcInNob3J0XCIpOmUubmFtZX1zdHJpbmdpZnkoKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy50b0pTRGF0ZSgpKX1wbHVzKGUpe3JldHVybiBuZXcgYyh0aGlzLl9kYXRlLnBsdXMoZSkpfWRpZmYoZSx0PVwibWlsbGlzZWNvbmRzXCIpe3JldHVybiB0aGlzLl9kYXRlLmRpZmYoZS5fZGF0ZSx0KVt0XX10b0lTT1N0cmluZyhlKXtyZXR1cm4gZT90aGlzLl9kYXRlLnRvSVNPKHtzdXBwcmVzc01pbGxpc2Vjb25kczohMCxpbmNsdWRlT2Zmc2V0OiF0aGlzLmlzVW5rbm93blRpbWVab25lfSk6dGhpcy5fZGF0ZS50b0lTTyh7aW5jbHVkZU9mZnNldDohdGhpcy5pc1Vua25vd25UaW1lWm9uZX0pfXRvRm9ybWF0KGUsdCl7cmV0dXJuIHRoaXMuX2RhdGUudG9Gb3JtYXQoZSx0KX10b0pTRGF0ZSgpe3JldHVybiB0aGlzLl9kYXRlLnRvSlNEYXRlKCl9dG9TUUxTdHJpbmcoKXtyZXR1cm5cInRpbWVzdGFtcCAnXCIrdGhpcy5fZGF0ZS50b0Zvcm1hdChcInl5eXktTEwtZGQgSEg6bW06c3NcIikrXCInXCJ9dG9EYXRlVGltZSgpe3JldHVybiB0aGlzLl9kYXRlfXRvTnVtYmVyKCl7cmV0dXJuIHRoaXMuX2RhdGUudG9NaWxsaXMoKX1nZXRUaW1lKCl7cmV0dXJuIHRoaXMuX2RhdGUudG9NaWxsaXMoKX10b1VUQygpe3JldHVybiBuZXcgYyh0aGlzLl9kYXRlLnRvVVRDKCkpfXRvTG9jYWwoKXtyZXR1cm4gbmV3IGModGhpcy5fZGF0ZS50b0xvY2FsKCkpfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMudG9JU09TdHJpbmcoITApfX1mdW5jdGlvbiB1KGUpe2lmKGUgaW5zdGFuY2VvZiByKXJldHVybiBlO2lmKFwic3lzdGVtXCI9PT1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuXCJzeXN0ZW1cIjtpZihcInV0Y1wiPT09ZS50b0xvd2VyQ2FzZSgpKXJldHVyblwidXRjXCI7aWYoXCJ1bmtub3duXCI9PT1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGkuaW5zdGFuY2U7aWYoL15bXFwrXFwtXT9bMC05XXsxLDJ9KFs6XVswLTldezJ9KT8kLy50ZXN0KGUpKXtjb25zdCB0PXMucGFyc2VTcGVjaWZpZXIoXCJVVENcIisoZS5zdGFydHNXaXRoKFwiK1wiKXx8ZS5zdGFydHNXaXRoKFwiLVwiKT9cIlwiOlwiK1wiKStlKTtpZih0KXJldHVybiB0fWNvbnN0IG49dC5jcmVhdGUoZSk7aWYoIW4uaXNWYWxpZCl0aHJvdyBuZXcgZChvLlRpbWVab25lTm90UmVjb2duaXNlZCk7cmV0dXJuIG59ZXhwb3J0e2MgYXMgQXJjYWRlRGF0ZSxkIGFzIEFyY2FkZURhdGVFcnJvcixvIGFzIEFyY2FkZURhdGVFcnJvckNvZGVzLGEgYXMgQXJjYWRlRGF0ZUVycm9yTWVzc2FnZXMsaSBhcyBVbmtub3duVGltZVpvbmUsdSBhcyBjcmVhdGVEYXRlVGltZVpvbmV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtVbmtub3duVGltZVpvbmUgYXMgZSxBcmNhZGVEYXRlRXJyb3IgYXMgdCxBcmNhZGVEYXRlRXJyb3JDb2RlcyBhcyBpfWZyb21cIi4vQXJjYWRlRGF0ZS5qc1wiO2ltcG9ydCBuIGZyb21cIi4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0IGEgZnJvbVwiLi4vdGltZS9UaW1lUmVmZXJlbmNlLmpzXCI7aW1wb3J0e1pvbmUgYXMgcixTeXN0ZW1ab25lIGFzIHMsRml4ZWRPZmZzZXRab25lIGFzIGQsSUFOQVpvbmUgYXMgb31mcm9tXCJsdXhvblwiO2ltcG9ydHtjb252ZXJ0TGVnYWN5VGltZVpvbmUgYXMgZn1mcm9tXCIuLi90aW1lL3RpbWVSZWZlcmVuY2VVdGlscy5qc1wiO2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBhfWZ1bmN0aW9uIG0obil7aWYoIW4pcmV0dXJuIG51bGw7aWYobChuKSYmKG49YyhuLnRvSlNPTigpKSksbiBpbnN0YW5jZW9mIHIpcmV0dXJuIG47aWYoXCJ1bmtub3duXCI9PT1uLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGUuaW5zdGFuY2U7aWYoXCJzeXN0ZW1cIj09PW4udG9Mb3dlckNhc2UoKSlyZXR1cm4gcy5pbnN0YW5jZTtpZihcInV0Y1wiPT09bi50b0xvd2VyQ2FzZSgpKXJldHVybiBkLnV0Y0luc3RhbmNlO2lmKC9eW1xcK1xcLV0/WzAtOV17MSwyfShbOl1bMC05XXsyfSk/JC8udGVzdChuKSl7Y29uc3QgZT1kLnBhcnNlU3BlY2lmaWVyKFwiVVRDXCIrKG4uc3RhcnRzV2l0aChcIitcIil8fG4uc3RhcnRzV2l0aChcIi1cIik/XCJcIjpcIitcIikrbik7aWYoZSlyZXR1cm4gZX1jb25zdCBhPW8uY3JlYXRlKG4pO2lmKCFhLmlzVmFsaWQpdGhyb3cgbmV3IHQoaS5UaW1lWm9uZU5vdFJlY29nbmlzZWQpO3JldHVybiBhfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGU/LnRpbWVab25lSUFOQT9lPy50aW1lWm9uZUlBTkE6ZT8udGltZVpvbmU/ZihlLFwiXCIpOlwiXCJ9Y2xhc3MgVHtjb25zdHJ1Y3Rvcigpe3RoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT1udWxsLHRoaXMuX2ZpZWxkVGltZVpvbmVJbmRleD17fSx0aGlzLl9maWVsZEluZGV4PW51bGwsdGhpcy5faWFuYVByZWZlcnJlZD1udWxsLHRoaXMuX2lhbmFUaW1lSW5mbz1udWxsLHRoaXMuX2lhbmFFZGl0RmllbGRzPW51bGwsdGhpcy5faWFuYUxheWVyRGF0ZUZpZWxkcz1udWxsfXN0YXRpYyBjcmVhdGUoZSx0KXtjb25zdCBpPW5ldyBUO3JldHVybiBpLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE9dCxpLl9maWVsZEluZGV4PWUgaW5zdGFuY2VvZiBuP2U6bmV3IG4oZSksaX1zdGF0aWMgY3JlYXRlRnJvbUxheWVyKGUpe2lmKCFlKXJldHVybiBudWxsO2lmKCFlLmZpZWxkc0luZGV4KXJldHVybiFlLmRlY2xhcmVkQ2xhc3MmJmUuZmllbGRzP1QuY3JlYXRlKGUuZmllbGRzLGUpOm51bGw7Y29uc3QgdD1uZXcgVDtyZXR1cm4gdC5fZmllbGRJbmRleD1lLmZpZWxkc0luZGV4LHQuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT17dGltZUluZm86ZT8udGltZUluZm8/LnRvSlNPTigpPz9udWxsLGVkaXRGaWVsZHNJbmZvOmU/LmVkaXRGaWVsZHNJbmZvPy50b0pTT04oKT8/bnVsbCxkYXRlRmllbGRzVGltZVJlZmVyZW5jZTplPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZT8udG9KU09OKCk/P251bGwscHJlZmVycmVkVGltZVJlZmVyZW5jZTplPy5wcmVmZXJyZWRUaW1lUmVmZXJlbmNlPy50b0pTT04oKT8/bnVsbCxkYXRlc0luVW5rbm93blRpbWV6b25lOiEwPT09ZT8uZGF0ZXNJblVua25vd25UaW1lem9uZX0sdH1maWVsZFRpbWVab25lKGUpe2NvbnN0IHQ9dGhpcy5fZmllbGRJbmRleD8uZ2V0KGUpO2lmKCF0KXJldHVybiBudWxsO2lmKFwiZGF0ZVwiIT09dC50eXBlJiZcImVzcmlGaWVsZFR5cGVEYXRlXCIhPT10LnR5cGUpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLl9maWVsZFRpbWVab25lSW5kZXhbdC5uYW1lXTtpZih2b2lkIDAhPT1pKXJldHVybiBpO2NvbnN0IG49W3tmaWVsZDp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmVkaXRGaWVsZHNJbmZvPy5jcmVhdGlvbkRhdGVGaWVsZCx0aW1lUmVmZXJlbmNlOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZWRpdEZpZWxkc0luZm8/LmRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlLGlzdW5rbm93bjohMD09PXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZX0se2ZpZWxkOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZWRpdEZpZWxkc0luZm8/LmVkaXREYXRlRmllbGQsdGltZVJlZmVyZW5jZTp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmVkaXRGaWVsZHNJbmZvPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZSxpc3Vua25vd246ITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmV9LHtmaWVsZDp0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LnRpbWVJbmZvPy5zdGFydFRpbWVGaWVsZCx0aW1lUmVmZXJlbmNlOnRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8udGltZUluZm8/LnRpbWVSZWZlcmVuY2UsaXN1bmtub3duOiEwPT09dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlc0luVW5rbm93blRpbWV6b25lfSx7ZmllbGQ6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy50aW1lSW5mbz8uZW5kVGltZUZpZWxkLHRpbWVSZWZlcmVuY2U6dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy50aW1lSW5mbz8udGltZVJlZmVyZW5jZSxpc3Vua25vd246ITA9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVzSW5Vbmtub3duVGltZXpvbmV9XTtmb3IoY29uc3QgciBvZiBuKWlmKHIuZmllbGQ9PT10Lm5hbWUpe2NvbnN0IGU9dGhpcy5jb252ZXJ0VG9JQU5BKHIudGltZVJlZmVyZW5jZSxyLmlzdW5rbm93bik7cmV0dXJuIHRoaXMuX2ZpZWxkVGltZVpvbmVJbmRleFt0Lm5hbWVdPWUsZX1jb25zdCBhPXRoaXMuY29udmVydFRvSUFOQSh0aGlzLmRhdGVUaW1lUmVmZXJlbmNlTWV0YURhdGE/LmRhdGVGaWVsZHNUaW1lUmVmZXJlbmNlLHRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZSk7cmV0dXJuIHRoaXMuX2ZpZWxkVGltZVpvbmVJbmRleFt0Lm5hbWVdPWEsYX1jb252ZXJ0VG9JQU5BKGUsdCl7cmV0dXJuIHQ/XCJ1bmtub3duXCI6YyhlKX1nZXQgbGF5ZXJQcmVmZXJyZWRUaW1lWm9uZSgpe2lmKG51bGwhPT10aGlzLl9pYW5hUHJlZmVycmVkKXJldHVybiB0aGlzLl9pYW5hUHJlZmVycmVkO3RoaXMuX2lhbmFQcmVmZXJyZWQ9XCJcIjtjb25zdCBlPXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8ucHJlZmVycmVkVGltZVJlZmVyZW5jZTtyZXR1cm4gdGhpcy5faWFuYVByZWZlcnJlZD10aGlzLmNvbnZlcnRUb0lBTkEoZSwhMD09PXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZSksdGhpcy5faWFuYVByZWZlcnJlZH1nZXQgbGF5ZXJUaW1lSW5mb1RpbWVab25lKCl7aWYobnVsbCE9PXRoaXMuX2lhbmFUaW1lSW5mbylyZXR1cm4gdGhpcy5faWFuYVRpbWVJbmZvO3RoaXMuX2lhbmFUaW1lSW5mbz1cIlwiO2NvbnN0IGU9dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy50aW1lSW5mbz8udGltZVJlZmVyZW5jZTtyZXR1cm4gdGhpcy5faWFuYVRpbWVJbmZvPXRoaXMuY29udmVydFRvSUFOQShlLCExKSx0aGlzLl9pYW5hVGltZUluZm99Z2V0IGxheWVyRWRpdEZpZWxkc1RpbWVab25lKCl7aWYobnVsbCE9PXRoaXMuX2lhbmFFZGl0RmllbGRzKXJldHVybiB0aGlzLl9pYW5hRWRpdEZpZWxkczt0aGlzLl9pYW5hRWRpdEZpZWxkcz1cIlwiO2NvbnN0IGU9dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5lZGl0RmllbGRzSW5mbz8uZGF0ZUZpZWxkc1RpbWVSZWZlcmVuY2U7cmV0dXJuIHRoaXMuX2lhbmFFZGl0RmllbGRzPXRoaXMuY29udmVydFRvSUFOQShlLHRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZSksdGhpcy5faWFuYUVkaXRGaWVsZHN9Z2V0IGxheWVyRGF0ZUZpZWxkc1RpbWVab25lKCl7aWYobnVsbCE9PXRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHMpcmV0dXJuIHRoaXMuX2lhbmFMYXllckRhdGVGaWVsZHM7dGhpcy5faWFuYUxheWVyRGF0ZUZpZWxkcz1cIlwiO2NvbnN0IGU9dGhpcy5kYXRlVGltZVJlZmVyZW5jZU1ldGFEYXRhPy5kYXRlRmllbGRzVGltZVJlZmVyZW5jZTtyZXR1cm4gdGhpcy5faWFuYUxheWVyRGF0ZUZpZWxkcz10aGlzLmNvbnZlcnRUb0lBTkEoZSwhMD09PXRoaXMuZGF0ZVRpbWVSZWZlcmVuY2VNZXRhRGF0YT8uZGF0ZXNJblVua25vd25UaW1lem9uZSksdGhpcy5faWFuYUxheWVyRGF0ZUZpZWxkc319ZXhwb3J0e1QgYXMgRGF0ZVRpbWVSZWZlcmVuY2VGaWVsZEluZGV4LG0gYXMgY29udmVydFRpbWVSZWZlcmVuY2UsYyBhcyBjb252ZXJ0VG9JQU5BfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL0Vycm9yLmpzXCI7aW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydCBlIGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvTG9nZ2VyLmpzXCI7aW1wb3J0e2NsYW1wIGFzIGl9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXRoVXRpbHMuanNcIjtpbXBvcnR7bWFwTWFueSBhcyBzLGZvckVhY2hTb21lIGFzIHIsYXBwbHlTb21lIGFzIGF9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyBuLGlzQWJvcnRFcnJvciBhcyBvfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2RpZmYgYXMgbH1mcm9tXCIuLi8uLi8uLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kaWZmVXRpbHMuanNcIjtpbXBvcnR7V2F0Y2hVcGRhdGluZ1RyYWNraW5nIGFzIGh9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9zdXBwb3J0L1dhdGNoVXBkYXRpbmdUcmFja2luZy5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e01BWF9GSUxURVJTIGFzIGQsSElHSExJR0hUX0ZMQUcgYXMgcCxBVFRSSUJVVEVfREFUQV9WViBhcyBjLE5BTl9NQUdJQ19OVU1CRVIgYXMgZyxBVFRSSUJVVEVfREFUQV9BTklNQVRJT04gYXMgXyxBVFRSSUJVVEVfREFUQV9HUEdQVSBhcyBmfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9kZWZpbml0aW9ucy5qc1wiO2ltcG9ydHtESVNQTEFZX0lEX1RZUEVfQUdHUkVHQVRFIGFzIG0sRElTUExBWV9JRF9UWVBFX0ZFQVRVUkUgYXMgeSxnZXREaXNwbGF5SWRUZXhlbCBhcyBiLGdldERpc3BsYXlJZFR5cGUgYXMgeCxnZXREaXNwbGF5SWRGaWx0ZXJNYXNrIGFzIFN9ZnJvbVwiLi4vLi4vLi4vZW5naW5lL3dlYmdsL0Rpc3BsYXlJZC5qc1wiO2ltcG9ydHtnZXRQaXhlbEFycmF5Q3RvciBhcyBUfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9VdGlscy5qc1wiO2ltcG9ydHtjcmVhdGVEZWJ1Z0xvZ2dlciBhcyB6LERFQlVHX0FUVFJfVVBEQVRFUyBhcyBVfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC91dGlsL2RlYnVnLmpzXCI7aW1wb3J0e2dldFZpc3VhbFZhcmlhYmxlU2l6ZVZhbHVlUmVwcmVzZW50YXRpb25SYXRpbyBhcyBBfWZyb21cIi4uL3RpbGVSZW5kZXJlcnMvc3VwcG9ydC92aXN1YWxWYXJpYWJsZXNVdGlscy5qc1wiO2ltcG9ydHtQaXhlbFR5cGUgYXMgd31mcm9tXCIuLi8uLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2NvbnN0IEU9ZS5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLmxheWVycy4yZC5mZWF0dXJlcy5zdXBwb3J0LkF0dHJpYnV0ZVN0b3JlXCIpLGs9eihVLEUpLEQ9e3NoYXJlZEFycmF5QnVmZmVyOmhhcyhcImVzcmktc2hhcmVkLWFycmF5LWJ1ZmZlclwiKSxhdG9taWNzOmhhcyhcImVzcmktYXRvbWljc1wiKX07ZnVuY3Rpb24gRih0LGUpe3JldHVybiBpPT5lKHQoaSkpfWNsYXNzIEl7Y29uc3RydWN0b3IodCxlLGkscyl7dGhpcy5zaXplPTAsdGhpcy50ZXhlbFNpemU9NCx0aGlzLmRpcnR5U3RhcnQ9MCx0aGlzLmRpcnR5RW5kPTA7Y29uc3R7cGl4ZWxUeXBlOnIsbGF5b3V0OmEsdGV4dHVyZU9ubHk6bn09czt0aGlzLnRleHR1cmVPbmx5PW58fCExLHRoaXMucGl4ZWxUeXBlPXIsdGhpcy5fY3R5cGU9ZSx0aGlzLmxheW91dD1hLHRoaXMuX3Jlc2V0UmFuZ2UoKSx0aGlzLl9zaGFyZWQ9dCx0aGlzLnNpemU9aSxufHwodGhpcy5kYXRhPXRoaXMuX2luaXREYXRhKHIsaSx0LGUpKX1nZXQgYnVmZmVyKCl7cmV0dXJuIGEodGhpcy5kYXRhLCh0PT50LmJ1ZmZlcikpfXVuc2V0Q29tcG9uZW50QWxsVGV4ZWxzKHQsZSl7Y29uc3QgaT10aGlzLmRhdGE7Zm9yKGxldCBzPTA7czx0aGlzLnNpemUqdGhpcy5zaXplO3MrKylpW3MqdGhpcy50ZXhlbFNpemUrdF0mPX5lO3RoaXMuZGlydHlTdGFydD0wLHRoaXMuZGlydHlFbmQ9dGhpcy5zaXplKnRoaXMuc2l6ZS0xfXNldENvbXBvbmVudEFsbFRleGVscyh0LGUpe2NvbnN0IGk9dGhpcy5kYXRhO2ZvcihsZXQgcz0wO3M8dGhpcy5zaXplKnRoaXMuc2l6ZTtzKyspaVtzKnRoaXMudGV4ZWxTaXplK3RdfD0yNTUmZTt0aGlzLmRpcnR5U3RhcnQ9MCx0aGlzLmRpcnR5RW5kPXRoaXMuc2l6ZSp0aGlzLnNpemUtMX1zZXRDb21wb25lbnQodCxlLGkpe2NvbnN0IHM9dGhpcy5kYXRhO2Zvcihjb25zdCByIG9mIGkpc1tyKnRoaXMudGV4ZWxTaXplK3RdfD1lLHRoaXMuZGlydHlTdGFydD1NYXRoLm1pbih0aGlzLmRpcnR5U3RhcnQsciksdGhpcy5kaXJ0eUVuZD1NYXRoLm1heCh0aGlzLmRpcnR5RW5kLHIpfXNldENvbXBvbmVudFRleGVsKHQsZSxpKXt0aGlzLmRhdGFbaSp0aGlzLnRleGVsU2l6ZSt0XXw9ZSx0aGlzLmRpcnR5U3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eVN0YXJ0LGkpLHRoaXMuZGlydHlFbmQ9TWF0aC5tYXgodGhpcy5kaXJ0eUVuZCxpKX11bnNldENvbXBvbmVudFRleGVsKHQsZSxpKXt0aGlzLmRhdGFbaSp0aGlzLnRleGVsU2l6ZSt0XSY9fmUsdGhpcy5kaXJ0eVN0YXJ0PU1hdGgubWluKHRoaXMuZGlydHlTdGFydCxpKSx0aGlzLmRpcnR5RW5kPU1hdGgubWF4KHRoaXMuZGlydHlFbmQsaSl9Z2V0RGF0YSh0LGUpe2NvbnN0IGk9Yih0KTtyZXR1cm4gdGhpcy5kYXRhW2kqdGhpcy50ZXhlbFNpemUrZV19c2V0RGF0YSh0LGUsaSl7Y29uc3Qgcz1iKHQpLHI9MTw8ZTswIT0odGhpcy5sYXlvdXQmcik/bnVsbCE9dGhpcy5kYXRhJiYodGhpcy5kYXRhW3MqdGhpcy50ZXhlbFNpemUrZV09aSx0aGlzLmRpcnR5U3RhcnQ9TWF0aC5taW4odGhpcy5kaXJ0eVN0YXJ0LHMpLHRoaXMuZGlydHlFbmQ9TWF0aC5tYXgodGhpcy5kaXJ0eUVuZCxzKSk6RS5lcnJvcihcIm1hcHZpZXctYXR0cmlidXRlcy1zdG9yZVwiLFwiVHJpZWQgdG8gc2V0IGEgdmFsdWUgZm9yIGEgdGV4ZWwncyByZWFkb25seSBjb21wb25lbnRcIil9bG9jaygpe3RoaXMucGl4ZWxUeXBlPT09dy5VTlNJR05FRF9CWVRFJiZ0aGlzLl9zaGFyZWQmJkQuYXRvbWljcyYmXCJsb2NhbFwiIT09dGhpcy5fY3R5cGUmJkF0b21pY3Muc3RvcmUodGhpcy5kYXRhLDAsMSl9dW5sb2NrKCl7dGhpcy5waXhlbFR5cGU9PT13LlVOU0lHTkVEX0JZVEUmJnRoaXMuX3NoYXJlZCYmRC5hdG9taWNzJiZcImxvY2FsXCIhPT10aGlzLl9jdHlwZSYmQXRvbWljcy5zdG9yZSh0aGlzLmRhdGEsMCwwKX1leHBhbmQodCl7aWYodGhpcy5zaXplPXQsIXRoaXMudGV4dHVyZU9ubHkpe2NvbnN0IGU9dGhpcy5faW5pdERhdGEodGhpcy5waXhlbFR5cGUsdCx0aGlzLl9zaGFyZWQsdGhpcy5fY3R5cGUpLGk9dGhpcy5kYXRhO2Uuc2V0KGkpLHRoaXMuZGF0YT1lfX10b01lc3NhZ2UoKXtjb25zdCB0PXRoaXMuZGlydHlTdGFydCxlPXRoaXMuZGlydHlFbmQsaT10aGlzLnRleGVsU2l6ZTtpZih0PmUpcmV0dXJuIG51bGw7dGhpcy5fcmVzZXRSYW5nZSgpO2NvbnN0IHM9ISh0aGlzLl9zaGFyZWR8fFwibG9jYWxcIj09PXRoaXMuX2N0eXBlKSxyPXRoaXMucGl4ZWxUeXBlLGE9dGhpcy5sYXlvdXQsbj10aGlzLmRhdGE7cmV0dXJue3N0YXJ0OnQsZW5kOmUsZGF0YTpzJiZuLnNsaWNlKHQqaSwoZSsxKSppKXx8bnVsbCxwaXhlbFR5cGU6cixsYXlvdXQ6YX19X2luaXREYXRhKHQsZSxpLHMpe2NvbnN0IHI9aSYmXCJsb2NhbFwiIT09cz9TaGFyZWRBcnJheUJ1ZmZlcjpBcnJheUJ1ZmZlcixhPVQodCksbj1uZXcgYShuZXcgcihlKmUqNCphLkJZVEVTX1BFUl9FTEVNRU5UKSk7Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKz00KW5bbysxXT0yNTU7cmV0dXJuIG59X3Jlc2V0UmFuZ2UoKXt0aGlzLmRpcnR5U3RhcnQ9MjE0NzQ4MzY0Nyx0aGlzLmRpcnR5RW5kPTB9fWNsYXNzIEJ7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9jbGllbnQ9dCx0aGlzLmNvbmZpZz1lLHRoaXMudXBkYXRpbmdIYW5kbGVzPW5ldyBoLHRoaXMuX2Jsb2Nrcz1uZXcgQXJyYXksdGhpcy5fZmlsdGVycz1uZXcgQXJyYXkoZCksdGhpcy5fYXR0cmlidXRlQ29tcHV0ZUluZm89bnVsbCx0aGlzLl90YXJnZXRUeXBlPTAsdGhpcy5fYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXIsdGhpcy5faGFzU2NhbGVFeHByPSExLHRoaXMuX3NpemU9MzIsdGhpcy5fbmV4dFVwZGF0ZT1udWxsLHRoaXMuX2N1cnJVcGRhdGU9bnVsbCx0aGlzLl9pZHNUb0hpZ2hsaWdodD1uZXcgU2V0O2NvbnN0IGk9ZS5zdXBwb3J0c1RleHR1cmVGbG9hdD93LkZMT0FUOncuVU5TSUdORURfQllURTtrKGBDcmVhdGluZyBBdHRyaWJ1dGVTdG9yZSAke0Quc2hhcmVkQXJyYXlCdWZmZXI/XCJ3aXRoXCI6XCJ3aXRob3V0XCJ9IHNoYXJlZCBtZW1vcnlgKSx0aGlzLl9ibG9ja0Rlc2NyaXB0b3JzPVt7cGl4ZWxUeXBlOncuVU5TSUdORURfQllURSxsYXlvdXQ6MX0se3BpeGVsVHlwZTp3LlVOU0lHTkVEX0JZVEUsbGF5b3V0OjE1LHRleHR1cmVPbmx5OiEwfSx7cGl4ZWxUeXBlOncuVU5TSUdORURfQllURSxsYXlvdXQ6MTUsdGV4dHVyZU9ubHk6ITB9LHtwaXhlbFR5cGU6aSxsYXlvdXQ6MTV9LHtwaXhlbFR5cGU6aSxsYXlvdXQ6MTV9LHtwaXhlbFR5cGU6aSxsYXlvdXQ6MTV9LHtwaXhlbFR5cGU6aSxsYXlvdXQ6MTV9XSx0aGlzLl9ibG9ja3M9dGhpcy5fYmxvY2tEZXNjcmlwdG9ycy5tYXAoKCgpPT5udWxsKSl9ZGVzdHJveSgpe3RoaXMuX2Fib3J0Q29udHJvbGxlci5hYm9ydCgpLHRoaXMudXBkYXRpbmdIYW5kbGVzLmRlc3Ryb3koKX1nZXQgaGFzU2NhbGVFeHByKCl7cmV0dXJuIHRoaXMuX2hhc1NjYWxlRXhwcn1nZXQgX3NpZ25hbCgpe3JldHVybiB0aGlzLl9hYm9ydENvbnRyb2xsZXIuc2lnbmFsfWdldCBoYXNIaWdobGlnaHQoKXtyZXR1cm4gdGhpcy5faWRzVG9IaWdobGlnaHQuc2l6ZT4wfWlzVXBkYXRpbmcoKXtjb25zdCB0PXRoaXMudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfHwhIXRoaXMuX25leHRVcGRhdGU7cmV0dXJuIGhhcyhcImVzcmktMmQtbG9nLXVwZGF0aW5nXCIpJiZjb25zb2xlLmxvZyhgVXBkYXRpbmcgQXR0cmlidXRlU3RvcmU6ICR7dH1cXG4gIC0+IHVwZGF0aW5nSGFuZGxlcyAke3RoaXMudXBkYXRpbmdIYW5kbGVzLnVwZGF0aW5nfSAoY3VyclVwZGF0ZTogJHshIXRoaXMuX2N1cnJVcGRhdGV9KVxcbiAgLT4gbmV4dFVwZGF0ZTogJHshIXRoaXMuX25leHRVcGRhdGV9XFxuYCksdH11cGRhdGUodCxlKXt0aGlzLmNvbmZpZz1lO2NvbnN0IGk9ZS5zY2hlbWEucHJvY2Vzc29yc1swXS5zdG9yYWdlLHM9bCh0aGlzLl9zY2hlbWEsaSk7aWYoKHQudGFyZ2V0cy5mZWF0dXJlfHx0LnRhcmdldHMuYWdncmVnYXRlKSYmKHQuc3RvcmFnZS5kYXRhPSEwKSxzJiYoaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBVcGRhdGUgLSBBdHRyaWJ1dGVTdG9yZTpcIixzKSx0LnN0b3JhZ2UuZGF0YT0hMCx0aGlzLl9zY2hlbWE9aSx0aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbz1udWxsLG51bGwhPWkpKXtzd2l0Y2goaS50YXJnZXQpe2Nhc2VcImZlYXR1cmVcIjp0aGlzLl90YXJnZXRUeXBlPXk7YnJlYWs7Y2FzZVwiYWdncmVnYXRlXCI6dGhpcy5fdGFyZ2V0VHlwZT1tfWlmKFwic3VidHlwZVwiPT09aS50eXBlKXt0aGlzLl9hdHRyaWJ1dGVDb21wdXRlSW5mbz17aXNTdWJ0eXBlOiEwLHN1YnR5cGVGaWVsZDppLnN1YnR5cGVGaWVsZCxtYXA6bmV3IE1hcH07Zm9yKGNvbnN0IHQgaW4gaS5tYXBwaW5nKXtjb25zdCBlPWkubWFwcGluZ1t0XTtpZihudWxsIT1lJiZudWxsIT1lLnZ2TWFwcGluZylmb3IoY29uc3QgaSBvZiBlLnZ2TWFwcGluZyl0aGlzLl9iaW5kQXR0cmlidXRlKGkscGFyc2VJbnQodCwxMCkpfX1lbHNle2lmKHRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvPXtpc1N1YnR5cGU6ITEsbWFwOm5ldyBNYXB9LG51bGwhPWkudnZNYXBwaW5nKWZvcihjb25zdCB0IG9mIGkudnZNYXBwaW5nKXRoaXMuX2JpbmRBdHRyaWJ1dGUodCk7aWYobnVsbCE9aS5hdHRyaWJ1dGVNYXBwaW5nKWZvcihjb25zdCB0IG9mIGkuYXR0cmlidXRlTWFwcGluZyl0aGlzLl9iaW5kQXR0cmlidXRlKHQpfX19b25UaWxlRGF0YSh0LGUpe2lmKG51bGw9PWUuYWRkT3JVcGRhdGUpcmV0dXJuO2NvbnN0IGk9ZS5hZGRPclVwZGF0ZS5nZXRDdXJzb3IoKTtmb3IoO2kubmV4dCgpOyl7Y29uc3QgdD1pLmdldERpc3BsYXlJZCgpO3RoaXMuc2V0QXR0cmlidXRlRGF0YSh0LGkpfX1hc3luYyBzZXRIaWdobGlnaHQodCxlKXtjb25zdCBpPTEscz10aGlzLl9nZXRCbG9jaygwKSxyPWUubWFwKCh0PT5iKHQpKSk7cy5sb2NrKCkscy51bnNldENvbXBvbmVudEFsbFRleGVscygwLGkpLHMuc2V0Q29tcG9uZW50KDAsaSxyKSxzLnVubG9jaygpLHRoaXMuX2lkc1RvSGlnaGxpZ2h0LmNsZWFyKCk7Zm9yKGNvbnN0IGEgb2YgdCl0aGlzLl9pZHNUb0hpZ2hsaWdodC5hZGQoYSk7YXdhaXQgdGhpcy5zZW5kVXBkYXRlcygpfWFzeW5jIHVwZGF0ZUZpbHRlcnModCxlLGkpe2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXR0cmlidXRlU3RvcmU6OnVwZGF0ZUZpbHRlcnNcIik7Y29uc3R7c2VydmljZTpzLHNwYXRpYWxSZWZlcmVuY2U6cn09aSx7ZmlsdGVyczphfT1lLG49YS5tYXAoKCh0LGUpPT50aGlzLl91cGRhdGVGaWx0ZXIodCxlLHMscikpKSxvPShhd2FpdCBQcm9taXNlLmFsbChuKSkuc29tZSgodD0+dCkpO2hhcyhcImVzcmktMmQtdXBkYXRlLWRlYnVnXCIpJiZjb25zb2xlLmRlYnVnKFwiQXR0cmlidXRlU3RvcmU6OnVwZGF0ZUZpbHRlcnMgLSBmaW5zaWhlZFwiKSxvJiYodC5zdG9yYWdlLmZpbHRlcnM9ITAsaGFzKFwiZXNyaS0yZC11cGRhdGUtZGVidWdcIikmJmNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBVcGRhdGUgLSBBdHRyaWJ1dGVTdG9yZTpcIixcIkZpbHRlcnMgY2hhbmdlZFwiKSl9c2V0RGF0YSh0LGUsaSxzKXtjb25zdCByPWIodCk7dGhpcy5fZW5zdXJlU2l6ZUZvclRleGVsKHIpLHRoaXMuX2dldEJsb2NrKGUpLnNldERhdGEodCxpLHMpfWdldERhdGEodCxlLGkpe3JldHVybiB0aGlzLl9nZXRCbG9jayhlKS5nZXREYXRhKHQsaSl9Z2V0SGlnaGxpZ2h0RmxhZyh0KXtyZXR1cm4gdGhpcy5faWRzVG9IaWdobGlnaHQuaGFzKHQpP3A6MH11bnNldEF0dHJpYnV0ZURhdGEodCl7Y29uc3QgZT1iKHQpO3RoaXMuX2dldEJsb2NrKDApLnNldERhdGEoZSwwLDApfXNldEF0dHJpYnV0ZURhdGEodCxlKXtjb25zdCBzPWIodCk7aWYodGhpcy5fZW5zdXJlU2l6ZUZvclRleGVsKHMpLHRoaXMuX2dldEJsb2NrKDApLnNldERhdGEocywwLHRoaXMuZ2V0RmlsdGVyRmxhZ3MoZSkpLHRoaXMuX3RhcmdldFR5cGUhPT14KHQpKXJldHVybjtjb25zdCByPXRoaXMuX2F0dHJpYnV0ZUNvbXB1dGVJbmZvLGE9dGhpcy5jb25maWcuc3VwcG9ydHNUZXh0dXJlRmxvYXQ/MToyLG49NDtsZXQgbz1udWxsO3ImJihvPXIuaXNTdWJ0eXBlP3IubWFwLmdldChlLnJlYWRBdHRyaWJ1dGUoci5zdWJ0eXBlRmllbGQpKTpyLm1hcCxvJiZvLnNpemUmJm8uZm9yRWFjaCgoKHQscik9Pntjb25zdCBvPXIqYSVuLGw9TWF0aC5mbG9vcihyKmEvbiksaD10aGlzLl9nZXRCbG9jayhsK2MpLHU9dChlKTtpZih0aGlzLmNvbmZpZy5zdXBwb3J0c1RleHR1cmVGbG9hdCloLnNldERhdGEocyxvLHUpO2Vsc2UgaWYodT09PWcpaC5zZXREYXRhKHMsbywyNTUpLGguc2V0RGF0YShzLG8rMSwyNTUpO2Vsc2V7Y29uc3QgdD1pKE1hdGgucm91bmQodSksLTMyNzY3LDMyNzY2KSszMjc2OCxlPTI1NSZ0LHI9KDY1MjgwJnQpPj44O2guc2V0RGF0YShzLG8sZSksaC5zZXREYXRhKHMsbysxLHIpfX0pKSl9c2VuZFVwZGF0ZXMoKXtpZihoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkF0dHJpYnV0ZVN0b3JlOjpzZW5kVXBkYXRlXCIpLHRoaXMuX25leHRVcGRhdGUpcmV0dXJuIHRoaXMuX25leHRVcGRhdGUucHJvbWlzZTtpZih0aGlzLl9jdXJyVXBkYXRlKXJldHVybiB0aGlzLl9uZXh0VXBkYXRlPW4oKSx0aGlzLnVwZGF0aW5nSGFuZGxlcy5hZGRQcm9taXNlKHRoaXMuX25leHRVcGRhdGUucHJvbWlzZSksdGhpcy5fbmV4dFVwZGF0ZS5wcm9taXNlO2NvbnN0IGU9e2Jsb2Nrczp0aGlzLl9ibG9ja3MubWFwKCh0PT5udWxsIT10P3QudG9NZXNzYWdlKCk6bnVsbCkpfTtyZXR1cm4gdGhpcy5fY3VyclVwZGF0ZT10aGlzLl9jcmVhdGVSZXNvdXJjZXMoKS50aGVuKCgoKT0+e2NvbnN0IHQ9KCk9PntpZih0aGlzLl9jdXJyVXBkYXRlPW51bGwsdGhpcy5fbmV4dFVwZGF0ZSl7Y29uc3QgdD10aGlzLl9uZXh0VXBkYXRlO3RoaXMuX25leHRVcGRhdGU9bnVsbCx0aGlzLnNlbmRVcGRhdGVzKCkudGhlbigoKCk9PnQucmVzb2x2ZSgpKSl9ZWxzZSBoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkF0dHJpYnV0ZVN0b3JlOjpzZW5kVXBkYXRlOjpObyBhZGRpdGlvbmFsIHVwZGF0ZXMgcXVldWVkXCIpfTtoYXMoXCJlc3JpLTJkLXVwZGF0ZS1kZWJ1Z1wiKSYmY29uc29sZS5kZWJ1ZyhcIkF0dHJpYnV0ZVN0b3JlOjpzZW5kVXBkYXRlOjpjbGllbnQudXBkYXRlXCIpO2NvbnN0IGk9dGhpcy51cGRhdGluZ0hhbmRsZXMuYWRkUHJvbWlzZSh0aGlzLl9jbGllbnQudXBkYXRlKGUsdGhpcy5fc2lnbmFsKS50aGVuKHQpLmNhdGNoKHQpKTtyZXR1cm4gdGhpcy5fY2xpZW50LnJlbmRlcih0aGlzLl9zaWduYWwpLGl9KSkuY2F0Y2goKGU9PntpZihvKGUpKXJldHVybiB0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlPW51bGwsdGhpcy5fY3JlYXRlUmVzb3VyY2VzKCk7RS5lcnJvcihuZXcgdChcIm1hcHZpZXctYXR0cmlidXRlLXN0b3JlXCIsXCJFbmNvdW50ZXJlZCBhbiBlcnJvciBkdXJpbmcgY2xpZW50IHVwZGF0ZVwiLGUpKX0pKSx0aGlzLl9jdXJyVXBkYXRlfV9lbnN1cmVTaXplRm9yVGV4ZWwodCl7Zm9yKDt0Pj10aGlzLl9zaXplKnRoaXMuX3NpemU7KWlmKHRoaXMuX2V4cGFuZCgpKXJldHVybn1fYmluZEF0dHJpYnV0ZSh0LGUpe2Z1bmN0aW9uIGkoKXtjb25zdHtub3JtYWxpemF0aW9uRmllbGQ6ZX09dDtyZXR1cm4gZT9pPT57Y29uc3Qgcz1pLnJlYWRBdHRyaWJ1dGUoZSk7aWYoIXMpcmV0dXJuIG51bGw7cmV0dXJuIGkucmVhZEF0dHJpYnV0ZSh0LmZpZWxkKS9zfTplPT5lLnJlYWRBdHRyaWJ1dGUodC5maWVsZCl9ZnVuY3Rpb24gcygpe3JldHVybiB0Lm5vcm1hbGl6YXRpb25GaWVsZCYmRS53YXJuKFwibWFwdmlldy1hcmNhZGVcIixcIklnbm9yaW5nIG5vcm1hbGl6YXRpb25GaWVsZCBzcGVjaWZpZWQgd2l0aCBhbiBhcmNhZGUgZXhwcmVzc2lvbiB3aGljaCBpcyBub3Qgc3VwcG9ydGVkLlwiKSxlPT5lLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodC5maWVsZEluZGV4KX1sZXQgcjtpZihudWxsIT10LmZpZWxkSW5kZXgpcj1zKCk7ZWxzZXtpZighdC5maWVsZClyZXR1cm47cj1pKCl9Y29uc3R7dmFsdWVSZXByZXNlbnRhdGlvbjphfT10O2lmKGEpe3I9RihyLCh0PT5BKHQsYSkpKX1jb25zdCBuPXQ9Pm51bGw9PT10fHxpc05hTih0KXx8dD09PTEvMHx8dD09PS0xLzA/Zzp0LG89dGhpcy5fYXR0cmlidXRlQ29tcHV0ZUluZm87aWYoby5pc1N1YnR5cGUpe2NvbnN0IGk9by5tYXAuZ2V0KGUpPz9uZXcgTWFwO2kuc2V0KHQuYmluZGluZyxGKHIsbikpLG8ubWFwLnNldChlLGkpfWVsc2Ugby5tYXAuc2V0KHQuYmluZGluZyxGKHIsbikpfV9jcmVhdGVSZXNvdXJjZXMoKXtpZihudWxsIT10aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlKXJldHVybiB0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlO3RoaXMuX2dldEJsb2NrKF8pLHRoaXMuX2dldEJsb2NrKGYpLGsoXCJJbml0aWFsaXppbmcgQXR0cmlidXRlU3RvcmVcIik7Y29uc3QgZT17c2hhcmVkOkQuc2hhcmVkQXJyYXlCdWZmZXImJiEoXCJsb2NhbFwiPT09dGhpcy5fY2xpZW50LnR5cGUpLHNpemU6dGhpcy5fc2l6ZSxibG9ja3M6cyh0aGlzLl9ibG9ja3MsKHQ9Pih7dGV4dHVyZU9ubHk6dC50ZXh0dXJlT25seSxidWZmZXI6dC5idWZmZXIscGl4ZWxUeXBlOnQucGl4ZWxUeXBlfSkpKX0saT10aGlzLl9jbGllbnQuaW5pdGlhbGl6ZShlLHRoaXMuX3NpZ25hbCkuY2F0Y2goKGU9PntvKGUpP3RoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U9bnVsbDpFLmVycm9yKG5ldyB0KFwibWFwdmlldy1hdHRyaWJ1dGUtc3RvcmVcIixcIkVuY291bnRlcmVkIGFuIGVycm9yIGR1cmluZyBjbGllbnQgaW5pdGlhbGl6YXRpb25cIixlKSl9KSk7cmV0dXJuIHRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U9aSxpLnRoZW4oKCgpPT5udWxsPT10aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlP3RoaXMuX2NyZWF0ZVJlc291cmNlcygpOnZvaWQgMCkpLGl9X2dldEJsb2NrKHQpe2NvbnN0IGU9dGhpcy5fYmxvY2tzW3RdO2lmKG51bGwhPWUpcmV0dXJuIGU7ayhgSW5pdGlhbGl6aW5nIEF0dHJpYnV0ZUJsb2NrIGF0IGluZGV4ICR7dH1gKTtjb25zdCBpPUQuc2hhcmVkQXJyYXlCdWZmZXIscz10aGlzLl9jbGllbnQudHlwZSxyPW5ldyBJKGkscyx0aGlzLl9zaXplLHRoaXMuX2Jsb2NrRGVzY3JpcHRvcnNbdF0pO3JldHVybiB0aGlzLl9ibG9ja3NbdF09cix0aGlzLl9jcmVhdGVSZXNvdXJjZXNQcm9taXNlPW51bGwscn1fZXhwYW5kKCl7aWYodGhpcy5fc2l6ZTx0aGlzLmNvbmZpZy5tYXhUZXh0dXJlU2l6ZSl7Y29uc3QgdD10aGlzLl9zaXplPDw9MTtyZXR1cm4gayhcIkV4cGFuZGluZyBibG9jayBzaXplIHRvXCIsdCx0aGlzLl9ibG9ja3MpLHIodGhpcy5fYmxvY2tzLChlPT5lLmV4cGFuZCh0KSkpLHRoaXMuX2NyZWF0ZVJlc291cmNlc1Byb21pc2U9bnVsbCx0aGlzLl9zaXplPXQsMH1yZXR1cm4gRS5lcnJvcihuZXcgdChcIm1hcHZpZXctbGltaXRhdGlvbnNcIixcIk1heGltdW0gbnVtYmVyIG9mIG9uc2NyZWVuIGZlYXR1cmVzIGV4Y2VlZGVkLlwiKSksLTF9YXN5bmMgX3VwZGF0ZUZpbHRlcih0LGUsaSxzKXtjb25zdCByPXRoaXMuX2ZpbHRlcnNbZV0sYT1udWxsIT1yJiZyLmhhc2g7aWYoIXImJiF0KXJldHVybiExO2lmKGE9PT1KU09OLnN0cmluZ2lmeSh0KSlyZXR1cm4hMTtpZihudWxsPT10KXtpZighcilyZXR1cm4hMTtjb25zdCB0PTE8PGUrMSxpPXRoaXMuX2dldEJsb2NrKDApO3JldHVybiB0aGlzLl9maWx0ZXJzW2VdPW51bGwsaS5zZXRDb21wb25lbnRBbGxUZXhlbHMoMCx0KSx0aGlzLnNlbmRVcGRhdGVzKCksITB9Y29uc3Qgbj1hd2FpdCB0aGlzLl9nZXRGaWx0ZXIoZSxpKTtyZXR1cm4gYXdhaXQgbi51cGRhdGUodCxzKSwhMH1hc3luYyBfZ2V0RmlsdGVyKHQsZSl7Y29uc3QgaT10aGlzLl9maWx0ZXJzW3RdO2lmKG51bGwhPWkpcmV0dXJuIGk7Y29uc3R7ZGVmYXVsdDpzfT1hd2FpdCBpbXBvcnQoXCIuL0ZlYXR1cmVGaWx0ZXIuanNcIikscj1uZXcgcyh7Z2VvbWV0cnlUeXBlOmUuZ2VvbWV0cnlUeXBlLGhhc006ITEsaGFzWjohMSx0aW1lSW5mbzplLnRpbWVJbmZvLGZpZWxkc0luZGV4Om5ldyB1KGUuZmllbGRzKX0pO3JldHVybiB0aGlzLl9maWx0ZXJzW3RdPXIscn1pc1Zpc2libGUodCl7cmV0dXJuISEoMiZ0aGlzLl9nZXRCbG9jaygwKS5nZXREYXRhKHQsMCkpfWdldEZpbHRlckZsYWdzKHQpe2xldCBlPTA7Y29uc3QgaT1TKHQuZ2V0RGlzcGxheUlkKCkpO2ZvcihsZXQgcj0wO3I8dGhpcy5fZmlsdGVycy5sZW5ndGg7cisrKXtjb25zdCBzPSEhKGkmMTw8ciksYT10aGlzLl9maWx0ZXJzW3JdO2V8PSghc3x8bnVsbD09YXx8YS5jaGVjayh0KT8xOjApPDxyfWxldCBzPTA7aWYodGhpcy5faWRzVG9IaWdobGlnaHQuc2l6ZSl7Y29uc3QgZT10LmdldE9iamVjdElkKCk7cz10aGlzLmdldEhpZ2hsaWdodEZsYWcoZSl9cmV0dXJuIGU8PDF8c319ZXhwb3J0e0IgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0RJU1BMQVlfSURfVEVYRUxfTUFTSyBhcyB0LGNyZWF0ZURpc3BsYXlJZCBhcyBlfWZyb21cIi4uLy4uLy4uL2VuZ2luZS93ZWJnbC9EaXNwbGF5SWQuanNcIjtpbXBvcnR7RGlzcGxheUlkR2VuZXJhdG9yIGFzIHN9ZnJvbVwiLi9EaXNwbGF5SWRHZW5lcmF0b3IuanNcIjtpbXBvcnR7U3RhdGljQml0U2V0IGFzIGl9ZnJvbVwiLi9TdGF0aWNCaXRTZXQuanNcIjtmdW5jdGlvbiBuKHQsZSxzKXtpZighKHQubGVuZ3RoPmUpKWZvcig7dC5sZW5ndGg8PWU7KXQucHVzaChzKX1jbGFzcyBye2NvbnN0cnVjdG9yKCl7dGhpcy5fbnVtZXJpY3M9W10sdGhpcy5fc3RyaW5ncz1bXSx0aGlzLl9pZEdlbmVyYXRvcj1uZXcgcyx0aGlzLl9hbGxvY2F0ZWRTaXplPTI1Nix0aGlzLl9iaXRzZXRzPVtdLHRoaXMuX2luc3RhbmNlSWRzPVtdLHRoaXMuX2JvdW5kcz1bXX1jcmVhdGVCaXRzZXQoKXtjb25zdCBlPXRoaXMuX2JpdHNldHMubGVuZ3RoO3JldHVybiB0aGlzLl9iaXRzZXRzLnB1c2goaS5jcmVhdGUodGhpcy5fYWxsb2NhdGVkU2l6ZSx0KSksZSsxfWdldEJpdHNldCh0KXtyZXR1cm4gdGhpcy5fYml0c2V0c1t0LTFdfV9leHBhbmQoKXt0aGlzLl9hbGxvY2F0ZWRTaXplPDw9MTtmb3IoY29uc3QgdCBvZiB0aGlzLl9iaXRzZXRzKXQucmVzaXplKHRoaXMuX2FsbG9jYXRlZFNpemUpfV9lbnN1cmVOdW1lcmljKHQsZSl7dGhpcy5fbnVtZXJpY3NbdF18fCh0aGlzLl9udW1lcmljc1t0XT1bXSk7bih0aGlzLl9udW1lcmljc1t0XSxlLDApfV9lbnN1cmVJbnN0YW5jZUlkKHQpe24odGhpcy5faW5zdGFuY2VJZHMsdCwwKX1fZW5zdXJlU3RyaW5nKHQsZSl7dGhpcy5fc3RyaW5nc1t0XXx8KHRoaXMuX3N0cmluZ3NbdF09W10pO24odGhpcy5fc3RyaW5nc1t0XSxlLG51bGwpfWNyZWF0ZURpc3BsYXlJZCh0PSExKXtjb25zdCBzPXRoaXMuX2lkR2VuZXJhdG9yLmNyZWF0ZUlkKCk7cmV0dXJuIHM+dGhpcy5fYWxsb2NhdGVkU2l6ZSYmdGhpcy5fZXhwYW5kKCksZShzLHQpfXJlbGVhc2VEaXNwbGF5SWQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYml0c2V0cyl0LnVuc2V0KGUpO3JldHVybiB0aGlzLl9pZEdlbmVyYXRvci5yZWxlYXNlSWQoZSZ0KX1nZXRDb21wdXRlZE51bWVyaWMoZSxzKXtyZXR1cm4gdGhpcy5nZXRDb21wdXRlZE51bWVyaWNBdEluZGV4KGUmdCwwKX1zZXRDb21wdXRlZE51bWVyaWMoZSxzLGkpe3JldHVybiB0aGlzLnNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSZ0LGksMCl9Z2V0Q29tcHV0ZWRTdHJpbmcoZSxzKXtyZXR1cm4gdGhpcy5nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSZ0LDApfXNldENvbXB1dGVkU3RyaW5nKGUscyxpKXtyZXR1cm4gdGhpcy5zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSZ0LDAsaSl9Z2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlLHMpe2NvbnN0IGk9ZSZ0O3JldHVybiB0aGlzLl9lbnN1cmVOdW1lcmljKHMsaSksdGhpcy5fbnVtZXJpY3Nbc11baV19c2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleChlLHMsaSl7Y29uc3Qgbj1lJnQ7dGhpcy5fZW5zdXJlTnVtZXJpYyhzLG4pLHRoaXMuX251bWVyaWNzW3NdW25dPWl9Z2V0SW5zdGFuY2VJZChlKXtjb25zdCBzPWUmdDtyZXR1cm4gdGhpcy5fZW5zdXJlSW5zdGFuY2VJZChzKSx0aGlzLl9pbnN0YW5jZUlkc1tzXX1zZXRJbnN0YW5jZUlkKGUscyl7Y29uc3QgaT1lJnQ7dGhpcy5fZW5zdXJlSW5zdGFuY2VJZChpKSx0aGlzLl9pbnN0YW5jZUlkc1tpXT1zfWdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlLHMpe2NvbnN0IGk9ZSZ0O3JldHVybiB0aGlzLl9lbnN1cmVTdHJpbmcocyxpKSx0aGlzLl9zdHJpbmdzW3NdW2ldfXNldENvbXB1dGVkU3RyaW5nQXRJbmRleChlLHMsaSl7Y29uc3Qgbj1lJnQ7dGhpcy5fZW5zdXJlU3RyaW5nKHMsbiksdGhpcy5fc3RyaW5nc1tzXVtuXT1pfWdldFhNaW4oZSl7cmV0dXJuIHRoaXMuX2JvdW5kc1s0KihlJnQpXX1nZXRZTWluKGUpe3JldHVybiB0aGlzLl9ib3VuZHNbNCooZSZ0KSsxXX1nZXRYTWF4KGUpe3JldHVybiB0aGlzLl9ib3VuZHNbNCooZSZ0KSsyXX1nZXRZTWF4KGUpe3JldHVybiB0aGlzLl9ib3VuZHNbNCooZSZ0KSszXX1zZXRCb3VuZHMoZSxzKXtjb25zdCBpPXMucmVhZEh5ZHJhdGVkR2VvbWV0cnkoKTtpZighaXx8IWkuY29vcmRzLmxlbmd0aClyZXR1cm4hMTtsZXQgcj0xLzAsdT0xLzAsbz0tMS8wLGg9LTEvMDtpLmZvckVhY2hWZXJ0ZXgoKCh0LGUpPT57cj1NYXRoLm1pbihyLHQpLHU9TWF0aC5taW4odSxlKSxvPU1hdGgubWF4KG8sdCksaD1NYXRoLm1heChoLGUpfSkpO2NvbnN0IGQ9ZSZ0O3JldHVybiBuKHRoaXMuX2JvdW5kcyw0KmQrNCwwKSx0aGlzLl9ib3VuZHNbNCpkXT1yLHRoaXMuX2JvdW5kc1s0KmQrMV09dSx0aGlzLl9ib3VuZHNbNCpkKzJdPW8sdGhpcy5fYm91bmRzWzQqZCszXT1oLCEwfX1leHBvcnR7ciBhcyBDb21wdXRlZEF0dHJpYnV0ZVN0b3JhZ2V9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGVEaXNwbGF5SWQgYXMgZX1mcm9tXCIuLi8uLi8uLi9lbmdpbmUvd2ViZ2wvRGlzcGxheUlkLmpzXCI7Y2xhc3Mgcntjb25zdHJ1Y3Rvcigpe3RoaXMuX2ZyZWVJZHM9W10sdGhpcy5faWRDb3VudGVyPTF9Y3JlYXRlSWQocj0hMSl7cmV0dXJuIGUodGhpcy5fZ2V0RnJlZUlkKCkscil9cmVsZWFzZUlkKGUpe3RoaXMuX2ZyZWVJZHMucHVzaChlKX1fZ2V0RnJlZUlkKCl7cmV0dXJuIHRoaXMuX2ZyZWVJZHMubGVuZ3RoP3RoaXMuX2ZyZWVJZHMucG9wKCk6dGhpcy5faWRDb3VudGVyKyt9fWV4cG9ydHtyIGFzIERpc3BsYXlJZEdlbmVyYXRvcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0XCIuLi8uLi8uLi8uLi8uLi9nZW9tZXRyeS5qc1wiO2ltcG9ydHtBcmNhZGVEYXRlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vYXJjYWRlL0FyY2FkZURhdGUuanNcIjtpbXBvcnR7RGF0ZVRpbWVSZWZlcmVuY2VGaWVsZEluZGV4IGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vYXJjYWRlL2FyY2FkZVRpbWVVdGlscy5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7dW53cmFwT3JUaHJvdyBhcyByfWZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7Z2V0Q2VudHJvaWRPcHRpbWl6ZWRHZW9tZXRyeSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9jZW50cm9pZC5qc1wiO2ltcG9ydHtjb252ZXJ0VG9HZW9tZXRyeSBhcyBpfWZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9ncmFwaGljcy9mZWF0dXJlQ29udmVyc2lvblV0aWxzLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL09wdGltaXplZEdlb21ldHJ5LmpzXCI7aW1wb3J0e1N0YXRpY0JpdFNldCBhcyBhfWZyb21cIi4vU3RhdGljQml0U2V0LmpzXCI7aW1wb3J0e2Zyb21KU09OIGFzIG99ZnJvbVwiLi4vLi4vLi4vLi4vLi4vZ2VvbWV0cnkvc3VwcG9ydC9qc29uVXRpbHMuanNcIjtsZXQgZD0wO2NvbnN0IGg9aGFzKFwiZmVhdHVyZWxheWVyLXNpbXBsaWZ5LXRocmVzaG9sZHNcIik/P1suNSwuNSwuNSwuNV0sdT1oWzBdLGw9aFsxXSxjPWhbMl0sbT1oWzNdLGY9aGFzKFwiZmVhdHVyZWxheWVyLXNpbXBsaWZ5LXBheWxvYWQtc2l6ZS1mYWN0b3JzXCIpPz9bMSwyLDRdLGc9ZlswXSx5PWZbMV0sXz1mWzJdLHA9aGFzKFwiZmVhdHVyZWxheWVyLXNpbXBsaWZ5LW1vYmlsZS1mYWN0b3JcIik/PzIseD1oYXMoXCJlc3JpLW1vYmlsZVwiKTtjbGFzcyBJe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPVwiRmVhdHVyZVNldFJlYWRlclwiLHRoaXMuYXJjYWRlRGVjbGFyZWRDbGFzcz1cImVzcmkuYXJjYWRlLkZlYXR1cmVcIix0aGlzLnNlZW49ITEsdGhpcy5pbnN0YW5jZT0wLHRoaXMuX3R4PTAsdGhpcy5fdHk9MCx0aGlzLl9zeD0xLHRoaXMuX3N5PTEsdGhpcy5fZGVsZXRlZD1udWxsLHRoaXMuX2pvaW5lZD1bXSx0aGlzLl9vYmplY3RJZFRvSW5kZXg9bnVsbCx0aGlzLl9sZXZlbD0wLHRoaXMuX2RhdGV0aW1lTWV0YWRhdGE9bnVsbCx0aGlzLmNvbnRleHRUaW1lUmVmZXJlbmNlPW51bGwsdGhpcy5pbnN0YW5jZT1lLHRoaXMuX2xheWVyU2NoZW1hPXR9c3RhdGljIGNyZWF0ZUluc3RhbmNlKCl7cmV0dXJuIGQrKyxkPWQ+NjU1MzU/MDpkLGR9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gbnVsbCE9dGhpcy5fZGVsZXRlZCYmdGhpcy5fZGVsZXRlZC5jb3VudFNldCgpPT09dGhpcy5nZXRTaXplKCl9c2V0IGxldmVsKGUpe3RoaXMuX2xldmVsPWV9Z2V0QXJlYVNpbXBsaWZpY2F0aW9uVGhyZXNob2xkKGUsdCl7bGV0IHI9MTtjb25zdCBzPXg/cDoxO3Q+NGU2P3I9XypzOnQ+MWU2P3I9eSpzOnQ+NWU1P3I9ZypzOnQ+MWU1JiYocj1zKTtsZXQgaT0wO2U+NGUzP2k9bSpyOmU+MmUzP2k9YypyOmU+MTAwP2k9bDplPjE1JiYoaT11KTtsZXQgbj04O3JldHVybiB0aGlzLl9sZXZlbDw0P249MTp0aGlzLl9sZXZlbDw1P249Mjp0aGlzLl9sZXZlbDw2JiYobj00KSxpKm59Y3JlYXRlUXVhbnRpemVkRXh0cnVkZWRRdWFkKGUsdCl7cmV0dXJuIG5ldyBuKFs1XSxbZS0xLHQsMSwtMSwxLDEsLTEsMSwtMSwtMV0pfXBhcnNlVGltZXN0YW1wT2Zmc2V0KGUpe3JldHVybiBlfXNldEFyY2FkZVNwYXRpYWxSZWZlcmVuY2UoZSl7dGhpcy5fYXJjYWRlU3BhdGlhbFJlZmVyZW5jZT1lfWF0dGFjaFN0b3JhZ2UoZSl7dGhpcy5fc3RvcmFnZT1lfWdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpe3Rocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIHRyYW5zZm9ybSBmb3IgZmVhdHVyZVNldFwiKX1nZXRTdG9yYWdlKCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2V9Z2V0Q29tcHV0ZWROdW1lcmljKGUpe3JldHVybiB0aGlzLmdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoMCl9c2V0Q29tcHV0ZWROdW1lcmljKGUsdCl7cmV0dXJuIHRoaXMuc2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0LDApfWdldENvbXB1dGVkU3RyaW5nKGUpe3JldHVybiB0aGlzLmdldENvbXB1dGVkU3RyaW5nQXRJbmRleCgwKX1zZXRDb21wdXRlZFN0cmluZyhlLHQpe3JldHVybiB0aGlzLnNldENvbXB1dGVkU3RyaW5nQXRJbmRleCgwLHQpfWdldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSl7cmV0dXJuIHRoaXMuX3N0b3JhZ2UuZ2V0Q29tcHV0ZWROdW1lcmljQXRJbmRleCh0aGlzLmdldERpc3BsYXlJZCgpLGUpfXNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgoZSx0KXt0aGlzLl9zdG9yYWdlLnNldENvbXB1dGVkTnVtZXJpY0F0SW5kZXgodGhpcy5nZXREaXNwbGF5SWQoKSxlLHQpfWdldENvbXB1dGVkU3RyaW5nQXRJbmRleChlKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5nZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodGhpcy5nZXREaXNwbGF5SWQoKSxlKX1zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgoZSx0KXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5zZXRDb21wdXRlZFN0cmluZ0F0SW5kZXgodGhpcy5nZXREaXNwbGF5SWQoKSxlLHQpfXRyYW5zZm9ybShlLHQscixzKXtjb25zdCBpPXRoaXMuY29weSgpO3JldHVybiBpLl90eCs9ZSxpLl90eSs9dCxpLl9zeCo9cixpLl9zeSo9cyxpfXJlYWRBdHRyaWJ1dGUoZSx0PSExKXtjb25zdCByPXRoaXMuX3JlYWRBdHRyaWJ1dGUoZSx0KTtpZih2b2lkIDAhPT1yKXJldHVybiByO2Zvcihjb25zdCBzIG9mIHRoaXMuX2pvaW5lZCl7cy5zZXRJbmRleCh0aGlzLmdldEluZGV4KCkpO2NvbnN0IHI9cy5fcmVhZEF0dHJpYnV0ZShlLHQpO2lmKHZvaWQgMCE9PXIpcmV0dXJuIHJ9fXJlYWRBdHRyaWJ1dGVzKCl7Y29uc3QgZT10aGlzLl9yZWFkQXR0cmlidXRlcygpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2pvaW5lZCl7dC5zZXRJbmRleCh0aGlzLmdldEluZGV4KCkpO2NvbnN0IHI9dC5fcmVhZEF0dHJpYnV0ZXMoKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhyKSllW3RdPXJbdF19cmV0dXJuIGV9am9pbkF0dHJpYnV0ZXMoZSl7dGhpcy5fam9pbmVkLnB1c2goZSl9cmVhZEFyY2FkZUZlYXR1cmUoKXtyZXR1cm4gdGhpc31oYXNGaWVsZChlKXtyZXR1cm4gdGhpcy5maWVsZHMuaGFzKGUpfWdlb21ldHJ5KCl7Y29uc3QgZT10aGlzLnJlYWRIeWRyYXRlZEdlb21ldHJ5KCksdD1pKGUsdGhpcy5nZW9tZXRyeVR5cGUsdGhpcy5oYXNaLHRoaXMuaGFzTSkscj1vKHQpO3JldHVybiByJiYoci5zcGF0aWFsUmVmZXJlbmNlPXRoaXMuX2FyY2FkZVNwYXRpYWxSZWZlcmVuY2UpLHJ9Z2V0IGRhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleCgpe3JldHVybiB0aGlzLl9kYXRldGltZU1ldGFkYXRhfHwodGhpcy5fZGF0ZXRpbWVNZXRhZGF0YT10LmNyZWF0ZSh0aGlzLl9sYXllclNjaGVtYS5maWVsZHMsdGhpcy5fbGF5ZXJTY2hlbWEpKSx0aGlzLl9kYXRldGltZU1ldGFkYXRhfWF1dG9jYXN0QXJjYWRlRGF0ZSh0LHIpe3JldHVybiByJiZyIGluc3RhbmNlb2YgRGF0ZT90aGlzLmlzVW5rbm93bkRhdGVUaW1lRmllbGQodCk/ZS51bmtub3duRGF0ZUpTVG9BcmNhZGVEYXRlKHIpOmUuZGF0ZUpTQW5kWm9uZVRvQXJjYWRlRGF0ZShyLHRoaXMuY29udGV4dFRpbWVSZWZlcmVuY2U/LnRpbWVab25lPz9cInN5c3RlbVwiKTpyfWlzVW5rbm93bkRhdGVUaW1lRmllbGQoZSl7cmV0dXJuXCJ1bmtub3duXCI9PT10aGlzLmRhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleD8uZmllbGRUaW1lWm9uZShlKX1maWVsZFNvdXJjZVRpbWVab25lKGUpe3JldHVybiB0aGlzLmRhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleD8uZmllbGRUaW1lWm9uZShlKT8/XCJcIn1nZXQgbGF5ZXJQcmVmZXJyZWRUaW1lWm9uZSgpe3JldHVybiB0aGlzLmRhdGVUaW1lUmVmZXJlbmNlRmllbGRJbmRleD8ubGF5ZXJQcmVmZXJyZWRUaW1lWm9uZT8/XCJcIn1maWVsZChlKXtpZih0aGlzLmhhc0ZpZWxkKGUpKXJldHVybiB0aGlzLmF1dG9jYXN0QXJjYWRlRGF0ZShlLHRoaXMucmVhZEF0dHJpYnV0ZShlLCEwKSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fam9pbmVkKWlmKHQuc2V0SW5kZXgodGhpcy5nZXRJbmRleCgpKSx0Lmhhc0ZpZWxkKGUpKXtjb25zdCByPXQuX3JlYWRBdHRyaWJ1dGUoZSwhMCk7cmV0dXJuIHRoaXMuYXV0b2Nhc3RBcmNhZGVEYXRlKGUscil9dGhyb3cgbmV3IEVycm9yKGBGaWVsZCAke2V9IGRvZXMgbm90IGV4aXN0YCl9c2V0RmllbGQoZSx0KXt0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gdXBkYXRlIGZlYXR1cmUgYXR0cmlidXRlIHZhbHVlcywgZmVhdHVyZSBpcyByZWFkb25seVwiKX1rZXlzKCl7cmV0dXJuIHRoaXMuZmllbGRzLmZpZWxkcy5tYXAoKGU9PmUubmFtZSkpfWNhc3RUb1RleHQoZT0hMSl7aWYoIWUpcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMucmVhZExlZ2FjeUZlYXR1cmUoKSk7Y29uc3QgdD10aGlzLnJlYWRMZWdhY3lGZWF0dXJlKCk7aWYoIXQpcmV0dXJuIEpTT04uc3RyaW5naWZ5KG51bGwpO2NvbnN0IHI9e2dlb21ldHJ5OnQuZ2VvbWV0cnksYXR0cmlidXRlczp7Li4udC5hdHRyaWJ1dGVzPz97fX19O2Zvcihjb25zdCBzIGluIHIuYXR0cmlidXRlcyl7Y29uc3QgZT1yLmF0dHJpYnV0ZXNbc107ZSBpbnN0YW5jZW9mIERhdGUmJihyLmF0dHJpYnV0ZXNbc109ZS5nZXRUaW1lKCkpfXJldHVybiBKU09OLnN0cmluZ2lmeShyKX1nZGJWZXJzaW9uKCl7cmV0dXJuIG51bGx9ZnVsbFNjaGVtYSgpe3JldHVybiB0aGlzLl9sYXllclNjaGVtYX1jYXN0QXNKc29uKGU9bnVsbCl7cmV0dXJue2F0dHJpYnV0ZXM6dGhpcy5fcmVhZEF0dHJpYnV0ZXMoKSxnZW9tZXRyeTohMD09PWU/LmtlZXBHZW9tZXRyeVR5cGU/dGhpcy5nZW9tZXRyeSgpOnRoaXMuZ2VvbWV0cnkoKT8udG9KU09OKCk/P251bGx9fWNhc3RBc0pzb25Bc3luYyhlPW51bGwsdD1udWxsKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY2FzdEFzSnNvbih0KSl9cmVtb3ZlSWRzKGUpe2lmKG51bGw9PXRoaXMuX29iamVjdElkVG9JbmRleCl7Y29uc3QgZT1uZXcgTWFwLHQ9dGhpcy5nZXRDdXJzb3IoKTtmb3IoO3QubmV4dCgpOyl7Y29uc3Qgcz1yKHQuZ2V0T2JqZWN0SWQoKSk7ZS5zZXQocyx0LmdldEluZGV4KCkpfXRoaXMuX29iamVjdElkVG9JbmRleD1lfWNvbnN0IHQ9dGhpcy5fb2JqZWN0SWRUb0luZGV4O2Zvcihjb25zdCByIG9mIGUpdC5oYXMocikmJnRoaXMucmVtb3ZlQXRJbmRleCh0LmdldChyKSl9cmVtb3ZlQXRJbmRleChlKXtudWxsPT10aGlzLl9kZWxldGVkJiYodGhpcy5fZGVsZXRlZD1hLmNyZWF0ZSh0aGlzLmdldFNpemUoKSkpLHRoaXMuX2RlbGV0ZWQuc2V0KGUpfXJlYWRHZW9tZXRyeUZvckRpc3BsYXkoKXtyZXR1cm4gdGhpcy5yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSghMCl9cmVhZExlZ2FjeUdlb21ldHJ5Rm9yRGlzcGxheSgpe3JldHVybiB0aGlzLnJlYWRMZWdhY3lHZW9tZXRyeSghMCl9KmZlYXR1cmVzKCl7Y29uc3QgZT10aGlzLmdldEN1cnNvcigpO2Zvcig7ZS5uZXh0KCk7KXlpZWxkIGUucmVhZE9wdGltaXplZEZlYXR1cmUoKX1fZ2V0RXhpc3RzKCl7cmV0dXJuIG51bGw9PXRoaXMuX2RlbGV0ZWR8fCF0aGlzLl9kZWxldGVkLmhhcyh0aGlzLmdldEluZGV4KCkpfV9jb21wdXRlQ2VudHJvaWQoKXtpZihcImVzcmlHZW9tZXRyeVBvbHlnb25cIiE9PXRoaXMuZ2VvbWV0cnlUeXBlKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSgpO2lmKCFlfHxlLmhhc0luZGV0ZXJtaW5hdGVSaW5nT3JkZXIpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpPz9udWxsO3JldHVybiBzKG5ldyBuLGUsdGhpcy5oYXNNLHRoaXMuaGFzWix0KX1jb3B5SW50byhlKXtlLnNlZW49dGhpcy5zZWVuLGUuX3N0b3JhZ2U9dGhpcy5fc3RvcmFnZSxlLl9hcmNhZGVTcGF0aWFsUmVmZXJlbmNlPXRoaXMuX2FyY2FkZVNwYXRpYWxSZWZlcmVuY2UsZS5fam9pbmVkPXRoaXMuX2pvaW5lZCxlLl90eD10aGlzLl90eCxlLl90eT10aGlzLl90eSxlLl9zeD10aGlzLl9zeCxlLl9zeT10aGlzLl9zeSxlLl9kZWxldGVkPXRoaXMuX2RlbGV0ZWQsZS5fb2JqZWN0SWRUb0luZGV4PXRoaXMuX29iamVjdElkVG9JbmRleH19ZXhwb3J0e0kgYXMgRmVhdHVyZVNldFJlYWRlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NvbnZlcnRGcm9tRmVhdHVyZXMgYXMgdCxjb252ZXJ0RnJvbUZlYXR1cmVTZXQgYXMgZSxjb252ZXJ0VG9GZWF0dXJlIGFzIHIsY29udmVydFRvR2VvbWV0cnkgYXMgcyxnZXRRdWFudGl6ZWRBcmVhIGFzIGksdW5xdWFudGl6ZU9wdGltaXplZEdlb21ldHJ5IGFzIG59ZnJvbVwiLi4vLi4vLi4vLi4vLi4vbGF5ZXJzL2dyYXBoaWNzL2ZlYXR1cmVDb252ZXJzaW9uVXRpbHMuanNcIjtpbXBvcnR7aGFzR2VvbWV0cnkgYXMgb31mcm9tXCIuLi8uLi8uLi8uLi8uLi9sYXllcnMvZ3JhcGhpY3MvT3B0aW1pemVkRmVhdHVyZS5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uLy4uLy4uLy4uL2xheWVycy9zdXBwb3J0L0ZpZWxkc0luZGV4LmpzXCI7aW1wb3J0e0ZlYXR1cmVTZXRSZWFkZXIgYXMgYX1mcm9tXCIuL0ZlYXR1cmVTZXRSZWFkZXIuanNcIjtmdW5jdGlvbiBkKHtjb29yZHM6dCxsZW5ndGhzOmV9KXtsZXQgcj0wO2Zvcihjb25zdCBzIG9mIGUpe2ZvcihsZXQgZT0xO2U8cztlKyspdFsyKihyK2UpXSs9dFsyKihyK2UpLTJdLHRbMioocitlKSsxXSs9dFsyKihyK2UpLTFdO3IrPXN9fWNsYXNzIGggZXh0ZW5kcyBhe3N0YXRpYyBmcm9tRmVhdHVyZXMoZSxyKXtjb25zdHtvYmplY3RJZEZpZWxkOnMsZ2VvbWV0cnlUeXBlOml9PXIsbj10KFtdLGUsaSwhMSwhMSxzKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdLmRpc3BsYXlJZD1lW3RdLmRpc3BsYXlJZDtyZXR1cm4gaC5mcm9tT3B0aW1pemVkRmVhdHVyZXMobixyKX1zdGF0aWMgZnJvbUZlYXR1cmVTZXQodCxyKXtjb25zdCBzPWUodCxyLm9iamVjdElkRmllbGQpO3JldHVybiBoLmZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KHMscil9c3RhdGljIGZyb21PcHRpbWl6ZWRGZWF0dXJlU2V0KHQsZSl7Y29uc3R7ZmVhdHVyZXM6cn09dCxzPWguZnJvbU9wdGltaXplZEZlYXR1cmVzKHIsZSk7cmV0dXJuIHMuX2V4Y2VlZGVkVHJhbnNmZXJMaW1pdD10LmV4Y2VlZGVkVHJhbnNmZXJMaW1pdCxzLl90cmFuc2Zvcm09dC50cmFuc2Zvcm0scy5fZmllbGRzSW5kZXg9bmV3IHUoZS5maWVsZHMpLHN9c3RhdGljIGZyb21PcHRpbWl6ZWRGZWF0dXJlcyh0LGUscil7Y29uc3Qgcz1hLmNyZWF0ZUluc3RhbmNlKCksaT1uZXcgaChzLHQsZSk7cmV0dXJuIGkuX2ZpZWxkc0luZGV4PW5ldyB1KGUuZmllbGRzKSxpLl90cmFuc2Zvcm09cixpfWNvbnN0cnVjdG9yKHQsZSxyKXtzdXBlcih0LHIpLHRoaXMuX2V4Y2VlZGVkVHJhbnNmZXJMaW1pdD0hMSx0aGlzLl9mZWF0dXJlSW5kZXg9LTEsdGhpcy5fZmllbGRzSW5kZXg9bnVsbCx0aGlzLl9nZW9tZXRyeVR5cGU9cj8uZ2VvbWV0cnlUeXBlLHRoaXMuX2ZlYXR1cmVzPWV9Z2V0IGZpZWxkcygpe3JldHVybiB0aGlzLl9maWVsZHNJbmRleH1nZXQgX2N1cnJlbnQoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZXNbdGhpcy5fZmVhdHVyZUluZGV4XX1nZXQgZ2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5VHlwZX1nZXQgaGFzRmVhdHVyZXMoKXtyZXR1cm4hIXRoaXMuX2ZlYXR1cmVzLmxlbmd0aH1nZXQgaGFzTmV4dCgpe3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXgrMTx0aGlzLl9mZWF0dXJlcy5sZW5ndGh9Z2V0IGV4Y2VlZGVkVHJhbnNmZXJMaW1pdCgpe3JldHVybiB0aGlzLl9leGNlZWRlZFRyYW5zZmVyTGltaXR9Z2V0IGhhc1ooKXtyZXR1cm4hMX1nZXQgaGFzTSgpe3JldHVybiExfXJlbW92ZUlkcyh0KXtjb25zdCBlPW5ldyBTZXQodCk7dGhpcy5fZmVhdHVyZXM9dGhpcy5fZmVhdHVyZXMuZmlsdGVyKCh0PT4hKG51bGwhPXQub2JqZWN0SWQmJmUuaGFzKHQub2JqZWN0SWQpKSkpfWFwcGVuZCh0KXtmb3IoY29uc3QgZSBvZiB0KXRoaXMuX2ZlYXR1cmVzLnB1c2goZSl9Z2V0U2l6ZSgpe3JldHVybiB0aGlzLl9mZWF0dXJlcy5sZW5ndGh9Z2V0Q3Vyc29yKCl7cmV0dXJuIHRoaXMuY29weSgpfWdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpe3JldHVybiB0aGlzLl90cmFuc2Zvcm19Z2V0QXR0cmlidXRlSGFzaCgpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzKXQrPXRoaXMuX2N1cnJlbnQuYXR0cmlidXRlc1tlXTtyZXR1cm4gdH1nZXRJbmRleCgpe3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXh9c2V0SW5kZXgodCl7dGhpcy5fZmVhdHVyZUluZGV4PXR9Z2V0T2JqZWN0SWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudD8ub2JqZWN0SWR9Z2V0RGlzcGxheUlkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnQuZGlzcGxheUlkfXNldERpc3BsYXlJZCh0KXt0aGlzLl9jdXJyZW50LmRpc3BsYXlJZD10fWdldEdyb3VwSWQoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5ncm91cElkfXNldEdyb3VwSWQodCl7dGhpcy5fY3VycmVudC5ncm91cElkPXR9Y29weSgpe2NvbnN0IHQ9bmV3IGgodGhpcy5pbnN0YW5jZSx0aGlzLl9mZWF0dXJlcyx0aGlzLmZ1bGxTY2hlbWEoKSk7cmV0dXJuIHRoaXMuY29weUludG8odCksdH1uZXh0KCl7Zm9yKDsrK3RoaXMuX2ZlYXR1cmVJbmRleDx0aGlzLl9mZWF0dXJlcy5sZW5ndGgmJiF0aGlzLl9nZXRFeGlzdHMoKTspO3JldHVybiB0aGlzLl9mZWF0dXJlSW5kZXg8dGhpcy5fZmVhdHVyZXMubGVuZ3RofXJlYWRMZWdhY3lGZWF0dXJlKCl7cmV0dXJuIHIodGhpcy5fY3VycmVudCx0aGlzLmdlb21ldHJ5VHlwZSx0aGlzLmhhc1osdGhpcy5oYXNNKX1yZWFkT3B0aW1pemVkRmVhdHVyZSgpe3JldHVybiB0aGlzLl9jdXJyZW50fXJlYWRMZWdhY3lQb2ludEdlb21ldHJ5KCl7cmV0dXJuIHRoaXMucmVhZEdlb21ldHJ5KCk/e3g6dGhpcy5nZXRYKCkseTp0aGlzLmdldFkoKX06bnVsbH1yZWFkTGVnYWN5R2VvbWV0cnkoKXtjb25zdCB0PXRoaXMucmVhZFVucXVhbnRpemVkR2VvbWV0cnkoKTtyZXR1cm4gcyh0LHRoaXMuZ2VvbWV0cnlUeXBlLHRoaXMuaGFzWix0aGlzLmhhc00pfXJlYWRMZWdhY3lDZW50cm9pZCgpe2NvbnN0IHQ9dGhpcy5yZWFkQ2VudHJvaWQoKTtyZXR1cm4gbnVsbD09dD9udWxsOnt4OnQuY29vcmRzWzBdKnRoaXMuX3N4K3RoaXMuX3R4LHk6dC5jb29yZHNbMV0qdGhpcy5fc3krdGhpcy5fdHl9fXJlYWRHZW9tZXRyeUFyZWEoKXtyZXR1cm4gbyh0aGlzLl9jdXJyZW50KT9pKHRoaXMuX2N1cnJlbnQuZ2VvbWV0cnksMik6MH1yZWFkVW5xdWFudGl6ZWRHZW9tZXRyeSgpe2NvbnN0IHQ9dGhpcy5yZWFkR2VvbWV0cnkoKTtpZihcImVzcmlHZW9tZXRyeVBvaW50XCI9PT10aGlzLmdlb21ldHJ5VHlwZXx8IXQpcmV0dXJuIHQ7Y29uc3QgZT10LmNsb25lKCk7cmV0dXJuIGQoZSksZX1yZWFkSHlkcmF0ZWRHZW9tZXRyeSgpe2NvbnN0IHQ9dGhpcy5fY3VycmVudC5nZW9tZXRyeTtpZihudWxsPT10KXJldHVybiBudWxsO2NvbnN0IGU9dC5jbG9uZSgpO3JldHVybiBudWxsIT10aGlzLl90cmFuc2Zvcm0mJm4oZSxlLHRoaXMuaGFzWix0aGlzLmhhc00sdGhpcy5fdHJhbnNmb3JtKSxlfWdldFhIeWRyYXRlZCgpe2lmKCFvKHRoaXMuX2N1cnJlbnQpKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5fY3VycmVudC5nZW9tZXRyeS5jb29yZHNbMF0sZT10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpO3JldHVybiBudWxsPT1lP3Q6dCplLnNjYWxlWzBdK2UudHJhbnNsYXRlWzBdfWdldFlIeWRyYXRlZCgpe2lmKCFvKHRoaXMuX2N1cnJlbnQpKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5fY3VycmVudC5nZW9tZXRyeS5jb29yZHNbMV0sZT10aGlzLmdldFF1YW50aXphdGlvblRyYW5zZm9ybSgpO3JldHVybiBudWxsPT1lP3Q6ZS50cmFuc2xhdGVbMV0tdCplLnNjYWxlWzFdfWdldFgoKXtyZXR1cm4gbyh0aGlzLl9jdXJyZW50KT90aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNvb3Jkc1swXSp0aGlzLl9zeCt0aGlzLl90eDowfWdldFkoKXtyZXR1cm4gbyh0aGlzLl9jdXJyZW50KT90aGlzLl9jdXJyZW50Lmdlb21ldHJ5LmNvb3Jkc1sxXSp0aGlzLl9zeSt0aGlzLl90eTowfXJlYWRHZW9tZXRyeSgpe2lmKCFvKHRoaXMuX2N1cnJlbnQpKXtpZihudWxsIT10aGlzLl9jdXJyZW50LmNlbnRyb2lkKXtjb25zdFt0LGVdPXRoaXMuX2N1cnJlbnQuY2VudHJvaWQuY29vcmRzO3JldHVybiB0aGlzLmNyZWF0ZVF1YW50aXplZEV4dHJ1ZGVkUXVhZCh0LGUpfXJldHVybiBudWxsfWNvbnN0IHQ9dGhpcy5fY3VycmVudC5nZW9tZXRyeS5jbG9uZSgpO2lmKHQuaXNQb2ludClyZXR1cm4gdC5jb29yZHNbMF09dC5jb29yZHNbMF0qdGhpcy5fc3grdGhpcy5fdHgsdC5jb29yZHNbMV09dC5jb29yZHNbMV0qdGhpcy5fc3krdGhpcy5fdHksdDtsZXQgZT0wO2Zvcihjb25zdCByIG9mIHQubGVuZ3Rocyl0LmNvb3Jkc1syKmVdPXQuY29vcmRzWzIqZV0qdGhpcy5fc3grdGhpcy5fdHgsdC5jb29yZHNbMiplKzFdPXQuY29vcmRzWzIqZSsxXSp0aGlzLl9zeSt0aGlzLl90eSxlKz1yO3JldHVybiB0fXJlYWRDZW50cm9pZCgpe3JldHVybiBvKHRoaXMuX2N1cnJlbnQpP3RoaXMuX2NvbXB1dGVDZW50cm9pZCgpOnRoaXMuX2N1cnJlbnQuY2VudHJvaWR9X3JlYWRBdHRyaWJ1dGUodCxlKXtjb25zdCByPXRoaXMuX2ZpZWxkc0luZGV4LmdldCh0KTtpZighcilyZXR1cm47bGV0IHM9dGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzW3IubmFtZV07cmV0dXJuIG51bGw9PXM/czooXCJlc3JpRmllbGRUeXBlVGltZXN0YW1wT2Zmc2V0XCI9PT10aGlzLmZpZWxkcy5nZXQodCk/LnR5cGUmJihzPXRoaXMucGFyc2VUaW1lc3RhbXBPZmZzZXQocykpLGUmJnRoaXMuZmllbGRzLmlzRGF0ZUZpZWxkKHQpP25ldyBEYXRlKHMpOnMpfWNvcHlJbnRvKHQpe3N1cGVyLmNvcHlJbnRvKHQpLHQuX2ZlYXR1cmVJbmRleD10aGlzLl9mZWF0dXJlSW5kZXgsdC5fdHJhbnNmb3JtPXRoaXMuX3RyYW5zZm9ybSx0Ll9maWVsZHNJbmRleD10aGlzLl9maWVsZHNJbmRleH1fcmVhZEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fY3VycmVudC5hdHRyaWJ1dGVzfX1leHBvcnR7aCBhcyBGZWF0dXJlU2V0UmVhZGVySlNPTn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtzdGF0aWMgZnJvbUJ1ZmZlcihlLHMpe3JldHVybiBuZXcgdChlLHMpfXN0YXRpYyBjcmVhdGUoZSxzPTQyOTQ5NjcyOTUpe2NvbnN0IHI9bmV3IFVpbnQzMkFycmF5KE1hdGguY2VpbChlLzMyKSk7cmV0dXJuIG5ldyB0KHIscyl9Y29uc3RydWN0b3IodCxlKXt0aGlzLl9tYXNrPTAsdGhpcy5fYnVmPXQsdGhpcy5fbWFzaz1lfV9nZXRJbmRleCh0KXtyZXR1cm4gTWF0aC5mbG9vcih0LzMyKX1oYXModCl7Y29uc3QgZT10aGlzLl9tYXNrJnQ7cmV0dXJuISEodGhpcy5fYnVmW3RoaXMuX2dldEluZGV4KGUpXSYxPDxlJTMyKX1oYXNSYW5nZSh0LGUpe2xldCBzPXQscj1lO2Zvcig7cyUzMiYmcyE9PXI7KXtpZih0aGlzLmhhcyhzKSlyZXR1cm4hMDtzKyt9Zm9yKDtyJTMyJiZzIT09cjspe2lmKHRoaXMuaGFzKHMpKXJldHVybiEwO3ItLX1pZihzPT09cilyZXR1cm4hMTtmb3IobGV0IGg9cy8zMjtoIT09ci8zMjtoKyspe2lmKHRoaXMuX2J1ZltoXSlyZXR1cm4hMH1yZXR1cm4hMX1zZXQodCl7Y29uc3QgZT10aGlzLl9tYXNrJnQscz10aGlzLl9nZXRJbmRleChlKSxyPTE8PGUlMzI7dGhpcy5fYnVmW3NdfD1yfXNldFJhbmdlKHQsZSl7bGV0IHM9dCxyPWU7Zm9yKDtzJTMyJiZzIT09cjspdGhpcy5zZXQocysrKTtmb3IoO3IlMzImJnMhPT1yOyl0aGlzLnNldChyLS0pO2lmKHMhPT1yKWZvcihsZXQgaD1zLzMyO2ghPT1yLzMyO2grKyl0aGlzLl9idWZbaF09NDI5NDk2NzI5NX11bnNldCh0KXtjb25zdCBlPXRoaXMuX21hc2smdCxzPXRoaXMuX2dldEluZGV4KGUpLHI9MTw8ZSUzMjt0aGlzLl9idWZbc10mPTQyOTQ5NjcyOTVecn1yZXNpemUodCl7Y29uc3QgZT10aGlzLl9idWYscz1uZXcgVWludDMyQXJyYXkoTWF0aC5jZWlsKHQvMzIpKTtzLnNldChlKSx0aGlzLl9idWY9c31vcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXXw9dC5fYnVmW2VdO3JldHVybiB0aGlzfWFuZCh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXSY9dC5fYnVmW2VdO3JldHVybiB0aGlzfXhvcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXV49dC5fYnVmW2VdO3JldHVybiB0aGlzfWlvcih0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXXw9fnQuX2J1ZltlXTtyZXR1cm4gdGhpc31pYW5kKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYnVmLmxlbmd0aDtlKyspdGhpcy5fYnVmW2VdJj1+dC5fYnVmW2VdO3JldHVybiB0aGlzfWl4b3IodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl0aGlzLl9idWZbZV1ePX50Ll9idWZbZV07cmV0dXJuIHRoaXN9YW55KCl7Zm9yKGxldCB0PTA7dDx0aGlzLl9idWYubGVuZ3RoO3QrKylpZih0aGlzLl9idWZbdF0pcmV0dXJuITA7cmV0dXJuITF9Y29weSh0KXtmb3IobGV0IGU9MDtlPHRoaXMuX2J1Zi5sZW5ndGg7ZSsrKXRoaXMuX2J1ZltlXT10Ll9idWZbZV07cmV0dXJuIHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHQodGhpcy5fYnVmLnNsaWNlKCksdGhpcy5fbWFzayl9Y2xlYXIoKXtmb3IobGV0IHQ9MDt0PHRoaXMuX2J1Zi5sZW5ndGg7dCsrKXRoaXMuX2J1Zlt0XT0wfWZvckVhY2hTZXQodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9idWYubGVuZ3RoO2UrKyl7bGV0IHM9dGhpcy5fYnVmW2VdLHI9MzIqZTtpZihzKWZvcig7czspezEmcyYmdChyKSxzPj4+PTEscisrfX19Y291bnRTZXQoKXtsZXQgdD0wO3JldHVybiB0aGlzLmZvckVhY2hTZXQoKGU9Pnt0Kyt9KSksdH19ZXhwb3J0e3QgYXMgU3RhdGljQml0U2V0fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==