"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_renderers_support_heatmapUtils_js-node_modules_arcgis_core_v-6c8ef0"],{

/***/ "./node_modules/@arcgis/core/chunks/vec4f64.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec4f64.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "O": () => (/* binding */ _),
/* harmony export */   "U": () => (/* binding */ N),
/* harmony export */   "Z": () => (/* binding */ l),
/* harmony export */   "a": () => (/* binding */ u),
/* harmony export */   "b": () => (/* binding */ e),
/* harmony export */   "c": () => (/* binding */ n),
/* harmony export */   "d": () => (/* binding */ t),
/* harmony export */   "e": () => (/* binding */ i),
/* harmony export */   "f": () => (/* binding */ r),
/* harmony export */   "g": () => (/* binding */ c),
/* harmony export */   "h": () => (/* binding */ f),
/* harmony export */   "i": () => (/* binding */ O),
/* harmony export */   "j": () => (/* binding */ T),
/* harmony export */   "k": () => (/* binding */ U),
/* harmony export */   "o": () => (/* binding */ o),
/* harmony export */   "u": () => (/* binding */ s),
/* harmony export */   "v": () => (/* binding */ b),
/* harmony export */   "z": () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n(){return[0,0,0,0]}function t(n){return[n[0],n[1],n[2],n[3]]}function r(n,t,r,e){return[n,t,r,e]}function e(t){const r=n(),e=Math.min(4,t.length);for(let n=0;n<e;++n)r[n]=t[n];return r}function u(n,t){return new Float64Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function s(){return r(1,0,0,0)}function i(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const l=a(),_=o(),N=s(),O=i(),T=c(),U=f(),b=Object.freeze(Object.defineProperty({__proto__:null,ONES:_,UNIT_W:U,UNIT_X:N,UNIT_Y:O,UNIT_Z:T,ZEROS:l,clone:t,create:n,createView:u,fromArray:e,fromValues:r,ones:o,unitW:f,unitX:s,unitY:i,unitZ:c,zeros:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/LRUCache.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/LRUCache.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LRUCache": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _MemCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MemCache.js */ "./node_modules/@arcgis/core/core/MemCache.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(e,s){this._storage=new _MemCache_js__WEBPACK_IMPORTED_MODULE_0__.MemCacheStorage,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),s&&this._storage.registerRemoveFunc("",s)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,e,s=1){this._storage.put(this,t,e,s,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/MemCache.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/MemCache.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MIN_PRIORITY": () => (/* binding */ e),
/* harmony export */   "MemCache": () => (/* binding */ s),
/* harmony export */   "MemCacheStorage": () => (/* binding */ r),
/* harmony export */   "RemoveMode": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _PooledArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e=-3;var i;!function(t){t[t.ALL=0]="ALL",t[t.SOME=1]="SOME"}(i||(i={}));class s{constructor(t,e,i){this.name=t,this._storage=e,this.id=h+++":",this.size=0,this.maxSize=0,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),i&&(this._storage.registerRemoveFunc(this.id,i),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get sizeAll(){return this._storage.size}resetHitRate(){this._hit=this._miss=0}put(t,e,i,s=0){this._storage.put(this,t,e,i,s)}get(t){const e=this._storage.get(this,t);return void 0===e?++this._miss:++this._hit,e}pop(t){const e=this._storage.pop(this,t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,i){this._storage.updateSize(this,t,e,i)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class r{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._users=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace((e=>e[0]!==t))}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimits()}put(t,s,r,h,o){s=t.id+s;const n=this._db.get(s);if(n&&(this._size-=n.size,t.size-=n.size,this._db.delete(s),n.entry!==r&&this._notifyRemove(s,n.entry,i.ALL)),h>this._maxSize)return void this._notifyRemove(s,r,i.ALL);if(void 0===r)return void console.warn("Refusing to cache undefined entry ");if(!h||h<0)return void console.warn("Refusing to cache entry with invalid size "+h);const _=1+Math.max(o,e)-e;this._db.set(s,{entry:r,size:h,lifetime:_,lives:_}),this._size+=h,t.size+=h,this._checkSizeLimits()}updateSize(t,e,s,r){e=t.id+e;const h=this._db.get(e);if(h&&h.entry===s){for(this._size-=h.size,t.size-=h.size;r>this._maxSize;){const t=this._notifyRemove(e,s,i.SOME);if(!(null!=t&&t>0))return void this._db.delete(e);r=t}h.size=r,this._size+=r,t.size+=r,this._checkSizeLimits()}}pop(t,e){e=t.id+e;const i=this._db.get(e);if(i)return this._size-=i.size,t.size-=i.size,this._db.delete(e),++this._hit,i.entry;++this._miss}get(t,e){e=t.id+e;const i=this._db.get(e);if(void 0!==i)return this._db.delete(e),i.lives=i.lifetime,this._db.set(e,i),++this._hit,i.entry;++this._miss}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},s=new Array;this._db.forEach(((t,e)=>{const r=t.lifetime;s[r]=(s[r]||0)+t.size,this._users.forAll((s=>{const{id:r,name:h}=s;if(e.startsWith(r)){const e=i[h]||0;i[h]=e+t.size}}))}));const r={};this._users.forAll((t=>{const e=t.name;if("hitRate"in t&&"number"==typeof t.hitRate&&!isNaN(t.hitRate)&&t.hitRate>0){const s=i[e]||0;i[e]=s,r[e]=Math.round(100*t.hitRate)+"%"}else r[e]="0%"}));const h=Object.keys(i);h.sort(((t,e)=>i[e]-i[t])),h.forEach((e=>t[e]=Math.round(i[e]/2**20)+"MB / "+r[e]));for(let o=s.length-1;o>=0;--o){const i=s[o];i&&(t["Priority "+(o+e-1)]=Math.round(i/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){const e=t.id;this._db.forEach(((t,s)=>{s.startsWith(e)&&(this._size-=t.size,this._db.delete(s),this._notifyRemove(s,t.entry,i.ALL))})),t.size=0}clearAll(){this._db.forEach(((t,e)=>this._notifyRemove(e,t.entry,i.ALL))),this._users.forEach((t=>t.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,e,i){let s;return this._removeFuncs.some((r=>{if(t.startsWith(r[0])){const t=r[1](e,i);return"number"==typeof t&&(s=t),!0}return!1})),s}_checkSizeLimits(){if(this._size>this._maxSize)for(const[t,e]of this._db)if(this._purgeItem(t,e),this._size<=.9*this.maxSize)return;this._users.forEach((t=>{if(t.maxSize>0&&t.size>t.maxSize)for(const[e,i]of this._db)if(e.startsWith(t.id)&&(this._purgeItem(e,i,t),t.size<=.9*t.maxSize))return}))}_purgeItem(t,e,s=this._users.find((e=>t.startsWith(e.id)))){if(this._db.delete(t),e.lives<=1){this._size-=e.size,s&&(s.size-=e.size);const r=this._notifyRemove(t,e.entry,i.SOME);null!=r&&r>0&&(this._size+=r,s&&(s.size+=r),e.lives=e.lifetime,e.size=r,this._db.set(t,e))}else--e.lives,this._db.set(t,e)}}let h=0;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "diff": () => (/* binding */ a),
/* harmony export */   "hasDiff": () => (/* binding */ s),
/* harmony export */   "hasDiffAny": () => (/* binding */ p),
/* harmony export */   "isEmpty": () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _Accessor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Collection.js */ "./node_modules/@arcgis/core/core/Collection.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/core/accessorSupport/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function r(t){return t instanceof _Accessor_js__WEBPACK_IMPORTED_MODULE_0__["default"]}function f(e){return e instanceof _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]?Object.keys(e.items):r(e)?(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getProperties)(e).keys():e?Object.keys(e):[]}function l(e,n){return e instanceof _Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"]?e.items[n]:e[n]}function i(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function u(e){return e?e.declaredClass:null}function c(e,t){const n=e.diff;if(n&&"function"==typeof n)return n(e,t);const s=f(e),p=f(t);if(0===s.length&&0===p.length)return;if(!s.length||!p.length||i(e,t))return{type:"complete",oldValue:e,newValue:t};const a=p.filter((e=>!s.includes(e))),y=s.filter((e=>!p.includes(e))),d=s.filter((n=>p.includes(n)&&l(e,n)!==l(t,n))).concat(a,y).sort(),m=u(e);if(m&&o.includes(m)&&d.length)return{type:"complete",oldValue:e,newValue:t};let h;const b=r(e)&&r(t);for(const o of d){const r=l(e,o),f=l(t,o);let i;if((b||"function"!=typeof r&&"function"!=typeof f)&&(r!==f&&(null!=r||null!=f))){if(n&&n[o]&&"function"==typeof n[o])i=n[o]?.(r,f);else if(r instanceof Date&&f instanceof Date){if(r.getTime()===f.getTime())continue;i={type:"complete",oldValue:r,newValue:f}}else i="object"==typeof r&&"object"==typeof f&&u(r)===u(f)?c(r,f):{type:"complete",oldValue:r,newValue:f};null!=i&&(null!=h?h.diff[o]=i:h={type:"partial",diff:{[o]:i}})}}return h}function s(e,t){if(null==e)return!1;const n=t.split(".");let o=e;for(const r of n){if("complete"===o.type)return!0;if("partial"!==o.type)return!1;{const e=o.diff[r];if(!e)return!1;o=e}}return!0}function p(e,t){for(const n of t)if(s(e,n))return!0;return!1}function a(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&u(e)!==u(t)?{type:"complete",oldValue:e,newValue:t}:c(e,t)}function y(e){if(null==e)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const e of t.added)if(!y(e))return!1;for(const e of t.removed)if(!y(e))return!1;for(const e of t.changed)if(!y(e))return!1;return!0}case"partial":for(const t in e.diff){if(!y(e.diff[t]))return!1}return!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/floatRGBA.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/floatRGBA.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "packFloatRGBA": () => (/* binding */ o),
/* harmony export */   "unpackFloatRGBA": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o(o,r,e=0){const i=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(o,0,f);for(let t=0;t<4;t++)r[e+t]=Math.floor(256*l(i*n[t]))}function r(t,o=0){let r=0;for(let n=0;n<4;n++)r+=t[o+n]*e[n];return r}const n=[1,256,65536,16777216],e=[1/256,1/65536,1/16777216,1/4294967296],f=r(new Uint8ClampedArray([255,255,255,255]));function l(t){return t-Math.floor(t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/pbf.js":
/*!***********************************************!*\
  !*** ./node_modules/@arcgis/core/core/pbf.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _ObjectPool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ObjectPool.js */ "./node_modules/@arcgis/core/core/ObjectPool.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var e;!function(t){t[t.varint=0]="varint",t[t.fixed64=1]="fixed64",t[t.delimited=2]="delimited",t[t.fixed32=5]="fixed32",t[t.unknown=99]="unknown"}(e||(e={}));const i=4294967296,s=new TextDecoder("utf-8"),r=(0,_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("safari")||(0,_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("ios")?6:(0,_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("ff")?12:32;class n{constructor(t,i,s=0,r=(t?t.byteLength:0)){this._tag=0,this._dataType=e.unknown,this._init(t,i,s,r)}_init(t,e,i,s){this._data=t,this._dataView=e,this._pos=i,this._end=s}asUnsafe(){return this}clone(){return new n(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();if(void 0!==t)return t>>>1^-(1&t)|0}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,s=t.getUint32(e,!0)+t.getUint32(e+4,!0)*i;return this._skip(8),s}getSFixed64(){const t=this._dataView,e=this._pos,s=t.getUint32(e,!0)+t.getInt32(e+4,!0)*i;return this._skip(8),s}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,i=this._toString(this._data,e,e+t);return this._skip(t),i}getBytes(){const t=this._getLength(),e=this._pos,i=this._toBytes(this._data,e,e+t);return this._skip(t),i}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,i,s){const r=this.getMessage(),n=t(r,e,i,s);return r.release(),n}processMessage(t){const e=this.getMessage(),i=t(e);return e.release(),i}getMessage(){const t=this._getLength(),e=n.pool.acquire();return e._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){n.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case e.varint:this._decodeVarint();break;case e.fixed64:this._skip(8);break;case e.delimited:this._skip(this._getLength());break;case e.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let e=this._pos,i=0,s=0;if(this._end-e>=10)do{if(s=t[e++],i|=127&s,0==(128&s))break;if(s=t[e++],i|=(127&s)<<7,0==(128&s))break;if(s=t[e++],i|=(127&s)<<14,0==(128&s))break;if(s=t[e++],i|=(127&s)<<21,0==(128&s))break;if(s=t[e++],i+=268435456*(127&s),0==(128&s))break;if(s=t[e++],i+=34359738368*(127&s),0==(128&s))break;if(s=t[e++],i+=4398046511104*(127&s),0==(128&s))break;if(s=t[e++],i+=562949953421312*(127&s),0==(128&s))break;if(s=t[e++],i+=72057594037927940*(127&s),0==(128&s))break;if(s=t[e++],i+=0x8000000000000000*(127&s),0==(128&s))break;throw new Error("Varint too long!")}while(0);else{let r=1;for(;e!==this._end&&(s=t[e],0!=(128&s));)++e,i+=(127&s)*r,r*=128;if(e===this._end)throw new Error("Varint overrun!");++e,i+=s*r}return this._pos=e,i}_decodeSVarint(){const t=this._data;let e=this._pos,i=0,s=0;const r=1&t[e];if(this._end-e>=10)do{if(s=t[e++],i|=127&s,0==(128&s))break;if(s=t[e++],i|=(127&s)<<7,0==(128&s))break;if(s=t[e++],i|=(127&s)<<14,0==(128&s))break;if(s=t[e++],i|=(127&s)<<21,0==(128&s))break;if(s=t[e++],i+=268435456*(127&s),0==(128&s))break;if(s=t[e++],i+=34359738368*(127&s),0==(128&s))break;if(s=t[e++],i+=4398046511104*(127&s),0==(128&s))break;if(s=t[e++],i+=562949953421312*(127&s),0==(128&s))break;if(s=t[e++],i+=72057594037927940*(127&s),0==(128&s))break;if(s=t[e++],i+=0x8000000000000000*(127&s),0==(128&s))break;throw new Error("Varint too long!")}while(0);else{let r=1;for(;e!==this._end&&(s=t[e],0!=(128&s));)++e,i+=(127&s)*r,r*=128;if(e===this._end)throw new Error("Varint overrun!");++e,i+=s*r}return this._pos=e,r?-(i+1)/2:i/2}_getLength(){if(this._dataType!==e.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,i){if((i=Math.min(this._end,i))-e>r){const r=t.subarray(e,i);return s.decode(r)}let n="",a="";for(let s=e;s<i;++s){const e=t[s];128&e?a+="%"+e.toString(16):(n+=decodeURIComponent(a)+String.fromCharCode(e),a="")}return a.length&&(n+=decodeURIComponent(a)),n}_toBytes(t,e,i){return i=Math.min(this._end,i),new Uint8Array(t.buffer,e,i-e)}}n.pool=new _ObjectPool_js__WEBPACK_IMPORTED_MODULE_1__["default"](n,void 0,(t=>{t._data=null,t._dataView=null}));


/***/ }),

/***/ "./node_modules/@arcgis/core/renderers/support/heatmapUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/heatmapUtils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR": () => (/* binding */ a),
/* harmony export */   "calculateHeatmapIntensityInfoReaders": () => (/* binding */ s),
/* harmony export */   "createHeatmapImageData": () => (/* binding */ h),
/* harmony export */   "createValueFunction": () => (/* binding */ y),
/* harmony export */   "createValueFunctionCursor": () => (/* binding */ d),
/* harmony export */   "drawHeatmap": () => (/* binding */ l),
/* harmony export */   "evaluateDensityKernel": () => (/* binding */ m),
/* harmony export */   "gaussianBlurRadiusPxToKernelDensityRadiusPt": () => (/* binding */ i),
/* harmony export */   "generateGradient": () => (/* binding */ u),
/* harmony export */   "kernelDensityRadiusPtToGaussianBlurRadiusPx": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec4f64.js */ "./node_modules/@arcgis/core/chunks/vec4f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a=2.4;function i(t){return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.px2pt)(t*a)}function c(t){return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(t)/a}function f(r,n,e,a){let{color:i,ratio:c}=n,{color:f,ratio:u}=e;if(u===c){const t=1e-6;1===u?c-=t:u+=t}const s=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)((a-c)/(u-c),0,1);(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.l)(r,i.toArray(),f.toArray(),s)}function u(t){const r=512,n=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return n;let o=t[0],a=t[0],i=1;const c=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();for(let e=0;e<r;e++){const u=(e+.5)/r;for(;u>a.ratio&&i<t.length;)o=a,a=t[i++];f(c,o,a,u),n.set(c,4*e)}return n}function s(t,r,o,e){const{radius:a,fieldOffset:i,field:c}=r,f=Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(a)),u=new Float64Array(o*e);let s,l=Number.NEGATIVE_INFINITY;const h=d(c,i),y=new Set;for(const n of t){const t=n.getCursor();for(;t.next();){const r=t.getObjectId();if(y.has(r))continue;y.add(r);const n=t.readLegacyPointGeometry(),a=128;if(n.x<-a||n.x>=o+a||n.y<-a||n.y>e+a)continue;const i=+h(t),c=Math.max(0,Math.round(n.x)-f),d=Math.max(0,Math.round(n.y)-f),g=Math.min(e,Math.round(n.y)+f),A=Math.min(o,Math.round(n.x)+f);for(let t=d;t<g;t++)for(let r=c;r<A;r++){const e=t*o+r,a=m(n.x-r,n.y-t,f);s=u[e]+=a*i,s>l&&(l=s)}}}return{matrix:u.buffer,max:l}}function l(t,r,n,o,e,a){t.canvas.width=t.canvas.height=r,t.clearRect(0,0,r,r);const i=t.getImageData(0,0,r,r);n&&o&&i.data.set(new Uint8ClampedArray(h(r,n,o,e,a))),t.putImageData(i,0,0)}function h(r,n,o,e,a){const i=new Uint32Array(r*r),c="buffer"in n?n:new Float64Array(n),f="buffer"in o?new Uint32Array(o.buffer):new Uint32Array(new Uint8Array(o).buffer),u=f.length/(a-e);for(let s=0;s<c.length;s++){const r=c[s],n=Math.floor((r-e)*u);i[s]=f[(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(n,0,f.length-1)]}return i.buffer}function m(t,r,n){const o=Math.sqrt(t**2+r**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function y(t,r){return"function"==typeof t?t:t?"string"==typeof r?r=>-1*+r[t]:n=>+n[t]+r:()=>1}function d(t,r){return null!=t?"string"==typeof r?r=>-1*+r.readAttribute(t):n=>+n.readAttribute(t)+r:t=>1}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "rasterizeDash": () => (/* binding */ e),
/* harmony export */   "rasterizeSimpleFill": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/floatRGBA.js */ "./node_modules/@arcgis/core/core/floatRGBA.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const a=o=>"vertical"===o||"horizontal"===o||"cross"===o||"esriSFSCross"===o||"esriSFSVertical"===o||"esriSFSHorizontal"===o;function r(o,r,e){const i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.nextPowerOfTwo)(Math.ceil(e)),n=a(r)?8*i:16*i,s=2*i;o.width=n,o.height=n;const l=o.getContext("2d");l.strokeStyle="#FFFFFF",l.lineWidth=i,l.beginPath(),"vertical"!==r&&"cross"!==r&&"esriSFSCross"!==r&&"esriSFSVertical"!==r||(l.moveTo(n/2,-s),l.lineTo(n/2,n+s)),"horizontal"!==r&&"cross"!==r&&"esriSFSCross"!==r&&"esriSFSHorizontal"!==r||(l.moveTo(-s,n/2),l.lineTo(n+s,n/2)),"forward-diagonal"!==r&&"diagonal-cross"!==r&&"esriSFSDiagonalCross"!==r&&"esriSFSForwardDiagonal"!==r||(l.moveTo(-s,-s),l.lineTo(n+s,n+s),l.moveTo(n-s,-s),l.lineTo(n+s,s),l.moveTo(-s,n-s),l.lineTo(s,n+s)),"backward-diagonal"!==r&&"diagonal-cross"!==r&&"esriSFSBackwardDiagonal"!==r&&"esriSFSDiagonalCross"!==r||(l.moveTo(n+s,-s),l.lineTo(-s,n+s),l.moveTo(s,-s),l.lineTo(-s,s),l.moveTo(n+s,n-s),l.lineTo(n-s,n+s)),l.stroke();const h=l.getImageData(0,0,o.width,o.height),c=new Uint8Array(h.data);let m;for(let t=0;t<c.length;t+=4)m=c[t+3]/255,c[t]=c[t]*m,c[t+1]=c[t+1]*m,c[t+2]=c[t+2]*m;return[c,o.width,o.height]}function e(t,a){const r="Butt"===a,e="Square"===a,i=!r&&!e;t.length%2==1&&(t=[...t,...t]);const n=15.5,s=2*n;let l=0;for(const o of t)l+=o;const h=Math.round(l*n),c=new Float32Array(h*s),m=.5*n;let S=0,F=0,g=.5,T=!0;for(const o of t){for(S=F,F+=o*n;g<=F;){let o=.5;for(;o<s;){const t=(o-.5)*h+g-.5,a=i?(o-n)*(o-n):Math.abs(o-n);c[t]=T?r?Math.max(Math.max(S+m-g,a),Math.max(g-F+m,a)):a:i?Math.min((g-S)*(g-S)+a,(g-F)*(g-F)+a):e?Math.min(Math.max(g-S,a),Math.max(F-g,a)):Math.min(Math.max(g-S+m,a),Math.max(F+m-g,a)),o++}g++}T=!T}const d=c.length,f=new Uint8Array(4*d);for(let M=0;M<d;++M){const t=(i?Math.sqrt(c[M]):c[M])/n;(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.packFloatRGBA)(t,f,4*M)}return[f,h,s]}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RectangleBinPack.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js");
/* harmony import */ var _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl/Rect.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class n{constructor(e,s,i){this.width=0,this.height=0,this._dirties=[],this._glyphData=[],this._currentPage=0,this._glyphIndex={},this._textures=[],this._rangePromises=new Map,this.width=e,this.height=s,this._glyphSource=i,this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_0__["default"](e-4,s-4),this._glyphData.push(new Uint8Array(e*s)),this._dirties.push(!0),this._textures.push(void 0)}getGlyphItems(s,i){const h=[],r=this._glyphSource,n=new Set,o=1/256;for(const t of i){const e=Math.floor(t*o);n.add(e)}const a=[];return n.forEach((t=>{const e=s+t;if(this._rangePromises.has(e))a.push(this._rangePromises.get(e));else{const i=r.getRange(s,t).then((()=>{this._rangePromises.delete(e)}),(()=>{this._rangePromises.delete(e)}));this._rangePromises.set(e,i),a.push(i)}})),Promise.all(a).then((()=>{let n=this._glyphIndex[s];n||(n={},this._glyphIndex[s]=n);for(const o of i){const i=n[o];if(i){h[o]={sdf:!0,rect:i.rect,metrics:i.metrics,page:i.page,code:o};continue}const a=r.getGlyph(s,o);if(!a||!a.metrics)continue;const c=a.metrics;let l;if(0===c.width)l=new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_1__["default"](0,0,0,0);else{const e=3,s=c.width+2*e,i=c.height+2*e;let h=s%4?4-s%4:4,r=i%4?4-i%4:4;1===h&&(h=5),1===r&&(r=5),l=this._binPack.allocate(s+h,i+r),l.isEmpty&&(this._dirties[this._currentPage]||(this._glyphData[this._currentPage]=null),this._currentPage=this._glyphData.length,this._glyphData.push(new Uint8Array(this.width*this.height)),this._dirties.push(!0),this._textures.push(void 0),this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_0__["default"](this.width-4,this.height-4),l=this._binPack.allocate(s+h,i+r));const n=this._glyphData[this._currentPage],o=a.bitmap;let g,_;if(o)for(let t=0;t<i;t++){g=s*t,_=this.width*(l.y+t+1)+l.x;for(let t=0;t<s;t++)n[_+t+1]=o[g+t]}}n[o]={rect:l,metrics:c,tileIDs:null,page:this._currentPage},h[o]={sdf:!0,rect:l,metrics:c,page:this._currentPage,code:o},this._dirties[this._currentPage]=!0}return h}))}removeGlyphs(t){for(const e in this._glyphIndex){const s=this._glyphIndex[e];if(!s)continue;let i;for(const e in s)if(i=s[e],i.tileIDs.delete(t),0===i.tileIDs.size){const t=this._glyphData[i.page],h=i.rect;let r,n;for(let e=0;e<h.height;e++)for(r=this.width*(h.y+e)+h.x,n=0;n<h.width;n++)t[r+n]=0;delete s[e],this._dirties[i.page]=!0}}}bind(t,e,n,o=0){if(!this._textures[n]){const e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_4__.TextureDescriptor;e.pixelFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.ALPHA,e.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.CLAMP_TO_EDGE,e.width=this.width,e.height=this.height,this._textures[n]=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_3__.Texture(t,e,new Uint8Array(this.width*this.height))}const a=this._textures[n];a.setSamplingMode(e),this._dirties[n]&&a.setData(this._glyphData[n]),t.bindTexture(a,o),this._dirties[n]=!1}dispose(){this._binPack=null;for(const t of this._textures)t&&t.dispose();this._textures.length=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/pbf.js */ "./node_modules/@arcgis/core/core/pbf.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s{constructor(e){if(this._metrics=[],this._bitmaps=[],e)for(;e.next();)switch(e.tag()){case 1:{const t=e.getMessage();for(;t.next();)switch(t.tag()){case 3:{const e=t.getMessage();let s,a,r,n,i,c,g;for(;e.next();)switch(e.tag()){case 1:s=e.getUInt32();break;case 2:a=e.getBytes();break;case 3:r=e.getUInt32();break;case 4:n=e.getUInt32();break;case 5:i=e.getSInt32();break;case 6:c=e.getSInt32();break;case 7:g=e.getUInt32();break;default:e.skip()}e.release(),s&&(this._metrics[s]={width:r,height:n,left:i,top:c,advance:g},this._bitmaps[s]=a);break}default:t.skip()}t.release();break}default:e.skip()}}getMetrics(e){return this._metrics[e]}getBitmap(e){return this._bitmaps[e]}}class a{constructor(){this._ranges=[]}getRange(e){return this._ranges[e]}addRange(e,t){this._ranges[e]=t}}class r{constructor(e){this._glyphInfo={},this._baseURL=e}getRange(a,r){const n=this._getFontStack(a);if(n.getRange(r))return Promise.resolve();const i=256*r,c=i+255;if(this._baseURL){const g=this._baseURL.replace("{fontstack}",a).replace("{range}",i+"-"+c);return (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(g,{responseType:"array-buffer"}).then((e=>{n.addRange(r,new s(new _core_pbf_js__WEBPACK_IMPORTED_MODULE_1__["default"](new Uint8Array(e.data),new DataView(e.data))))})).catch((()=>{n.addRange(r,new s)}))}return n.addRange(r,new s),Promise.resolve()}getGlyph(e,t){const s=this._getFontStack(e);if(!s)return;const a=Math.floor(t/256),r=s.getRange(a);return r?{metrics:r.getMetrics(t),bitmap:r.getBitmap(t)}:void 0}_getFontStack(e){let t=this._glyphInfo[e];return t||(t=this._glyphInfo[e]=new a),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../webgl/Rect.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(e,t){this._width=0,this._height=0,this._free=[],this._width=e,this._height=t,this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](0,0,e,t))}get width(){return this._width}get height(){return this._height}allocate(e,t){if(e>this._width||t>this._height)return new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"];let i=null,s=-1;for(let h=0;h<this._free.length;++h){const w=this._free[h];e<=w.width&&t<=w.height&&(null===i||w.y<=i.y&&w.x<=i.x)&&(i=w,s=h)}return null===i?new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"]:(this._free.splice(s,1),i.width<i.height?(i.width>e&&this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x+e,i.y,i.width-e,t)),i.height>t&&this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x,i.y+t,i.width,i.height-t))):(i.width>e&&this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x+e,i.y,i.width-e,i.height)),i.height>t&&this._free.push(new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x,i.y+t,e,i.height-t))),new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_0__["default"](i.x,i.y,e,t))}release(h){for(let e=0;e<this._free.length;++e){const t=this._free[e];if(t.y===h.y&&t.height===h.height&&t.x+t.width===h.x)t.width+=h.width;else if(t.x===h.x&&t.width===h.width&&t.y+t.height===h.y)t.height+=h.height;else if(h.y===t.y&&h.height===t.height&&h.x+h.width===t.x)t.x=h.x,t.width+=h.width;else{if(h.x!==t.x||h.width!==t.width||h.y+h.height!==t.y)continue;t.y=h.y,t.height+=h.height}this._free.splice(e,1),this.release(h)}this._free.push(h)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RenderBucket.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RenderBucket.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CircleRenderBucket": () => (/* binding */ l),
/* harmony export */   "FillRenderBucket": () => (/* binding */ f),
/* harmony export */   "LineRenderBucket": () => (/* binding */ h),
/* harmony export */   "RenderBucketBase": () => (/* binding */ o),
/* harmony export */   "SymbolRenderBucket": () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/enums.js");
/* harmony import */ var _decluttering_util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./decluttering/util.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o{constructor(t,e){this.layerUIDs=[],this.isDestroyed=!1,this._data=t;let r=1;const n=new Uint32Array(t);this.layerUIDs=[];const s=n[r++];for(let i=0;i<s;i++)this.layerUIDs[i]=n[r++];this.bufferDataOffset=r,e&&(this.layer=e.getStyleLayerByUID(this.layerUIDs[0]))}get isPreparedForRendering(){return null==this._data}get offset(){return this.bufferDataOffset}get data(){return this._data}destroy(){this.isDestroyed||(this.doDestroy(),this.isDestroyed=!0)}prepareForRendering(t){null!=this._data&&(this.doPrepareForRendering(t,this._data,this.bufferDataOffset),this._data=null)}}class h extends o{constructor(t,e){super(t,e),this.type=_enums_js__WEBPACK_IMPORTED_MODULE_2__.BucketType.LINE,this.lineIndexStart=0,this.lineIndexCount=0;const n=new Uint32Array(t);let s=this.bufferDataOffset;this.lineIndexStart=n[s++],this.lineIndexCount=n[s++];const i=n[s++];if(i>0){this.patternMap=new Map;for(let t=0;t<i;t++){const t=n[s++],e=n[s++],r=n[s++];this.patternMap.set(t,[e,r])}}this.bufferDataOffset=s}get memoryUsed(){return(this.data?.byteLength??0)+(this.vao?.memoryEstimate??0)}hasData(){return this.lineIndexCount>0}triangleCount(){return this.lineIndexCount/3}doDestroy(){this.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.vao)}doPrepareForRendering(t,e,r){const n=new Uint32Array(e),o=new Int32Array(n.buffer),h=n[r++],f=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Int32Array(o.buffer,4*r,h));r+=h;const c=n[r++],l=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Uint32Array(n.buffer,4*r,c));r+=c;const y=this.layer.lineMaterial;this.vao=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t,y.getAttributeLocations(),y.getLayoutInfo(),{geometry:f},l)}}class f extends o{constructor(t,e){super(t,e),this.type=_enums_js__WEBPACK_IMPORTED_MODULE_2__.BucketType.FILL,this.fillIndexStart=0,this.fillIndexCount=0,this.outlineIndexStart=0,this.outlineIndexCount=0;const n=new Uint32Array(t);let s=this.bufferDataOffset;this.fillIndexStart=n[s++],this.fillIndexCount=n[s++],this.outlineIndexStart=n[s++],this.outlineIndexCount=n[s++];const i=n[s++];if(i>0){this.patternMap=new Map;for(let t=0;t<i;t++){const t=n[s++],e=n[s++],r=n[s++];this.patternMap.set(t,[e,r])}}this.bufferDataOffset=s}get memoryUsed(){return(this.data?.byteLength??0)+(this.fillVAO?.memoryEstimate??0)+(this.outlineVAO?.memoryEstimate??0)}hasData(){return this.fillIndexCount>0||this.outlineIndexCount>0}triangleCount(){return(this.fillIndexCount+this.outlineIndexCount)/3}doDestroy(){this.fillVAO=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.fillVAO),this.outlineVAO=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.outlineVAO)}doPrepareForRendering(t,e,r){const n=new Uint32Array(e),o=new Int32Array(n.buffer),h=n[r++],f=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Int32Array(o.buffer,4*r,h));r+=h;const c=n[r++],l=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Uint32Array(n.buffer,4*r,c));r+=c;const y=n[r++],u=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Int32Array(o.buffer,4*r,y));r+=y;const A=n[r++],d=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Uint32Array(n.buffer,4*r,A));r+=A;const I=this.layer,g=I.fillMaterial,p=I.outlineMaterial;this.fillVAO=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t,g.getAttributeLocations(),g.getLayoutInfo(),{geometry:f},l),this.outlineVAO=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t,p.getAttributeLocations(),p.getLayoutInfo(),{geometry:u},d)}}class c extends o{constructor(t,e,s){super(t,e),this.type=_enums_js__WEBPACK_IMPORTED_MODULE_2__.BucketType.SYMBOL,this.iconPerPageElementsMap=new Map,this.glyphPerPageElementsMap=new Map,this.symbolInstances=[],this.isIconSDF=!1,this.opacityChanged=!1,this.lastOpacityUpdate=0,this.symbols=[];const i=new Uint32Array(t),a=new Int32Array(t),o=new Float32Array(t);let h=this.bufferDataOffset;this.isIconSDF=!!i[h++];const f=i[h++];for(let r=0;r<f;r++){const t=i[h++],e=i[h++],r=i[h++];this.iconPerPageElementsMap.set(t,[e,r])}const c=i[h++];for(let r=0;r<c;r++){const t=i[h++],e=i[h++],r=i[h++];this.glyphPerPageElementsMap.set(t,[e,r])}const l=i[h++],y=i[h++];this.iconOpacity=new Int32Array(l),this.textOpacity=new Int32Array(y),h=(0,_decluttering_util_js__WEBPACK_IMPORTED_MODULE_3__.deserializeSymbols)(i,a,o,h,this.symbols,s),this.bufferDataOffset=h}get memoryUsed(){return(this.data?.byteLength??0)+(this.iconVAO?.memoryEstimate??0)+(this.textVAO?.memoryEstimate??0)+(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__.estimateSize)(this.iconOpacity)+(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__.estimateSize)(this.textOpacity)}hasData(){return this.iconPerPageElementsMap.size>0||this.glyphPerPageElementsMap.size>0}triangleCount(){let t=0;for(const[e,r]of this.iconPerPageElementsMap)t+=r[1];for(const[e,r]of this.glyphPerPageElementsMap)t+=r[1];return t/3}doDestroy(){this.iconVAO=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.iconVAO),this.textVAO=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.textVAO)}updateOpacityInfo(){if(!this.opacityChanged)return;this.opacityChanged=!1;const t=this.iconOpacity,e=this.iconVAO.vertexBuffers.opacity;t.length>0&&t.byteLength===e.byteLength&&e.setSubData(t,0,0,t.length);const r=this.textOpacity,n=this.textVAO.vertexBuffers.opacity;r.length>0&&r.byteLength===n.byteLength&&n.setSubData(r,0,0,r.length)}doPrepareForRendering(t,e,r){const n=new Uint32Array(e),o=new Int32Array(n.buffer),h=n[r++],f=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Int32Array(o.buffer,4*r,h));r+=h;const c=n[r++],l=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Uint32Array(n.buffer,4*r,c));r+=c;const y=n[r++],u=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Int32Array(o.buffer,4*r,y));r+=y;const A=n[r++],d=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Uint32Array(n.buffer,4*r,A));r+=A;const I=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,this.iconOpacity.buffer),g=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,this.textOpacity.buffer),p=this.layer,m=p.iconMaterial,x=p.textMaterial;this.iconVAO=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t,m.getAttributeLocations(),m.getLayoutInfo(),{geometry:f,opacity:I},l),this.textVAO=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t,x.getAttributeLocations(),x.getLayoutInfo(),{geometry:u,opacity:g},d)}}class l extends o{constructor(t,e){super(t,e),this.type=_enums_js__WEBPACK_IMPORTED_MODULE_2__.BucketType.CIRCLE,this.circleIndexStart=0,this.circleIndexCount=0;const n=new Uint32Array(t);let s=this.bufferDataOffset;this.circleIndexStart=n[s++],this.circleIndexCount=n[s++],this.bufferDataOffset=s}get memoryUsed(){return(this.data?.byteLength??0)+(this.vao?.memoryEstimate??0)}hasData(){return this.circleIndexCount>0}triangleCount(){return this.circleIndexCount/3}doDestroy(){this.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this.vao)}doPrepareForRendering(t,e,r){const n=new Uint32Array(e),o=new Int32Array(n.buffer),h=n[r++],f=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Int32Array(o.buffer,4*r,h));r+=h;const c=n[r++],l=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Uint32Array(n.buffer,4*r,c));r+=c;const y=this.layer.circleMaterial;this.vao=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(t,y.getAttributeLocations(),y.getLayoutInfo(),{geometry:f},l)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _symbols_cim_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../symbols/cim/rasterizingUtils.js */ "./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js");
/* harmony import */ var _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RectangleBinPack.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RectangleBinPack.js");
/* harmony import */ var _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl/Rect.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r="dasharray-";class o{constructor(t,e,s=0){this._size=[],this._mosaicsData=[],this._textures=[],this._dirties=[],this._maxItemSize=0,this._currentPage=0,this._pageWidth=0,this._pageHeight=0,this._mosaicRects={},this.pixelRatio=1,(t<=0||e<=0)&&console.error("Sprites mosaic defaultWidth and defaultHeight must be greater than zero!"),this._pageWidth=t,this._pageHeight=e,s>0&&(this._maxItemSize=s),this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_1__["default"](t-4,e-4)}dispose(){this._binPack=null,this._mosaicRects={};for(const t of this._textures)t&&t.dispose();this._textures.length=0}getWidth(t){return t>=this._size.length?-1:this._size[t][0]}getHeight(t){return t>=this._size.length?-1:this._size[t][1]}getPageSize(t){return t>=this._size.length?null:this._size[t]}setSpriteSource(t){if(this.dispose(),this.pixelRatio=t.devicePixelRatio,0===this._mosaicsData.length){this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_1__["default"](this._pageWidth-4,this._pageHeight-4);const t=Math.floor(this._pageWidth),e=Math.floor(this._pageHeight),s=new Uint32Array(t*e);this._mosaicsData[0]=s,this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0)}this._sprites=t}getSpriteItem(t,i=!1){let e,s,h=this._mosaicRects[t];if(h)return h;if(!this._sprites||"loaded"!==this._sprites.loadStatus)return null;if(t&&t.startsWith(r)?([e,s]=this._rasterizeDash(t),i=!0):e=this._sprites.getSpriteInfo(t),!e||!e.width||!e.height||e.width<0||e.height<0)return null;const a=e.width,o=e.height,[n,_,g]=this._allocateImage(a,o);return n.width<=0?null:(this._copy(n,e,_,g,i,s),h={rect:n,width:a,height:o,sdf:e.sdf,simplePattern:!1,pixelRatio:e.pixelRatio,page:_},this._mosaicRects[t]=h,h)}getSpriteItems(t){const i={};for(const e of t)i[e.name]=this.getSpriteItem(e.name,e.repeat);return i}getMosaicItemPosition(t,i){const e=this.getSpriteItem(t,i),s=e&&e.rect;if(!s)return null;s.width=e.width,s.height=e.height;const h=e.width,a=e.height,r=2;return{tl:[s.x+r,s.y+r],br:[s.x+r+h,s.y+r+a],page:e.page}}bind(t,i,e=0,r=0){if(e>=this._size.length||e>=this._mosaicsData.length)return;if(!this._textures[e]){const i=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_5__.TextureDescriptor;i.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureWrapMode.CLAMP_TO_EDGE,i.width=this._size[e][0],i.height=this._size[e][1],this._textures[e]=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_4__.Texture(t,i,new Uint8Array(this._mosaicsData[e].buffer))}const o=this._textures[e];o.setSamplingMode(i),this._dirties[e]&&o.setData(new Uint8Array(this._mosaicsData[e].buffer)),t.bindTexture(o,r),this._dirties[e]=!1}static _copyBits(t,i,e,s,h,a,r,o,n,_,g){let c=s*i+e,l=o*a+r;if(g){l-=a;for(let r=-1;r<=_;r++,c=((r+_)%_+s)*i+e,l+=a)for(let i=-1;i<=n;i++)h[l+i]=t[c+(i+n)%n]}else for(let p=0;p<_;p++){for(let i=0;i<n;i++)h[l+i]=t[c+i];c+=i,l+=a}}_copy(t,i,e,s,h,a){if(!this._sprites||"loaded"!==this._sprites.loadStatus||e>=this._mosaicsData.length)return;const r=new Uint32Array(a?a.buffer:this._sprites.image.buffer),n=this._mosaicsData[e];n&&r||console.error("Source or target images are uninitialized!");const _=2,g=a?i.width:this._sprites.width;o._copyBits(r,g,i.x,i.y,n,s[0],t.x+_,t.y+_,i.width,i.height,h),this._dirties[e]=!0}_allocateImage(t,s){t+=2,s+=2;const h=Math.max(t,s);if(this._maxItemSize&&this._maxItemSize<h){const i=new _webgl_Rect_js__WEBPACK_IMPORTED_MODULE_2__["default"](0,0,t,s);return this._mosaicsData.push(new Uint32Array(t*s)),this._dirties.push(!0),this._size.push([t,s]),this._textures.push(void 0),[i,this._mosaicsData.length-1,[t,s]]}let a=t%4?4-t%4:4,r=s%4?4-s%4:4;1===a&&(a=5),1===r&&(r=5);const o=this._binPack.allocate(t+a,s+r);return o.width<=0?(this._dirties[this._currentPage]||(this._mosaicsData[this._currentPage]=null),this._currentPage=this._mosaicsData.length,this._mosaicsData.push(new Uint32Array(this._pageWidth*this._pageHeight)),this._dirties.push(!0),this._size.push([this._pageWidth,this._pageHeight]),this._textures.push(void 0),this._binPack=new _RectangleBinPack_js__WEBPACK_IMPORTED_MODULE_1__["default"](this._pageWidth-4,this._pageHeight-4),this._allocateImage(t,s)):[o,this._currentPage,[this._pageWidth,this._pageHeight]]}_rasterizeDash(i){const e=/\[(.*?)\]/,s=i.match(e);if(!s)return null;const h=s[1].split(",").map(Number),a=i.slice(i.lastIndexOf("-")+1),[r,o,n]=(0,_symbols_cim_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_0__.rasterizeDash)(h,a);return[{x:0,y:0,width:o,height:n,sdf:!0,pixelRatio:1},new Uint8Array(r.buffer)]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TileHandler": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/workers/workers.js */ "./node_modules/@arcgis/core/core/workers/workers.js");
/* harmony import */ var _GlyphMosaic_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GlyphMosaic.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphMosaic.js");
/* harmony import */ var _GlyphSource_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GlyphSource.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GlyphSource.js");
/* harmony import */ var _SpriteMosaic_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SpriteMosaic.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/SpriteMosaic.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class h{constructor(t,e,s){this._layer=t,this._styleRepository=e,this.devicePixelRatio=s,this._spriteMosaic=null,this._glyphMosaic=null,this._connection=null,this._spriteSourceAbortController=null,this._startOptionsInputSignal=null,this._inputSignalEventListener=null}destroy(){this._connection?.close(),this._connection=null,this._styleRepository=null,this._layer=null,this._spriteMosaic=null,this._glyphMosaic=null,this._spriteSourceAbortController=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.abortMaybe)(this._spriteSourceAbortController),this._spriteSourcePromise=null,this._inputSignalEventListener&&this._startOptionsInputSignal?.removeEventListener("abort",this._inputSignalEventListener),this._startOptionsInputSignal=null,this._inputSignalEventListener=null}get spriteMosaic(){return this._spriteSourcePromise.then((()=>this._spriteMosaic))}get glyphMosaic(){return this._glyphMosaic}async start(t){this._requestSprite(t);const s=this._layer.currentStyleInfo.glyphsUrl,r=new _GlyphSource_js__WEBPACK_IMPORTED_MODULE_5__["default"](s?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.addQueryParameters)(s,{...this._layer.customParameters,token:this._layer.apiKey}):null);this._glyphMosaic=new _GlyphMosaic_js__WEBPACK_IMPORTED_MODULE_4__["default"](1024,1024,r),this._broadcastPromise=(0,_core_workers_workers_js__WEBPACK_IMPORTED_MODULE_3__.open)("WorkerTileHandler",{client:this,schedule:t.schedule,signal:t.signal}).then((s=>{if(this._layer&&(this._connection?.close(),this._connection=s,this._layer&&!this._connection.closed)){const r=s.broadcast("setStyle",this._layer.currentStyleInfo.style,t);Promise.all(r).catch((t=>(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfNotAbortError)(t)))}}))}_requestSprite(t){this._spriteSourceAbortController?.abort();const e=new AbortController;this._spriteSourceAbortController=e;const r=t?.signal;this._inputSignalEventListener&&this._startOptionsInputSignal?.removeEventListener("abort",this._inputSignalEventListener),this._startOptionsInputSignal=null,r&&(this._inputSignalEventListener=p(e),r.addEventListener("abort",this._inputSignalEventListener,{once:!0}));const{signal:i}=e,o={...t,signal:i};this._spriteSourcePromise=this._layer.loadSpriteSource(this.devicePixelRatio,o),this._spriteSourcePromise.then((t=>{(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAbortError)(i),this._spriteMosaic=new _SpriteMosaic_js__WEBPACK_IMPORTED_MODULE_6__["default"](1024,1024,250),this._spriteMosaic.setSpriteSource(t)}))}async updateStyle(t){return await this._broadcastPromise,this._broadcastPromise=Promise.all(this._connection.broadcast("updateStyle",t)),this._broadcastPromise}setSpriteSource(t){const e=new _SpriteMosaic_js__WEBPACK_IMPORTED_MODULE_6__["default"](1024,1024,250);return e.setSpriteSource(t),this._spriteMosaic=e,this._spriteSourcePromise=Promise.resolve(t),this._spriteSourceAbortController=null,e}async setStyle(t,e){await this._broadcastPromise,this._styleRepository=t,this._requestSprite();const s=new _GlyphSource_js__WEBPACK_IMPORTED_MODULE_5__["default"](this._layer.currentStyleInfo.glyphsUrl?(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.addQueryParameters)(this._layer.currentStyleInfo.glyphsUrl,{...this._layer.customParameters,token:this._layer.apiKey}):null);return this._glyphMosaic=new _GlyphMosaic_js__WEBPACK_IMPORTED_MODULE_4__["default"](1024,1024,s),this._broadcastPromise=Promise.all(this._connection.broadcast("setStyle",e)),this._broadcastPromise}fetchTileData(t,e){return this._getRefKeys(t,e).then((t=>{const s=this._layer.sourceNameToSource,r=[];for(const e in s)r.push(e);return this._getSourcesData(r,t,e)}))}parseTileData(t,e){const s=t&&t.data;if(!s)return Promise.resolve(null);const{sourceName2DataAndRefKey:r,transferList:i}=s;return 0===Object.keys(r).length?Promise.resolve(null):this._broadcastPromise.then((()=>this._connection.invoke("createTileAndParse",{key:t.key.id,sourceName2DataAndRefKey:r,styleLayerUIDs:t.styleLayerUIDs},{...e,transferList:i})))}async getSprites(t){return await this._spriteSourcePromise,this._spriteMosaic.getSpriteItems(t)}getGlyphs(t){return this._glyphMosaic.getGlyphItems(t.font,t.codePoints)}async _getTilePayload(t,e,s){const i=_tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_7__["default"].pool.acquire(t.id),o=this._layer.sourceNameToSource[e],{level:n,row:l,col:a}=i;_tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_7__["default"].pool.release(i);try{return{protobuff:await o.requestTile(n,l,a,s),sourceName:e}}catch(c){if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isAbortError)(c))throw c;return{protobuff:null,sourceName:e}}}_getRefKeys(t,e){const s=this._layer.sourceNameToSource,r=new Array;for(const i in s){const o=s[i].getRefKey(t,e);r.push(o)}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.eachAlways)(r)}_getSourcesData(t,e,s){const r=[];for(let i=0;i<e.length;i++)if(null==e[i].value||null==t[i])r.push(null);else{const o=this._getTilePayload(e[i].value,t[i],s);r.push(o)}return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.eachAlways)(r).then((t=>{const s={},r=[];for(let i=0;i<t.length;i++){const o=t[i].value;if(o&&(o.protobuff&&o.protobuff.byteLength>0)){const t=e[i].value.id;s[o.sourceName]={refKey:t,protobuff:o.protobuff},r.push(o.protobuff)}}return{sourceName2DataAndRefKey:s,transferList:r}}))}}function p(t){return()=>t.abort()}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TileManager": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../tiling/TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const l=512,s=1e-6,r=(e,i)=>e+1/(1<<2*i);class o{constructor(i,t){this._tiles=new Map,this._tileCache=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_0__.LRUCache(40,(e=>e.dispose())),this._viewSize=[0,0],this._visibleTiles=new Map,this.acquireTile=i.acquireTile,this.releaseTile=i.releaseTile,this.tileInfoView=i.tileInfoView,this._container=t}destroy(){for(const[e,i]of this._tiles)i.dispose();this._tiles=null,this._tileCache.clear(),this._tileCache=null}update(e){this._updateCacheSize(e);const l=this.tileInfoView,s=l.getTileCoverage(e.state,0,!0,"smallest"),{spans:r,lodInfo:o}=s,{level:n}=o,a=this._tiles,c=new Set,h=new Set;for(const{row:i,colFrom:_,colTo:f}of r)for(let e=_;e<=f;e++){const l=_tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].getId(n,i,o.normalizeCol(e),o.getWorldForColumn(e)),s=this._getOrAcquireTile(l);c.add(l),s.processed()?this._addToContainer(s):h.add(new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"](l))}for(const[i,t]of a)t.isCoverage=c.has(i);for(const i of h)this._findPlaceholdersForMissingTiles(i,c);let d=!1;for(const[i,t]of a)t.neededForCoverage=c.has(i),t.neededForCoverage||t.isHoldingForFade&&l.intersects(s,t.key)&&c.add(i),t.isFading&&(d=!0);for(const[i,t]of this._tiles)c.has(i)||this._releaseTile(i);return _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_1__["default"].pool.release(s),!d}clear(){this._tiles.clear(),this._tileCache.clear(),this._visibleTiles.clear()}clearCache(){this._tileCache.clear()}_findPlaceholdersForMissingTiles(e,i){const t=[];for(const[s,r]of this._tiles)this._addPlaceholderChild(t,r,e,i);const l=t.reduce(r,0);Math.abs(1-l)<s||this._addPlaceholderParent(e.id,i)}_addPlaceholderChild(e,i,t,l){i.key.level<=t.level||!i.hasData()||a(t,i.key)&&(this._addToContainer(i),l.add(i.id),e.push(i.key.level-t.level))}_addPlaceholderParent(e,i){const t=this._tiles;let l=e;for(;;){if(l=n(l),!l||i.has(l))return;const e=t.get(l);if(e&&e.hasData())return this._addToContainer(e),void i.add(e.id)}}_getOrAcquireTile(e){let i=this._tiles.get(e);return i||(i=this._tileCache.pop(e),i||(i=this.acquireTile(new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"](e))),this._tiles.set(e,i),i)}_releaseTile(e){const i=this._tiles.get(e);this.releaseTile(i),this._removeFromContainer(i),this._tiles.delete(e),i.hasData()?this._tileCache.put(e,i,1):i.dispose()}_addToContainer(e){let i;const t=[],l=this._container;if(l.contains(e))return;const s=this._visibleTiles;for(const[r,o]of s)this._canConnectDirectly(e,o)&&t.push(o),null==i&&this._canConnectDirectly(o,e)&&(i=o);if(null!=i){for(const l of t)i.childrenTiles.delete(l),e.childrenTiles.add(l),l.parentTile=e;i.childrenTiles.add(e),e.parentTile=i}else for(const r of t)e.childrenTiles.add(r),r.parentTile=e;s.set(e.id,e),l.addChild(e)}_removeFromContainer(e){if(this._visibleTiles.delete(e.id),this._container.removeChild(e),null!=e.parentTile){e.parentTile.childrenTiles.delete(e);for(const i of e.childrenTiles)null!=e.parentTile&&e.parentTile.childrenTiles.add(i)}for(const i of e.childrenTiles)i.parentTile=e.parentTile;e.parentTile=null,e.childrenTiles.clear()}_canConnectDirectly(e,i){const t=e.key;let{level:l,row:s,col:r,world:o}=i.key;const n=this._visibleTiles;for(;l>0;){if(l--,s>>=1,r>>=1,t.level===l&&t.row===s&&t.col===r&&t.world===o)return!0;if(n.has(`${l}/${s}/${r}/${o}`))return!1}return!1}_updateCacheSize(e){const i=e.state.size;if(i[0]===this._viewSize[0]&&i[1]===this._viewSize[1])return;const t=Math.ceil(i[0]/l)+1,s=Math.ceil(i[1]/l)+1;this._viewSize[0]=i[0],this._viewSize[1]=i[1],this._tileCache.maxSize=5*t*s}}function n(e){const[i,t,l,s]=e.split("/"),r=parseInt(i,10);return 0===r?null:`${r-1}/${parseInt(t,10)>>1}/${parseInt(l,10)>>1}/${parseInt(s,10)}`}function a(e,i){const t=i.level-e.level;return e.row===i.row>>t&&e.col===i.col>>t&&e.world===i.world}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTile.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTile.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VectorTile": () => (/* binding */ d),
/* harmony export */   "printAllocations": () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ "./node_modules/@arcgis/core/chunks/mat3.js");
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/enums.js");
/* harmony import */ var _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RenderBucket.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/RenderBucket.js");
/* harmony import */ var _decluttering_config_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./decluttering/config.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/config.js");
/* harmony import */ var _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../webgl/TiledDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class d extends _webgl_TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_6__.TiledDisplayObject{constructor(e,t,s,a,r,i,o,h=null){super(e,t,s,a,r,i,4096,4096),this.styleRepository=o,this._memCache=h,this.type="vector-tile",this._referenced=0,this._hasSymbolBuckets=!1,this._memoryUsedByLayerData=0,this.layerData=new Map,this.layerCount=0,this.status="loading",this.allSymbolsFadingOut=!1,this.lastOpacityUpdate=0,this.symbols=new Map,this.isCoverage=!1,this.neededForCoverage=!1,this.decluttered=!1,this.invalidating=!1,this.parentTile=null,this.childrenTiles=new Set,this._processed=!1,this._referenced=1,this.id=e.id}get hasSymbolBuckets(){return this._hasSymbolBuckets}get isFading(){return this._hasSymbolBuckets&&performance.now()-this.lastOpacityUpdate<_decluttering_config_js__WEBPACK_IMPORTED_MODULE_5__.FADE_DURATION}get isHoldingForFade(){return this._hasSymbolBuckets&&(!this.allSymbolsFadingOut||performance.now()-this.lastOpacityUpdate<_decluttering_config_js__WEBPACK_IMPORTED_MODULE_5__.FADE_DURATION)}get wasRequested(){return"errored"===this.status||"loaded"===this.status||"reloading"===this.status}setData(e){this.changeDataImpl(e),this.requestRender(),this.ready(),this.invalidating=!1,this._processed=!0}deleteLayerData(e){let t=!1;for(const s of e)if(this.layerData.has(s)){const e=this.layerData.get(s);this._memoryUsedByLayerData-=e.memoryUsed,e.type===_enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.SYMBOL&&this.symbols.has(s)&&(this.symbols.delete(s),t=!0),e.destroy(),this.layerData.delete(s),this.layerCount--}this._memCache?.updateSize(this.key.id,this,this._memoryUsedByLayerData),t&&this.emit("symbols-changed"),this.requestRender()}processed(){return this._processed}hasData(){return this.layerCount>0}dispose(){"unloaded"!==this.status&&(m.delete(this),d._destroyRenderBuckets(this.layerData),this.layerData=null,this.layerCount=0,this._memoryUsedByLayerData=0,this.destroy(),this.status="unloaded")}release(){return 0==--this._referenced&&(this.dispose(),this.stage=null,!0)}retain(){++this._referenced}get referenced(){return this._referenced}get memoryUsed(){return this._memoryUsedByLayerData+256}changeDataImpl(e){let t=!1;if(e){const{bucketsWithData:s,emptyBuckets:a}=e,r=this._createRenderBuckets(s);if(a&&a.byteLength>0){const e=new Uint32Array(a);for(const t of e)this._deleteLayerData(t)}for(const[e,o]of r)this._deleteLayerData(e),o.type===_enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.SYMBOL&&(this.symbols.set(e,o.symbols),t=!0),this._memoryUsedByLayerData+=o.memoryUsed,this.layerData.set(e,o),this.layerCount++;this._memCache?.updateSize(this.key.id,this,this.memoryUsed)}this._hasSymbolBuckets=!1;for(const[s,a]of this.layerData)a.type===_enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.SYMBOL&&(this._hasSymbolBuckets=!0);t&&this.emit("symbols-changed")}attachWithContext(e){this.stage={context:e,trashDisplayObject(e){e.processDetach()},untrashDisplayObject:()=>!1}}setTransform(r){super.setTransform(r);const i=this.resolution/(r.resolution*r.pixelRatio),o=this.width/this.rangeX*i,h=this.height/this.rangeY*i,n=[0,0];r.toScreen(n,[this.x,this.y]);const l=this.transforms.tileUnitsToPixels;(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.g)(l),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.h)(l,l,n),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.r)(l,l,Math.PI*r.rotation/180),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.d)(l,l,[o,h,1])}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)(),tileMat3:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)(),tileUnitsToPixels:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}static _destroyRenderBuckets(e){if(!e)return;const t=new Set;e.forEach((e=>{t.has(e)||(e.destroy(),t.add(e))})),e.clear()}_createRenderBuckets(e){const t=new Map,s=new Map;for(const a of e){const e=this._deserializeBucket(a,s);for(const s of e.layerUIDs)t.set(s,e)}return t}_deserializeBucket(e,t){let s=t.get(e);if(s)return s;switch(new Uint32Array(e)[0]){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.FILL:s=new _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__.FillRenderBucket(e,this.styleRepository);break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.LINE:s=new _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__.LineRenderBucket(e,this.styleRepository);break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.SYMBOL:s=new _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__.SymbolRenderBucket(e,this.styleRepository,this);break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.BucketType.CIRCLE:s=new _RenderBucket_js__WEBPACK_IMPORTED_MODULE_4__.CircleRenderBucket(e,this.styleRepository)}return t.set(e,s),s}_deleteLayerData(e){if(!this.layerData.has(e))return;const t=this.layerData.get(e);this._memoryUsedByLayerData-=t.memoryUsed,t.destroy(),this.layerData.delete(e),this.layerCount--}}const m=new Map;function u(){m.forEach(((e,t)=>{console.log(`\n${t.key}:`),e[0].forEach((e=>console.log(e))),console.log("========"),e[1].forEach((e=>console.log(e)))}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VectorTileContainer": () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _decluttering_SymbolFader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./decluttering/SymbolFader.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js");
/* harmony import */ var _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _webgl_RenderableTile_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webgl/RenderableTile.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/RenderableTile.js");
/* harmony import */ var _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../webgl/TileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js");
/* harmony import */ var _tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../tiling/TileCoverage.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileCoverage.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const y=1e-6;function p(e,t){if(e){const s=e.getLayoutProperty("visibility");if(!s||s.getValue()!==_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.Visibility.NONE&&(void 0===e.minzoom||e.minzoom<t+y)&&(void 0===e.maxzoom||e.maxzoom>=t-y))return!0}return!1}class m extends _webgl_TileContainer_js__WEBPACK_IMPORTED_MODULE_6__["default"]{constructor(e){super(e),this._backgroundTiles=[],this._pointToCallbacks=new Map}destroy(){this.removeAllChildren(),this._spriteMosaic?.dispose(),this._spriteMosaic=null,this._glyphMosaic?.dispose(),this._glyphMosaic=null,null!=this._symbolFader&&(this._symbolFader.clear(),this._symbolFader=null),this._styleRepository=null,this._backgroundTiles=[],this._pointToCallbacks.clear()}setStyleResources(e,t,r){if(this._spriteMosaic=e,this._glyphMosaic=t,this._styleRepository=r,null==this._symbolFader){const e=new _decluttering_SymbolFader_js__WEBPACK_IMPORTED_MODULE_2__.SymbolFader(this._styleRepository,this.children);e.on("fade-start",(()=>{this.emit("fade-start"),this.requestRender()})),e.on("fade-complete",(()=>{this.emit("fade-complete"),this.requestRender()})),this._symbolFader=e}this._symbolFader.styleRepository=r}setSpriteMosaic(e){this._spriteMosaic?.dispose(),this._spriteMosaic=e}deleteStyleLayers(e){null!=this._symbolFader&&this._symbolFader.deleteStyleLayers(e)}async hitTest(t){const s=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__.createResolver)();return this._pointToCallbacks.set(t,s),this.requestRender(),s.promise}enterTileInvalidation(){for(const e of this.children)e.invalidating=!0}createRenderParams(e){return{...super.createRenderParams(e),renderPass:null,styleLayer:null,styleLayerUID:-1,glyphMosaic:this._glyphMosaic,spriteMosaic:this._spriteMosaic,hasClipping:!!this._clippingInfos}}doRender(e){!this.visible||e.drawPhase!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.MAP&&e.drawPhase!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.DEBUG||void 0===this._spriteMosaic||super.doRender(e)}addChild(e){return super.addChild(e),null!=this._symbolFader?this._symbolFader.addTile(e):e.decluttered=!0,this.requestRender(),e}removeChild(e){return null!=this._symbolFader&&this._symbolFader.removeTile(e),this.requestRender(),super.removeChild(e)}renderChildren(e){const{drawPhase:t}=e;if(t!==_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.DEBUG){if(this._doRender(e),this._pointToCallbacks.size>0){e.drawPhase=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.HITTEST;const s=e.painter.effects.hittestVTL;s.bind(e),this._doRender(e),s.draw(e,this._pointToCallbacks),s.unbind(e),e.drawPhase=t}}else super.renderChildren(e)}removeAllChildren(){for(let e=0;e<this.children.length;e++){const t=this.children[e];null!=this._symbolFader&&this._symbolFader.removeTile(t),t.dispose()}super.removeAllChildren()}getStencilTarget(){return this.children.filter((e=>e.neededForCoverage&&e.hasData()))}restartDeclutter(){null!=this._symbolFader&&this._symbolFader.restartDeclutter()}_doRender(e){const{context:t}=e,s=this._styleRepository;if(!s)return;const r=s.layers;let i=!0;e.drawPhase===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.HITTEST&&(i=!1),s.backgroundBucketIds.length>0&&(e.renderPass="background",this._renderBackgroundLayers(e,s.backgroundBucketIds)),super.renderChildren(e),e.drawPhase===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.MAP&&this._fade(e.displayLevel,e.state);const o=this.children.filter((e=>e.visible&&e.hasData()));if(!o||0===o.length)return t.bindVAO(),t.setStencilTestEnabled(!0),void t.setBlendingEnabled(!0);for(const l of o)l.triangleCount=0;t.setStencilWriteMask(0),t.setColorMask(!0,!0,!0,!0),t.setStencilOp(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.StencilOperation.KEEP,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.StencilOperation.KEEP,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.StencilOperation.REPLACE),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!1),t.setDepthTestEnabled(!0),t.setDepthWriteEnabled(!0),t.setDepthFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.CompareFunction.LEQUAL),t.setClearDepth(1),t.clear(t.gl.DEPTH_BUFFER_BIT),e.renderPass="opaque";for(let l=r.length-1;l>=0;l--)this._renderStyleLayer(r[l],e,o);t.setDepthWriteEnabled(!1),t.setBlendingEnabled(i),t.setBlendFunctionSeparate(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE_MINUS_SRC_ALPHA,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE_MINUS_SRC_ALPHA),e.renderPass="translucent";for(let l=0;l<r.length;l++)this._renderStyleLayer(r[l],e,o);t.bindVAO(),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!0)}_fade(e,t){null!=this._symbolFader&&(this._symbolFader.update(e,t)||this.requestRender())}_renderStyleLayer(e,t,s){const{painter:l,renderPass:o}=t;if(void 0===e)return;const n=e.getLayoutProperty("visibility");if(n&&n.getValue()===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.Visibility.NONE)return;let a;switch(e.type){case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.StyleLayerType.BACKGROUND:return;case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.StyleLayerType.FILL:if("opaque"!==o&&"translucent"!==t.renderPass)return;a="vtlFill";break;case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.StyleLayerType.LINE:if("translucent"!==o)return;a="vtlLine";break;case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.StyleLayerType.CIRCLE:if("translucent"!==o)return;a="vtlCircle";break;case _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.StyleLayerType.SYMBOL:if("translucent"!==o)return;a="vtlSymbol"}if(s=e.type===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.StyleLayerType.SYMBOL?s.filter((e=>e.decluttered)):s.filter((e=>e.neededForCoverage)),"vtlSymbol"!==a){const r=t.displayLevel;if(0===s.length||void 0!==e.minzoom&&e.minzoom>=r+y||void 0!==e.maxzoom&&e.maxzoom<r-y)return}const d=e.uid;t.styleLayerUID=d,t.styleLayer=e;for(const r of s)if(r.layerData.has(d)){l.renderObjects(t,s,a);break}}_renderBackgroundLayers(e,s){const{context:r,displayLevel:n,painter:u,state:y}=e,m=this._styleRepository;let f=!1;for(const t of s){if(m.getLayerById(t).type===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.StyleLayerType.BACKGROUND&&p(m.getLayerById(t),n)){f=!0;break}}if(!f)return;const _=this._tileInfoView.getTileCoverage(e.state,0,!0,"smallest"),{spans:b,lodInfo:g}=_,{level:T}=g,E=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)(),C=[];if(this._renderPasses){const t=this._renderPasses[0];null!=this._clippingInfos&&(t.brushes[0].prepareState(e),t.brushes[0].drawMany(e,this._clippingInfos))}const L=this._backgroundTiles;let v,R=0;for(const{row:i,colFrom:l,colTo:a}of b)for(let e=l;e<=a;e++){if(R<L.length)v=L[R],v.key.set(T,i,g.normalizeCol(e),g.getWorldForColumn(e)),this._tileInfoView.getTileBounds(E,v.key,!1),v.x=E[0],v.y=E[3],v.resolution=this._tileInfoView.getTileResolution(T);else{const s=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_8__["default"](T,i,g.normalizeCol(e),g.getWorldForColumn(e)),r=this._tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)(),s),l=this._tileInfoView.getTileResolution(T);v=new _webgl_RenderableTile_js__WEBPACK_IMPORTED_MODULE_5__.RenderableTile(s,l,r[0],r[3],512,512,4096,4096),L.push(v)}v.setTransform(y),C.push(v),R++}r.setStencilWriteMask(0),r.setColorMask(!0,!0,!0,!0),r.setStencilOp(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.StencilOperation.KEEP,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.StencilOperation.KEEP,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.StencilOperation.REPLACE),r.setStencilFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.CompareFunction.EQUAL,0,255);let S=!0;e.drawPhase===_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.WGLDrawPhase.HITTEST&&(S=!1),r.setStencilTestEnabled(S);for(const t of s){const s=m.getLayerById(t);s.type===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.StyleLayerType.BACKGROUND&&p(s,n)&&(e.styleLayerUID=s.uid,e.styleLayer=s,u.renderObjects(e,C,"vtlBackground"))}_tiling_TileCoverage_js__WEBPACK_IMPORTED_MODULE_7__["default"].pool.release(_)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SymbolDeclutterer": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/config.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(o,t){if(o.priority-t.priority)return o.priority-t.priority;const e=o.tile.key,i=t.tile.key;return e.world-i.world?e.world-i.world:e.level-i.level?e.level-i.level:e.row-i.row?e.row-i.row:e.col-i.col?e.col-i.col:o.xTile-t.xTile?o.xTile-t.xTile:o.yTile-t.yTile}class e{get running(){return this._running}constructor(o,t,e,i,s,n){this._visibleTiles=o,this._symbolRepository=t,this._createCollisionJob=e,this._assignTileSymbolsOpacity=i,this._symbolLayerSorter=s,this._isLayerVisible=n,this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}setScreenSize(o,t){this._screenWidth===o&&this._screenHeight===t||this.restart(),this._screenWidth=o,this._screenHeight=t}restart(){this._selectionJob=null,this._selectionJobCompleted=!1,this._collisionJob=null,this._collisionJobCompleted=!1,this._opacityJob=null,this._opacityJobCompleted=!1,this._running=!0}continue(o){if(this._selectionJob||(this._selectionJob=this._createSelectionJob()),!this._selectionJobCompleted){const t=performance.now();if(!this._selectionJob.work(o))return!1;if(this._selectionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-t))))return!1}if(this._collisionJob||(this._collisionJob=this._createCollisionJob(this._selectionJob.sortedSymbols,this._screenWidth,this._screenHeight)),!this._collisionJobCompleted){const t=performance.now();if(!this._collisionJob.work(o))return!1;if(this._collisionJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-t))))return!1}if(this._opacityJob||(this._opacityJob=this._createOpacityJob()),!this._opacityJobCompleted){const t=performance.now();if(!this._opacityJob.work(o))return!1;if(this._opacityJobCompleted=!0,0===(o=Math.max(0,o-(performance.now()-t))))return!1}return this._running=!1,!0}_createSelectionJob(){const o=this._symbolRepository.uniqueSymbols;for(let t=0;t<o.length;t++){const e=o[t];for(let o=0;o<e.uniqueSymbols.length;o++){const t=e.uniqueSymbols[o];for(const o of t.tileSymbols)o.selectedForRendering=!1}}const e=[];let i=0,s=0;const n=this._isLayerVisible;function r(r){let l;const c=performance.now();for(;s<o.length;s++,i=0){const t=o[s],h=t.styleLayerUID;if(!n(h)){e[s]||(e[s]={styleLayerUID:h,symbols:[]});continue}e[s]=e[s]||{styleLayerUID:h,symbols:[]};const a=e[s];for(;i<t.uniqueSymbols.length;i++){if(l=t.uniqueSymbols[i],i%100==99&&performance.now()-c>r)return!1;let o=null,e=!1,s=!1;for(const t of l.tileSymbols)if(!s||!e){const i=t.tile;(!o||i.isCoverage||i.neededForCoverage&&!e)&&(o=t,(i.neededForCoverage||i.isCoverage)&&(s=!0),i.isCoverage&&(e=!0))}if(o.selectedForRendering=!0,s){a.symbols.push(o),l.show=!0;for(const o of l.parts)o.show=!0}else l.show=!1}}for(const o of e)o.symbols.sort(t);return!0}const l=this._symbolLayerSorter;return{work:r,get sortedSymbols(){return e.sort(l)}}}_createOpacityJob(){const o=this._assignTileSymbolsOpacity,t=this._visibleTiles;let e=0;function s(t,e){const n=t.symbols;for(const[o,s]of n)i(s,e);o(t,e);for(const o of t.childrenTiles)s(o,e)}return{work(o){const i=performance.now();for(;e<t.length;e++){if(performance.now()-i>o)return!1;const n=t[e];if(null!=n.parentTile)continue;s(n,performance.now())}return!0}}}}function i(t,e){for(const i of t){const t=i.unique;for(const i of t.parts){const s=i.targetOpacity>.5?1:-1;i.startOpacity+=s*((e-i.startTime)/_config_js__WEBPACK_IMPORTED_MODULE_0__.FADE_DURATION),i.startOpacity=Math.min(Math.max(i.startOpacity,0),1),i.startTime=e,i.targetOpacity=t.show&&i.show?1:0}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolFader.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SymbolFader": () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/config.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/core.js");
/* harmony import */ var _jobs_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./jobs.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js");
/* harmony import */ var _SymbolDeclutterer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SymbolDeclutterer.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolDeclutterer.js");
/* harmony import */ var _SymbolRepository_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SymbolRepository.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js");
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js");
/* harmony import */ var _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const c=.5,n=1e-6;class _ extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"]{constructor(t,e){super(),this.styleRepository=t,this._tileToHandle=new Map,this._viewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._declutterViewState={scale:0,rotation:0,center:[0,0],size:[0,0]},this._completed=!1,this._symbolRepository=new _SymbolRepository_js__WEBPACK_IMPORTED_MODULE_5__.SymbolRepository(4096,e,(()=>new _core_js__WEBPACK_IMPORTED_MODULE_2__.VTLUniqueSymbol)),this._symbolDeclutterer=new _SymbolDeclutterer_js__WEBPACK_IMPORTED_MODULE_4__.SymbolDeclutterer(e,this._symbolRepository,((t,e,i)=>new _jobs_js__WEBPACK_IMPORTED_MODULE_3__.CollisionJob(t,e,i,this.styleRepository,this._zoom,this._viewState.rotation)),((t,e)=>{t.allSymbolsFadingOut=!0,t.lastOpacityUpdate=e,(0,_util_js__WEBPACK_IMPORTED_MODULE_6__.writeOpacityToBuffers)(t,e,!0),t.decluttered=!0,t.requestRender()}),((t,e)=>this.styleRepository.getStyleLayerByUID(t.styleLayerUID).z-this.styleRepository.getStyleLayerByUID(e.styleLayerUID).z),(t=>{const e=this.styleRepository.getStyleLayerByUID(t);if(this._zoom+n<e.minzoom||this._zoom-n>=e.maxzoom)return!1;const i=e.getLayoutProperty("visibility");return!i||i.getValue()!==_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_7__.Visibility.NONE}))}addTile(t){t.decluttered=!1,this._tileToHandle.set(t,t.on("symbols-changed",(()=>{this._symbolRepository.add(t),this.restartDeclutter()}))),this._symbolRepository.add(t),this.restartDeclutter()}removeTile(t){const e=this._tileToHandle.get(t);e&&(this._symbolRepository.removeTile(t),this.restartDeclutter(),e.remove(),this._tileToHandle.delete(t))}update(t,e){return this._zoom=t,this._viewState={scale:e.scale,rotation:e.rotation,center:[e.center[0],e.center[1]],size:[e.size[0],e.size[1]]},this._continueDeclutter(),this._completed}restartDeclutter(){this._completed=!1,this._symbolDeclutterer.restart(),this._notifyUnstable()}clear(){this._completed=!1,this._symbolRepository=null,this._symbolDeclutterer.restart(),this._tileToHandle.forEach((t=>t.remove())),this._tileToHandle.clear()}get stale(){return this._zoom!==this._declutterZoom||this._viewState.size[0]!==this._declutterViewState.size[0]||this._viewState.size[1]!==this._declutterViewState.size[1]||this._viewState.scale!==this._declutterViewState.scale||this._viewState.rotation!==this._declutterViewState.rotation}deleteStyleLayers(t){this._symbolRepository.deleteStyleLayers(t)}_continueDeclutter(){this._completed&&!this.stale||(this._symbolDeclutterer.running||(this._declutterZoom=this._zoom,this._declutterViewState.center[0]=this._viewState.center[0],this._declutterViewState.center[1]=this._viewState.center[1],this._declutterViewState.rotation=this._viewState.rotation,this._declutterViewState.scale=this._viewState.scale,this._declutterViewState.size[0]=this._viewState.size[0],this._declutterViewState.size[1]=this._viewState.size[1],this._symbolDeclutterer.restart()),this._symbolDeclutterer.setScreenSize(this._viewState.size[0],this._viewState.size[1]),this._completed=this._symbolDeclutterer.continue(_config_js__WEBPACK_IMPORTED_MODULE_1__.DECLUTTER_BUDGET),this._completed&&this._scheduleNotifyStable())}_scheduleNotifyStable(){null!=this._stableNotificationHandle&&clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=setTimeout((()=>{this._stableNotificationHandle=null,this.emit("fade-complete")}),(1+c)*_config_js__WEBPACK_IMPORTED_MODULE_1__.FADE_DURATION)}_notifyUnstable(){null!=this._stableNotificationHandle&&(clearTimeout(this._stableNotificationHandle),this._stableNotificationHandle=null),this.emit("fade-start")}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/SymbolRepository.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SymbolRepository": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const l=32,o=8,t=64;class i{constructor(e,s,l){this.tileCoordRange=e,this._visibleTiles=s,this._createUnique=l,this._tiles=new Map,this._uniqueSymbolsReferences=new Map}get uniqueSymbols(){return null==this._uniqueSymbolLayerArray&&(this._uniqueSymbolLayerArray=this._createUniqueSymbolLayerArray()),this._uniqueSymbolLayerArray}add(s,i){this._uniqueSymbolLayerArray=null;let n=this._tiles.get(s.id);n||(n={symbols:new Map},this._tiles.set(s.id,n));const r=new Map;if(i)for(const e of i)n.symbols.has(e)&&(r.set(e,n.symbols.get(e)),n.symbols.delete(e));else for(const[e,l]of s.layerData)n.symbols.has(e)&&(r.set(e,n.symbols.get(e)),n.symbols.delete(e));this._removeSymbols(r);const y=s.symbols,a=new Map;for(const[f,c]of y){let s=c.length;if(s>=l){let l=this.tileCoordRange;do{l/=2,s/=4}while(s>o&&l>t);const i=new _util_js__WEBPACK_IMPORTED_MODULE_0__.GridIndex(this.tileCoordRange,this.tileCoordRange,l);a.set(f,{flat:c,index:i}),n.symbols.set(f,{flat:c,index:i});for(const e of c)i.getCell(e.xTile,e.yTile).push(e)}else a.set(f,{flat:c}),n.symbols.set(f,{flat:c})}this._addSymbols(s.key,y)}deleteStyleLayers(e){this._uniqueSymbolLayerArray=null;for(const[s,l]of this._tiles){const o=new Map;for(const s of e)l.symbols.has(s)&&(o.set(s,l.symbols.get(s)),l.symbols.delete(s));this._removeSymbols(o),0===l.symbols.size&&this._tiles.delete(s)}}removeTile(e){this._uniqueSymbolLayerArray=null;const s=this._tiles.get(e.id);if(!s)return;const l=new Map;for(const[o,t]of e.symbols)s.symbols.has(o)&&(l.set(o,s.symbols.get(o)),s.symbols.delete(o));this._removeSymbols(l),0===s.symbols.size&&this._tiles.delete(e.id)}_removeSymbols(e){for(const[s,{flat:l}]of e)for(const e of l){const l=e.unique,o=l.tileSymbols,t=o.length-1;for(let s=0;s<t;s++)if(o[s]===e){o[s]=o[t];break}if(o.length=t,0===t){const e=this._uniqueSymbolsReferences.get(s);e.delete(l),0===e.size&&this._uniqueSymbolsReferences.delete(s)}e.unique=null}}_addSymbols(e,s){if(0===s.size)return;const l=this._visibleTiles;for(const o of l)o.parentTile||o.key.world!==e.world||o.key.level===e.level&&!o.key.equals(e)||this._matchSymbols(o,e,s);for(const[o,t]of s)for(const e of t)if(null==e.unique){const s=this._createUnique();e.unique=s,s.tileSymbols.push(e);let l=this._uniqueSymbolsReferences.get(o);l||(l=new Set,this._uniqueSymbolsReferences.set(o,l)),l.add(s)}}_matchSymbols(e,l,o){if(e.key.level>l.level){const s=e.key.level-l.level;if(e.key.row>>s!==l.row||e.key.col>>s!==l.col)return}if(l.level>e.key.level){const s=l.level-e.key.level;if(l.row>>s!==e.key.row||l.col>>s!==e.key.col)return}if(l.equals(e.key)){for(const s of e.childrenTiles)this._matchSymbols(s,l,o);return}const t=new Map;for(const[i,n]of o){const o=[];for(const t of n){const i=(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.tileCoordChange)(this.tileCoordRange,t.xTile,l.level,l.col,e.key.level,e.key.col),n=(0,_util_js__WEBPACK_IMPORTED_MODULE_0__.tileCoordChange)(this.tileCoordRange,t.yTile,l.level,l.row,e.key.level,e.key.row);i>=0&&i<this.tileCoordRange&&n>=0&&n<this.tileCoordRange&&o.push({symbol:t,xTransformed:i,yTransformed:n})}const r=[],y=e.key.level<l.level?1:1<<e.key.level-l.level,a=this._tiles.get(e.id).symbols.get(i);if(a){const e=a.flat;for(const s of o){let l,o=!1;const t=s.xTransformed,i=s.yTransformed;l=null!=a.index?a.index.getCell(t,i):e;const n=s.symbol,f=n.hash;for(const e of l)if(f===e.hash&&Math.abs(t-e.xTile)<=y&&Math.abs(i-e.yTile)<=y){const s=e.unique;n.unique=s,s.tileSymbols.push(n),o=!0;break}o||r.push(n)}}r.length>0&&t.set(i,r)}for(const s of e.childrenTiles)this._matchSymbols(s,l,t)}_createUniqueSymbolLayerArray(){const e=this._uniqueSymbolsReferences,s=new Array(e.size);let l,o=0;for(const[t,i]of e){const e=new Array(i.size);l=0;for(const s of i)e[l++]=s;s[o]={styleLayerUID:t,uniqueSymbols:e},o++}return s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/core.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/core.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VTLSymbol": () => (/* binding */ t),
/* harmony export */   "VTLUniqueSymbol": () => (/* binding */ s)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t){this.xTile=0,this.yTile=0,this.hash=0,this.priority=1,this.colliders=[],this.textVertexRanges=[],this.iconVertexRanges=[],this.tile=t}}class s{constructor(){this.tileSymbols=[],this.parts=[{startTime:0,startOpacity:0,targetOpacity:0,show:!1},{startTime:0,startOpacity:0,targetOpacity:0,show:!1}],this.show=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/jobs.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CollisionJob": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/config.js");
/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js");
/* harmony import */ var _style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i(e,t,n,o,i,l){const{iconRotationAlignment:a,textRotationAlignment:c,iconTranslate:h,iconTranslateAnchor:u,textTranslate:d,textTranslateAnchor:y}=o;let x=0;for(const g of e.colliders){const[e,o]=0===g.partIndex?h:d,m=0===g.partIndex?u:y,f=g.minLod<=l&&l<=g.maxLod;x+=f?0:1,g.enabled=f,g.xScreen=g.xTile*i[0]+g.yTile*i[3]+i[6],g.yScreen=g.xTile*i[1]+g.yTile*i[4]+i[7],m===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.TranslateAnchor.MAP?(g.xScreen+=n*e-t*o,g.yScreen+=t*e+n*o):(g.xScreen+=e,g.yScreen+=o),_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.VIEWPORT===(0===g.partIndex?a:c)?(g.dxScreen=g.dxPixels,g.dyScreen=g.dyPixels):(g.dxScreen=n*(g.dxPixels+g.width/2)-t*(g.dyPixels+g.height/2)-g.width/2,g.dyScreen=t*(g.dxPixels+g.width/2)+n*(g.dyPixels+g.height/2)-g.height/2)}e.colliders.length>0&&x===e.colliders.length&&(e.unique.show=!1)}class l{constructor(o,r,s,i,l,a){this._symbols=o,this._styleRepository=i,this._zoom=l,this._currentLayerCursor=0,this._currentSymbolCursor=0,this._styleProps=new Map,this._allNeededMatrices=new Map,this._gridIndex=new _util_js__WEBPACK_IMPORTED_MODULE_2__.GridIndex(r,s,_config_js__WEBPACK_IMPORTED_MODULE_1__.COLLISION_GRID_CELL_SIZE),this._si=Math.sin(Math.PI*a/180),this._co=Math.cos(Math.PI*a/180);for(const t of o)for(const n of t.symbols)this._allNeededMatrices.has(n.tile)||this._allNeededMatrices.set(n.tile,(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.a)(n.tile.transforms.tileUnitsToPixels))}work(e){const t=this._gridIndex;function n(e){const n=e.xScreen+e.dxScreen,o=e.yScreen+e.dyScreen,r=n+e.width,s=o+e.height,[i,l,a,c]=t.getCellSpan(n,o,r,s);for(let h=l;h<=c;h++)for(let e=i;e<=a;e++){const i=t.cells[h][e];for(const e of i){const t=e.xScreen+e.dxScreen,i=e.yScreen+e.dyScreen,l=t+e.width,a=i+e.height;if(!(r<t||n>l||s<i||o>a))return!0}}return!1}const o=performance.now();for(;this._currentLayerCursor<this._symbols.length;this._currentLayerCursor++,this._currentSymbolCursor=0){const t=this._symbols[this._currentLayerCursor],r=this._getProperties(t.styleLayerUID);for(;this._currentSymbolCursor<t.symbols.length;this._currentSymbolCursor++){if(this._currentSymbolCursor%100==99&&performance.now()-o>e)return!1;const s=t.symbols[this._currentSymbolCursor];if(!s.unique.show)continue;i(s,this._si,this._co,r,this._allNeededMatrices.get(s.tile),this._zoom);const l=s.unique;if(!l.show)continue;const{iconAllowOverlap:a,iconIgnorePlacement:c,textAllowOverlap:h,textIgnorePlacement:u}=r;for(const e of s.colliders){if(!e.enabled)continue;const t=l.parts[e.partIndex];if(!t.show)continue;!(e.partIndex?h:a)&&n(e)&&(e.hard?l.show=!1:t.show=!1)}if(l.show)for(const e of s.colliders){if(!e.enabled)continue;if(e.partIndex?u:c)continue;if(!l.parts[e.partIndex].show)continue;const t=e.xScreen+e.dxScreen,n=e.yScreen+e.dyScreen,o=t+e.width,r=n+e.height,[s,i,a,h]=this._gridIndex.getCellSpan(t,n,o,r);for(let l=i;l<=h;l++)for(let t=s;t<=a;t++){this._gridIndex.cells[l][t].push(e)}}}}return!0}_getProperties(e){const t=this._styleProps.get(e);if(t)return t;const n=this._zoom,s=this._styleRepository.getStyleLayerByUID(e),i=s.getLayoutValue("symbol-placement",n)!==_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.SymbolPlacement.POINT;let l=s.getLayoutValue("icon-rotation-alignment",n);l===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.AUTO&&(l=i?_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.MAP:_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.VIEWPORT);let a=s.getLayoutValue("text-rotation-alignment",n);a===_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.AUTO&&(a=i?_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.MAP:_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_3__.RotationAlignment.VIEWPORT);const c=s.getPaintValue("icon-translate",n),h=s.getPaintValue("icon-translate-anchor",n),u=s.getPaintValue("text-translate",n),d=s.getPaintValue("text-translate-anchor",n),y={iconAllowOverlap:s.getLayoutValue("icon-allow-overlap",n),iconIgnorePlacement:s.getLayoutValue("icon-ignore-placement",n),textAllowOverlap:s.getLayoutValue("text-allow-overlap",n),textIgnorePlacement:s.getLayoutValue("text-ignore-placement",n),iconRotationAlignment:l,textRotationAlignment:a,iconTranslateAnchor:h,iconTranslate:c,textTranslateAnchor:d,textTranslate:u};return this._styleProps.set(e,y),y}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/util.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridIndex": () => (/* binding */ o),
/* harmony export */   "deserializeSymbols": () => (/* binding */ l),
/* harmony export */   "tileCoordChange": () => (/* binding */ s),
/* harmony export */   "writeOpacityToBuffers": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/enums.js");
/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/decluttering/core.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function s(t,e,s,o,l,i){const r=s-l;if(r>=0)return(e>>r)+(o-(i<<r))*(t>>r);const n=-r;return e-(i-(o<<n))*(t>>n)<<n}class o{constructor(t,e,s){this._rows=Math.ceil(e/s),this._columns=Math.ceil(t/s),this._cellSize=s,this.cells=new Array(this._rows);for(let o=0;o<this._rows;o++){this.cells[o]=new Array(this._columns);for(let t=0;t<this._columns;t++)this.cells[o][t]=[]}}getCell(t,e){const s=Math.min(Math.max(Math.floor(e/this._cellSize),0),this._rows-1),o=Math.min(Math.max(Math.floor(t/this._cellSize),0),this._columns-1);return this.cells[s]&&this.cells[s][o]||null}getCellSpan(t,e,s,o){return[Math.min(Math.max(Math.floor(t/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(e/this._cellSize),0),this.rows-1),Math.min(Math.max(Math.floor(s/this._cellSize),0),this.columns-1),Math.min(Math.max(Math.floor(o/this._cellSize),0),this.rows-1)]}get cellSize(){return this._cellSize}get columns(){return this._columns}get rows(){return this._rows}}function l(t,s,o,l,i,r){const n=s[l++];for(let a=0;a<n;a++){const n=new _core_js__WEBPACK_IMPORTED_MODULE_1__.VTLSymbol(r);n.xTile=s[l++],n.yTile=s[l++],n.hash=s[l++],n.priority=s[l++];const a=s[l++];for(let t=0;t<a;t++){const t=s[l++],e=s[l++],i=s[l++],r=s[l++],a=!!s[l++],c=s[l++],h=o[l++],f=o[l++],u=s[l++],m=s[l++];n.colliders.push({xTile:t,yTile:e,dxPixels:i,dyPixels:r,hard:a,partIndex:c,width:u,height:m,minLod:h,maxLod:f})}const c=t[l++];for(let e=0;e<c;e++)n.textVertexRanges.push([t[l++],t[l++]]);const h=t[l++];for(let e=0;e<h;e++)n.iconVertexRanges.push([t[l++],t[l++]]);i.push(n)}return l}function i(t,e,s){for(const[o,l]of t.symbols)r(t,e,s,l,o)}function r(e,s,o,l,i){const r=e.layerData.get(i);if(r.type===_enums_js__WEBPACK_IMPORTED_MODULE_0__.BucketType.SYMBOL){for(const t of l){const s=t.unique;let l;if(t.selectedForRendering){const t=s.parts[0],i=t.startOpacity,r=t.targetOpacity;e.allSymbolsFadingOut=e.allSymbolsFadingOut&&0===r;const n=o?Math.floor(127*i)|r<<7:r?255:0;l=n<<24|n<<16|n<<8|n}else l=0;for(const[e,o]of t.iconVertexRanges)for(let t=e;t<e+o;t+=4)r.iconOpacity[t/4]=l;if(t.selectedForRendering){const t=s.parts[1],i=t.startOpacity,r=t.targetOpacity;e.allSymbolsFadingOut=e.allSymbolsFadingOut&&0===r;const n=o?Math.floor(127*i)|r<<7:r?255:0;l=n<<24|n<<16|n<<8|n}else l=0;for(const[e,o]of t.textVertexRanges)for(let t=e;t<e+o;t+=4)r.textOpacity[t/4]=l}r.lastOpacityUpdate=s,r.opacityChanged=!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/RenderableTile.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/RenderableTile.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderableTile": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TiledDisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t extends _TiledDisplayObject_js__WEBPACK_IMPORTED_MODULE_1__.TiledDisplayObject{_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)(),tileMat3:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_0__.c)()}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WGLContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/WGLContainer.js");
/* harmony import */ var _brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./brushes/WGLBrushInfo.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushInfo.js");
/* harmony import */ var _brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./brushes/WGLBrushStencil.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/brushes/WGLBrushStencil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends _WGLContainer_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:"stencil",brushes:[_brushes_WGLBrushStencil_js__WEBPACK_IMPORTED_MODULE_4__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.MAP|_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.HIGHLIGHT,target:()=>this.getStencilTarget()})),(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-tiles-debug")&&n.push(r.registerRenderPass({name:"tileInfo",brushes:[_brushes_WGLBrushInfo_js__WEBPACK_IMPORTED_MODULE_3__["default"]],drawPhase:_enums_js__WEBPACK_IMPORTED_MODULE_1__.WGLDrawPhase.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TiledDisplayObject": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ "./node_modules/@arcgis/core/chunks/mat3.js");
/* harmony import */ var _DisplayObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/* harmony import */ var _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../tiling/TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class r extends _DisplayObject_js__WEBPACK_IMPORTED_MODULE_1__.DisplayObject{constructor(t,s,i,r,h,o,n=h,a=o){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new _tiling_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"](t),this.resolution=s,this.x=i,this.y=r,this.width=h,this.height=o,this.rangeX=n,this.rangeY=a}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i){const e=this.resolution/(i.resolution*i.pixelRatio),r=this.transforms.tileMat3,[h,o]=i.toScreenNoRotation([0,0],[this.x,this.y]),n=this.width/this.rangeX*e,a=this.height/this.rangeY*e;(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.s)(r,n,0,0,0,a,0,h,o,1),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.m)(this.transforms.dvs,i.displayViewMat3,r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/VectorTileLayerView2D.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ L)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Graphic.js */ "./node_modules/@arcgis/core/Graphic.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/accessorSupport/diffUtils.js */ "./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../engine/vectorTiles/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/enums.js");
/* harmony import */ var _engine_vectorTiles_TileHandler_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../engine/vectorTiles/TileHandler.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileHandler.js");
/* harmony import */ var _engine_vectorTiles_TileManager_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../engine/vectorTiles/TileManager.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/TileManager.js");
/* harmony import */ var _engine_vectorTiles_VectorTile_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../engine/vectorTiles/VectorTile.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTile.js");
/* harmony import */ var _engine_vectorTiles_VectorTileContainer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../engine/vectorTiles/VectorTileContainer.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/VectorTileContainer.js");
/* harmony import */ var _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../engine/vectorTiles/style/StyleDefinition.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleDefinition.js");
/* harmony import */ var _engine_vectorTiles_style_StyleRepository_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../engine/vectorTiles/style/StyleRepository.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/style/StyleRepository.js");
/* harmony import */ var _LayerView2D_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./LayerView2D.js */ "./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js");
/* harmony import */ var _support_DebugOverlay_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./support/DebugOverlay.js */ "./node_modules/@arcgis/core/views/2d/layers/support/DebugOverlay.js");
/* harmony import */ var _tiling_TileInfoViewPOT_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../tiling/TileInfoViewPOT.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js");
/* harmony import */ var _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../tiling/TileQueue.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileQueue.js");
/* harmony import */ var _layers_LayerView_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../layers/LayerView.js */ "./node_modules/@arcgis/core/views/layers/LayerView.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let D=class extends((0,_LayerView2D_js__WEBPACK_IMPORTED_MODULE_20__.LayerView2DMixin)(_layers_LayerView_js__WEBPACK_IMPORTED_MODULE_24__["default"])){constructor(){super(...arguments),this._styleChanges=[],this._fetchQueue=null,this._parseQueue=null,this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._collisionOverlay=null,this.fading=!1,this._getCollidersMesh=e=>{const{pixelRatio:t}=e.state;let i=0;const s=[],r=[];for(const a of this._vectorTileContainer.children)if(a.symbols)for(const[e,l]of a.symbols)for(const a of l)for(const e of a.colliders){const l=(e.xScreen+e.dxScreen)*t,n=(e.yScreen+e.dyScreen)*t,o=e.width*t,h=e.height*t,u=a.unique.parts[e.partIndex].targetOpacity>.5;if(!u&&"all"!==this.layer.showCollisionBoxes)continue;const c=3,y=1,p=3,d=0,_=u?2:0,f=u?3:0,g=_support_DebugOverlay_js__WEBPACK_IMPORTED_MODULE_21__["default"].makeFlags(_,f);s.push(l,n,g,l+o,n,g,l,n+h,g,l+o,n+h,g),r.push(i,i+1,i+2,i+1,i+3,i+2),i+=4;const m=u?c:y,C=u?p:d,T=_support_DebugOverlay_js__WEBPACK_IMPORTED_MODULE_21__["default"].makeFlags(m,C);s.push(l,n,T,l+o,n,T,l,n+1,T,l+o,n+1,T),r.push(i,i+1,i+2,i+1,i+3,i+2),i+=4,s.push(l,n+h-1,T,l+o,n+h-1,T,l,n+h,T,l+o,n+h,T),r.push(i,i+1,i+2,i+1,i+3,i+2),i+=4,s.push(l,n,T,l+1,n,T,l,n+h,T,l+1,n+h,T),r.push(i,i+1,i+2,i+1,i+3,i+2),i+=4,s.push(l+o-1,n,T,l+o,n,T,l+o-1,n+h,T,l+o,n+h,T),r.push(i,i+1,i+2,i+1,i+3,i+2),i+=4}return{vertexData:new Int16Array(s),indexData:new Uint32Array(r)}},this._getCollidersColors=()=>[1,.5,0,1,1,0,0,1,0,1,.5,1,0,.5,0,1],this._getCollidersOpacities=()=>[.05,.01,.15,.2]}async hitTest(e,i){if(!this._tileHandlerPromise)return null;await this._tileHandlerPromise;const s=await this._vectorTileContainer.hitTest(i);if(!s||0===s.length)return null;const r=s[0]-1,a=this._styleRepository,l=a.getStyleLayerByUID(r);if(!l)return null;const n=a.getStyleLayerIndex(l.id);return[{type:"graphic",mapPoint:e,layer:this.layer,graphic:new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__["default"]({attributes:{layerId:n,layerName:l.id,layerUID:r},layer:this.layer,sourceLayer:this.layer})}]}update(e){if(this._tileHandlerPromise&&this._isTileHandlerReady)return e.pixelRatio!==this._tileHandler.devicePixelRatio?(this._start(),void(this._tileHandler.devicePixelRatio=e.pixelRatio)):void(this._styleChanges.length>0?this._tileHandlerPromise=this._applyStyleChanges():(this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.state=e.state,this._parseQueue.state=e.state,this._tileManager.update(e)||this.requestUpdate(),this._parseQueue.resume(),this._fetchQueue.resume()))}attach(){const{style:e}=this.layer.currentStyleInfo;this._styleRepository=new _engine_vectorTiles_style_StyleRepository_js__WEBPACK_IMPORTED_MODULE_19__["default"](e),this._tileInfoView=new _tiling_TileInfoViewPOT_js__WEBPACK_IMPORTED_MODULE_22__["default"](this.layer.tileInfo,this.layer.fullExtent),this._vectorTileContainer=new _engine_vectorTiles_VectorTileContainer_js__WEBPACK_IMPORTED_MODULE_17__.VectorTileContainer(this._tileInfoView),this._tileHandler=new _engine_vectorTiles_TileHandler_js__WEBPACK_IMPORTED_MODULE_14__.TileHandler(this.layer,this._styleRepository,window.devicePixelRatio||1),this.container.addChild(this._vectorTileContainer),this._start(),this.addAttachHandles([this._vectorTileContainer.on("fade-start",(()=>{this.fading=!0,this.notifyChange("updating"),this.requestUpdate()})),this._vectorTileContainer.on("fade-complete",(()=>{this._collisionOverlay?.requestRender(),this.fading=!1,this.notifyChange("updating"),this.requestUpdate()})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.layer.showCollisionBoxes),(e=>{"none"!==e?this._collisionOverlay||(this._collisionOverlay=new _support_DebugOverlay_js__WEBPACK_IMPORTED_MODULE_21__["default"]({getMesh:this._getCollidersMesh,getColors:this._getCollidersColors,getOpacities:this._getCollidersOpacities}),this.container.addChild(this._collisionOverlay)):this._collisionOverlay&&(this.container.removeChild(this._collisionOverlay),this._collisionOverlay=null),this.container.requestRender()}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.initial),this.layer.on("paint-change",(e=>{if(e.isDataDriven)this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.PAINTER_CHANGED,data:e}),this.notifyChange("updating"),this.requestUpdate();else{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;const s=i.type===_engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL;t.setPaintProperties(e.layer,e.paint),s&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender()}})),this.layer.on("layout-change",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);if(!i)return;const s=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__.diff)(i.layout,e.layout);if(null!=s){if((0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_10__.hasDiff)(s,"visibility")&&1===Q(s))return t.setLayoutProperties(e.layer,e.layout),i.type===_engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL&&this._vectorTileContainer.restartDeclutter(),void this._vectorTileContainer.requestRender();this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYOUT_CHANGED,data:e}),this.notifyChange("updating"),this.requestUpdate()}})),this.layer.on("style-layer-visibility-change",(e=>{const t=this._styleRepository,i=t.getLayerById(e.layer);i&&(t.setStyleLayerVisibility(e.layer,e.visibility),i.type===_engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL&&this._vectorTileContainer.restartDeclutter(),this._vectorTileContainer.requestRender())})),this.layer.on("style-layer-change",(e=>{this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_CHANGED,data:e}),this.notifyChange("updating"),this.requestUpdate()})),this.layer.on("delete-style-layer",(e=>{this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_REMOVED,data:e}),this.notifyChange("updating"),this.requestUpdate()})),this.layer.on("load-style",(()=>this._loadStyle())),this.layer.on("spriteSource-change",(e=>{this._newSpriteSource=e.spriteSource,this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.SPRITES_CHANGED,data:null});const t=this._styleRepository.layers;for(const i of t)switch(i.type){case _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.SYMBOL:i.getLayoutProperty("icon-image")&&this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYOUT_CHANGED,data:{layer:i.id,layout:i.layout}});break;case _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.LINE:i.getPaintProperty("line-pattern")&&this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.PAINTER_CHANGED,data:{layer:i.id,paint:i.paint,isDataDriven:i.isPainterDataDriven()}});break;case _engine_vectorTiles_style_StyleDefinition_js__WEBPACK_IMPORTED_MODULE_18__.StyleLayerType.FILL:i.getLayoutProperty("fill-pattern")&&this._styleChanges.push({type:_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.PAINTER_CHANGED,data:{layer:i.id,paint:i.paint,isDataDriven:i.isPainterDataDriven()}})}this.notifyChange("updating"),this.requestUpdate()}))])}detach(){this._stop(),this.container.removeAllChildren(),this._vectorTileContainer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._vectorTileContainer),this._tileHandler=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._tileHandler)}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this._collisionOverlay&&this._vectorTileContainer.restartDeclutter(),this.requestUpdate()}supportsSpatialReference(e){return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__.equals)(this.layer.tileInfo?.spatialReference,e)}canResume(){let e=super.canResume();const{currentStyleInfo:t}=this.layer;if(e&&t?.layerDefinition){const i=this.view.scale,{minScale:s,maxScale:r}=t.layerDefinition;t&&t.layerDefinition&&(s&&s<i&&(e=!1),r&&r>i&&(e=!1))}return e}isUpdating(){const e=this._vectorTileContainer.children;return!this._isTileHandlerReady||!this._fetchQueue||!this._parseQueue||this._fetchQueue.updating||this._parseQueue.updating||e.length>0&&e.some((e=>e.invalidating))||this.fading}acquireTile(e){const t=this._createVectorTile(e);return this._tileHandlerPromise?.then((()=>{this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e}))).then((e=>{t.once("attach",(()=>this.requestUpdate())),t.setData(e),this.requestUpdate(),this.notifyChange("updating")})).catch((e=>{this.notifyChange("updating"),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error(e)}))})),t}releaseTile(e){const t=e.key.id;this._fetchQueue.abort(t),this._parseQueue.abort(t),this.requestUpdate()}_start(){if(this._stop(),this._tileManager=new _engine_vectorTiles_TileManager_js__WEBPACK_IMPORTED_MODULE_15__.TileManager({acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView},this._vectorTileContainer),!this.layer.currentStyleInfo)return;const e=new AbortController,t=this._tileHandler.start({signal:e.signal}).then((()=>{this._fetchQueue=new _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_23__["default"]({tileInfoView:this._tileInfoView,process:(e,t)=>this._getTileData(e,t),concurrency:15}),this._parseQueue=new _tiling_TileQueue_js__WEBPACK_IMPORTED_MODULE_23__["default"]({tileInfoView:this._tileInfoView,process:(e,t)=>this._parseTileData(e,t),concurrency:8}),this.requestUpdate(),this._isTileHandlerReady=!0}));this._tileHandler.spriteMosaic.then((e=>{this._vectorTileContainer.setStyleResources(e,this._tileHandler.glyphMosaic,this._styleRepository),this.requestUpdate()})),this._tileHandlerAbortController=e,this._tileHandlerPromise=t}_stop(){if(!this._tileHandlerAbortController||!this._vectorTileContainer)return;const e=this._tileHandlerAbortController;e&&e.abort(),this._tileHandlerPromise=null,this._isTileHandlerReady=!1,this._fetchQueue=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._fetchQueue),this._parseQueue=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._parseQueue),this._tileManager=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._tileManager),this._vectorTileContainer.removeAllChildren()}async _getTileData(e,t){const i=await this._tileHandler.fetchTileData(e,t);return this.notifyChange("updating"),i}async _parseTileData(e,t){return this._tileHandler.parseTileData(e,t)}async _applyStyleChanges(){this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this._tileManager.clearCache();const e=this._styleChanges;try{await this._tileHandler.updateStyle(e)}catch(n){_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this).error("error applying vector-tiles style update",n.message),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0}const t=this._styleRepository,i=[];e.forEach((e=>{if(e.type!==_engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_REMOVED)return;const s=e.data,r=t.getLayerById(s.layer);r&&i.push(r.uid)}));const r=[];let a;e.forEach((e=>{const i=e.type,s=e.data;switch(i){case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.PAINTER_CHANGED:t.setPaintProperties(s.layer,s.paint),a=s.layer;break;case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYOUT_CHANGED:t.setLayoutProperties(s.layer,s.layout),a=s.layer;break;case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_REMOVED:return void t.deleteStyleLayer(s.layer);case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.LAYER_CHANGED:t.setStyleLayer(s.layer,s.index),a=s.layer.id;break;case _engine_vectorTiles_enums_js__WEBPACK_IMPORTED_MODULE_13__.StyleUpdateType.SPRITES_CHANGED:this._vectorTileContainer.setSpriteMosaic(this._tileHandler.setSpriteSource(this._newSpriteSource)),this._newSpriteSource=null,a=null}const l=t.getLayerById(a);l&&r.push(l.uid)}));const l=this._vectorTileContainer.children;if(i.length>0){this._vectorTileContainer.deleteStyleLayers(i);for(const e of l)e.deleteLayerData(i)}if(this._fetchQueue.resume(),this._parseQueue.resume(),r.length>0){const e=[];for(const t of l){const i=this._fetchQueue.push(t.key).then((e=>this._parseQueue.push({key:t.key,data:e,styleLayerUIDs:r}))).then((e=>t.setData(e)));e.push(i)}await Promise.all(e)}this._styleChanges=[],this._isTileHandlerReady=!0,this.notifyChange("updating"),this.requestUpdate()}async _loadStyle(){const{style:e}=this.layer.currentStyleInfo,t=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(e);this._isTileHandlerReady=!1,this._fetchQueue.pause(),this._parseQueue.pause(),this._fetchQueue.clear(),this._parseQueue.clear(),this.notifyChange("updating"),this._styleRepository=new _engine_vectorTiles_style_StyleRepository_js__WEBPACK_IMPORTED_MODULE_19__["default"](t),this._vectorTileContainer.destroy(),this._tileManager.clear(),this._tileHandlerAbortController.abort(),this._tileHandlerAbortController=new AbortController;const{signal:s}=this._tileHandlerAbortController;try{this._tileHandlerPromise=this._tileHandler.setStyle(this._styleRepository,t),await this._tileHandlerPromise}catch(l){if(!(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAbortError)(l))throw l}if(s.aborted)return this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange("updating"),void this.requestUpdate();const r=await this._tileHandler.spriteMosaic;this._vectorTileContainer.setStyleResources(r,this._tileHandler.glyphMosaic,this._styleRepository),this._fetchQueue.resume(),this._parseQueue.resume(),this._isTileHandlerReady=!0,this.notifyChange("updating"),this.requestUpdate()}_createVectorTile(e){const t=this._tileInfoView.getTileBounds((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.create)(),e),i=this._tileInfoView.getTileResolution(e.level);return new _engine_vectorTiles_VectorTile_js__WEBPACK_IMPORTED_MODULE_16__.VectorTile(e,i,t[0],t[3],512,512,this._styleRepository)}};function Q(e){if(null==e)return 0;switch(e.type){case"partial":return Object.keys(e.diff).length;case"complete":return Math.max(Object.keys(e.oldValue).length,Object.keys(e.newValue).length);case"collection":return Object.keys(e.added).length+Object.keys(e.changed).length+Object.keys(e.removed).length}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],D.prototype,"_fetchQueue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],D.prototype,"_parseQueue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],D.prototype,"_isTileHandlerReady",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],D.prototype,"fading",void 0),D=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.2d.layers.VectorTileLayerView2D")],D);const L=D;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/support/DebugOverlay.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/support/DebugOverlay.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat3.js */ "./node_modules/@arcgis/core/chunks/mat3.js");
/* harmony import */ var _chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat3f32.js */ "./node_modules/@arcgis/core/chunks/mat3f32.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_FramebufferObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _webgl_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../webgl/checkWebGLError.js */ "./node_modules/@arcgis/core/views/webgl/checkWebGLError.js");
/* harmony import */ var _webgl_contextUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../webgl/contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _chunks_builtins_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/builtins.js */ "./node_modules/@arcgis/core/chunks/builtins.js");
/* harmony import */ var _webgl_GLObjectType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/GLObjectType.js */ "./node_modules/@arcgis/core/views/webgl/GLObjectType.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/* harmony import */ var _engine_DisplayObject_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../engine/DisplayObject.js */ "./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u={geometry:[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_15__.VertexElementDescriptor("a_PositionAndFlags",3,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.DataType.SHORT,0,6)]},p=new Map;p.set("a_PositionAndFlags",0);const g={vsPath:"debug/overlay",fsPath:"debug/overlay",attributes:p};class l extends _engine_DisplayObject_js__WEBPACK_IMPORTED_MODULE_14__.DisplayObject{constructor(e){super(),this._conf=e}static makeFlags(e,t){return e|t<<2}_createTransforms(){return{dvs:(0,_chunks_mat3f32_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}doRender(e){this._updateTransforms(e),this._ensureResources(e);const{context:t}=e;t.useProgram(this._program),this._program.setUniformMatrix3fv("u_dvsMat3",this.transforms.dvs),this._program.setUniform4fv("u_colors",this._conf.getColors(e)),this._program.setUniform1fv("u_opacities",this._conf.getOpacities(e));const{vertexData:r,indexData:s}=this._conf.getMesh(e);this._vertexBuffer.setData(r),this._indexBuffer.setData(s),t.bindVAO(this._vertexArray),t.setBlendingEnabled(!0),t.setBlendFunction(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.BlendFactor.ONE_MINUS_SRC_ALPHA),t.setDepthTestEnabled(!1),t.setStencilTestEnabled(!1),t.setColorMask(!0,!0,!0,!0),t.drawElements(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.PrimitiveType.TRIANGLES,s.length,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.DataType.UNSIGNED_INT,0)}onDetach(){this._vertexArray=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._vertexArray)}_updateTransforms(e){(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.transforms.dvs),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.h)(this.transforms.dvs,this.transforms.dvs,[-1,1]),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.d)(this.transforms.dvs,this.transforms.dvs,[2/e.state.size[0],-2/e.state.size[1],1])}_ensureResources(e){const{context:t}=e;this._program||(this._program=e.painter.materialManager.getProgram(g)),this._vertexBuffer||(this._vertexBuffer=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.Usage.STREAM_DRAW)),this._indexBuffer||(this._indexBuffer=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.Usage.STREAM_DRAW)),this._vertexArray||(this._vertexArray=new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_13__.VertexArrayObject(t,p,u,{geometry:this._vertexBuffer},this._indexBuffer))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/tiling/TileInfoViewPOT.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../layers/support/TileInfo.js */ "./node_modules/@arcgis/core/layers/support/TileInfo.js");
/* harmony import */ var _TileInfoView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TileInfoView.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileInfoView.js");
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TileKey.js */ "./node_modules/@arcgis/core/views/2d/tiling/TileKey.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t extends _TileInfoView_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(){super(...arguments),this._fullCacheLodInfos=null,this._levelByScale={}}getTileParentId(e){const l=_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].pool.acquire(e),t=0===l.level?null:_TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].getId(l.level-1,l.row>>1,l.col>>1,l.world);return _TileKey_js__WEBPACK_IMPORTED_MODULE_2__["default"].pool.release(l),t}getTileCoverage(e,l,s=!0,t){const o=super.getTileCoverage(e,l,s,t);if(!o)return o;const i=1<<o.lodInfo.level;return o.spans=o.spans.filter((e=>e.row>=0&&e.row<i)),o}scaleToLevel(e){if(this._fullCacheLodInfos||this._initializeFullCacheLODs(this._lodInfos),this._levelByScale[e])return this._levelByScale[e];{const l=this._fullCacheLodInfos;if(e>l[0].scale)return l[0].level;let s,t;for(let o=0;o<l.length-1;o++)if(t=l[o+1],e>t.scale)return s=l[o],s.level+(s.scale-e)/(s.scale-t.scale);return l[l.length-1].level}}_initializeFullCacheLODs(l){let s;if(0===l[0].level)s=l.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})));else{const l=this.tileInfo.size[0],t=this.tileInfo.spatialReference;s=_layers_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_0__["default"].create({size:l,spatialReference:t}).lods.map((e=>({level:e.level,resolution:e.resolution,scale:e.scale})))}for(let e=0;e<s.length;e++)this._levelByScale[s[e].scale]=s[e].level;this._fullCacheLodInfos=s}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvMDNmMjExZjljZTg3YjllNTljZWQ0M2I4MTlkMWNkNDIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQixjQUFjLDRCQUE0QixvQkFBb0IsZ0JBQWdCLGNBQWMsbUNBQW1DLFlBQVksSUFBSSxjQUFjLFNBQVMsZ0JBQWdCLCtCQUErQixhQUFhLFdBQVcsYUFBYSxrQkFBa0IsYUFBYSxrQkFBa0IsYUFBYSxrQkFBa0IsYUFBYSxrQkFBa0IsYUFBYSxrQkFBa0IsaUZBQWlGLHdLQUF3SyxxQkFBcUIsZUFBZSxHQUFvSTs7Ozs7Ozs7Ozs7Ozs7OztBQ0p0MEI7QUFDQTtBQUNBO0FBQ0E7QUFDZ0QsUUFBUSxpQkFBaUIsa0JBQWtCLHlEQUFDLG9JQUFvSSxVQUFVLHVEQUF1RCxhQUFhLGdDQUFnQyxPQUFPLGlDQUFpQyxPQUFPLGlDQUFpQyxRQUFRLHlCQUF5QixjQUFjLDZCQUE2QixlQUFlLHdCQUF3QixpQkFBdUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKeGpCO0FBQ0E7QUFDQTtBQUNBO0FBQ2dDLFdBQVcsTUFBTSxhQUFhLG9DQUFvQyxTQUFTLEdBQUcsUUFBUSxtQkFBbUIsc05BQXNOLFVBQVUsMElBQTBJLGNBQWMsd0NBQXdDLGNBQWMsMEJBQTBCLGVBQWUsdUJBQXVCLGVBQWUsZ0NBQWdDLE9BQU8sa0NBQWtDLDZDQUE2QyxPQUFPLGtDQUFrQyw2Q0FBNkMsa0JBQWtCLHFDQUFxQyxRQUFRLDBCQUEwQixXQUFXLHlCQUF5QixzQkFBc0IscUNBQXFDLGFBQWEsNEJBQTRCLFFBQVEsV0FBVyxrQkFBa0Isd0JBQXdCLDZGQUE2Rix1REFBQyxpQkFBaUIsdURBQUMsQ0FBQyxVQUFVLDRFQUE0RSxZQUFZLG9CQUFvQixjQUFjLCtCQUErQix3QkFBd0IsOEJBQThCLHdCQUF3QiwrQ0FBK0MsY0FBYyxxQkFBcUIsZUFBZSxvREFBb0QsZUFBZSxT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LGdCQUFnQiw4SEFBOEgsZ0NBQWdDLGtDQUFrQyxRQUFRLFlBQVksYUFBYSw4RUFBOEUsNEJBQTRCLDRCQUE0QixNQUFNLGdDQUFnQyxvREFBb0QsSUFBSSxLQUFLLCtEQUErRCxFQUFFLDBFQUFRLEVBQUUsMEJBQTBCLGlCQUFpQixvREFBb0QsSUFBSSxZQUFZLFdBQVcsOENBQThDLDJCQUFnRCIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NodW5rcy92ZWM0ZjY0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL2NvcmUvTFJVQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9NZW1DYWNoZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kaWZmVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9mbG9hdFJHQkEuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9wYmYuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvcmVuZGVyZXJzL3N1cHBvcnQvaGVhdG1hcFV0aWxzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3N5bWJvbHMvY2ltL3Jhc3Rlcml6aW5nVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3ZlY3RvclRpbGVzL0dseXBoTW9zYWljLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS92ZWN0b3JUaWxlcy9HbHlwaFNvdXJjZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvdmVjdG9yVGlsZXMvUmVjdGFuZ2xlQmluUGFjay5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvdmVjdG9yVGlsZXMvUmVuZGVyQnVja2V0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS92ZWN0b3JUaWxlcy9TcHJpdGVNb3NhaWMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3ZlY3RvclRpbGVzL1RpbGVIYW5kbGVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS92ZWN0b3JUaWxlcy9UaWxlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvdmVjdG9yVGlsZXMvVmVjdG9yVGlsZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvdmVjdG9yVGlsZXMvVmVjdG9yVGlsZUNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvdmVjdG9yVGlsZXMvZGVjbHV0dGVyaW5nL1N5bWJvbERlY2x1dHRlcmVyLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS92ZWN0b3JUaWxlcy9kZWNsdXR0ZXJpbmcvU3ltYm9sRmFkZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3ZlY3RvclRpbGVzL2RlY2x1dHRlcmluZy9TeW1ib2xSZXBvc2l0b3J5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS92ZWN0b3JUaWxlcy9kZWNsdXR0ZXJpbmcvY29yZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvdmVjdG9yVGlsZXMvZGVjbHV0dGVyaW5nL2pvYnMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3ZlY3RvclRpbGVzL2RlY2x1dHRlcmluZy91dGlsLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9SZWN0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2VuZ2luZS93ZWJnbC9SZW5kZXJhYmxlVGlsZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvVGlsZUNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9lbmdpbmUvd2ViZ2wvVGlsZWREaXNwbGF5T2JqZWN0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL2xheWVycy9WZWN0b3JUaWxlTGF5ZXJWaWV3MkQuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvbGF5ZXJzL3N1cHBvcnQvRGVidWdPdmVybGF5LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzLzJkL3RpbGluZy9UaWxlSW5mb1ZpZXdQT1QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIG4oKXtyZXR1cm5bMCwwLDAsMF19ZnVuY3Rpb24gdChuKXtyZXR1cm5bblswXSxuWzFdLG5bMl0sblszXV19ZnVuY3Rpb24gcihuLHQscixlKXtyZXR1cm5bbix0LHIsZV19ZnVuY3Rpb24gZSh0KXtjb25zdCByPW4oKSxlPU1hdGgubWluKDQsdC5sZW5ndGgpO2ZvcihsZXQgbj0wO248ZTsrK24pcltuXT10W25dO3JldHVybiByfWZ1bmN0aW9uIHUobix0KXtyZXR1cm4gbmV3IEZsb2F0NjRBcnJheShuLHQsNCl9ZnVuY3Rpb24gYSgpe3JldHVybiBuKCl9ZnVuY3Rpb24gbygpe3JldHVybiByKDEsMSwxLDEpfWZ1bmN0aW9uIHMoKXtyZXR1cm4gcigxLDAsMCwwKX1mdW5jdGlvbiBpKCl7cmV0dXJuIHIoMCwxLDAsMCl9ZnVuY3Rpb24gYygpe3JldHVybiByKDAsMCwxLDApfWZ1bmN0aW9uIGYoKXtyZXR1cm4gcigwLDAsMCwxKX1jb25zdCBsPWEoKSxfPW8oKSxOPXMoKSxPPWkoKSxUPWMoKSxVPWYoKSxiPU9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnR5KHtfX3Byb3RvX186bnVsbCxPTkVTOl8sVU5JVF9XOlUsVU5JVF9YOk4sVU5JVF9ZOk8sVU5JVF9aOlQsWkVST1M6bCxjbG9uZTp0LGNyZWF0ZTpuLGNyZWF0ZVZpZXc6dSxmcm9tQXJyYXk6ZSxmcm9tVmFsdWVzOnIsb25lczpvLHVuaXRXOmYsdW5pdFg6cyx1bml0WTppLHVuaXRaOmMsemVyb3M6YX0sU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSkpO2V4cG9ydHtfIGFzIE8sTiBhcyBVLGwgYXMgWix1IGFzIGEsZSBhcyBiLG4gYXMgYyx0IGFzIGQsaSBhcyBlLHIgYXMgZixjIGFzIGcsZiBhcyBoLE8gYXMgaSxUIGFzIGosVSBhcyBrLG8scyBhcyB1LGIgYXMgdixhIGFzIHp9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtNZW1DYWNoZVN0b3JhZ2UgYXMgdH1mcm9tXCIuL01lbUNhY2hlLmpzXCI7Y2xhc3MgZXtjb25zdHJ1Y3RvcihlLHMpe3RoaXMuX3N0b3JhZ2U9bmV3IHQsdGhpcy5pZD1cIlwiLHRoaXMubmFtZT1cIlwiLHRoaXMuc2l6ZT0wLHRoaXMuX3N0b3JhZ2UubWF4U2l6ZT1lLHRoaXMuX3N0b3JhZ2UucmVnaXN0ZXIodGhpcykscyYmdGhpcy5fc3RvcmFnZS5yZWdpc3RlclJlbW92ZUZ1bmMoXCJcIixzKX1kZXN0cm95KCl7dGhpcy5fc3RvcmFnZS5kZXJlZ2lzdGVyKHRoaXMpLHRoaXMuX3N0b3JhZ2UuZGVzdHJveSgpfXB1dCh0LGUscz0xKXt0aGlzLl9zdG9yYWdlLnB1dCh0aGlzLHQsZSxzLDEpfXBvcCh0KXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5wb3AodGhpcyx0KX1nZXQodCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2UuZ2V0KHRoaXMsdCl9Y2xlYXIoKXt0aGlzLl9zdG9yYWdlLmNsZWFyQWxsKCl9Z2V0IG1heFNpemUoKXtyZXR1cm4gdGhpcy5fc3RvcmFnZS5tYXhTaXplfXNldCBtYXhTaXplKHQpe3RoaXMuX3N0b3JhZ2UubWF4U2l6ZT10fXJlc2V0SGl0UmF0ZSgpe319ZXhwb3J0e2UgYXMgTFJVQ2FjaGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4vUG9vbGVkQXJyYXkuanNcIjtjb25zdCBlPS0zO3ZhciBpOyFmdW5jdGlvbih0KXt0W3QuQUxMPTBdPVwiQUxMXCIsdFt0LlNPTUU9MV09XCJTT01FXCJ9KGl8fChpPXt9KSk7Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih0LGUsaSl7dGhpcy5uYW1lPXQsdGhpcy5fc3RvcmFnZT1lLHRoaXMuaWQ9aCsrK1wiOlwiLHRoaXMuc2l6ZT0wLHRoaXMubWF4U2l6ZT0wLHRoaXMuX3JlbW92ZUZ1bmM9ITEsdGhpcy5faGl0PTAsdGhpcy5fbWlzcz0wLHRoaXMuX3N0b3JhZ2UucmVnaXN0ZXIodGhpcyksaSYmKHRoaXMuX3N0b3JhZ2UucmVnaXN0ZXJSZW1vdmVGdW5jKHRoaXMuaWQsaSksdGhpcy5fcmVtb3ZlRnVuYz0hMCl9ZGVzdHJveSgpe3RoaXMuX3N0b3JhZ2UuY2xlYXIodGhpcyksdGhpcy5fcmVtb3ZlRnVuYyYmdGhpcy5fc3RvcmFnZS5kZXJlZ2lzdGVyUmVtb3ZlRnVuYyh0aGlzLmlkKSx0aGlzLl9zdG9yYWdlLmRlcmVnaXN0ZXIodGhpcyksdGhpcy5fc3RvcmFnZT1udWxsfWdldCBoaXRSYXRlKCl7cmV0dXJuIHRoaXMuX2hpdC8odGhpcy5faGl0K3RoaXMuX21pc3MpfWdldCBzaXplQWxsKCl7cmV0dXJuIHRoaXMuX3N0b3JhZ2Uuc2l6ZX1yZXNldEhpdFJhdGUoKXt0aGlzLl9oaXQ9dGhpcy5fbWlzcz0wfXB1dCh0LGUsaSxzPTApe3RoaXMuX3N0b3JhZ2UucHV0KHRoaXMsdCxlLGkscyl9Z2V0KHQpe2NvbnN0IGU9dGhpcy5fc3RvcmFnZS5nZXQodGhpcyx0KTtyZXR1cm4gdm9pZCAwPT09ZT8rK3RoaXMuX21pc3M6Kyt0aGlzLl9oaXQsZX1wb3AodCl7Y29uc3QgZT10aGlzLl9zdG9yYWdlLnBvcCh0aGlzLHQpO3JldHVybiB2b2lkIDA9PT1lPysrdGhpcy5fbWlzczorK3RoaXMuX2hpdCxlfXVwZGF0ZVNpemUodCxlLGkpe3RoaXMuX3N0b3JhZ2UudXBkYXRlU2l6ZSh0aGlzLHQsZSxpKX1jbGVhcigpe3RoaXMuX3N0b3JhZ2UuY2xlYXIodGhpcyl9Y2xlYXJBbGwoKXt0aGlzLl9zdG9yYWdlLmNsZWFyQWxsKCl9Z2V0IHBlcmZvcm1hbmNlSW5mbygpe3JldHVybiB0aGlzLl9zdG9yYWdlLnBlcmZvcm1hbmNlSW5mb31yZXNldFN0YXRzKCl7dGhpcy5fc3RvcmFnZS5yZXNldFN0YXRzKCl9fWNsYXNzIHJ7Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy5fc2l6ZX1jb25zdHJ1Y3RvcihlPTEwNDg1NzYwKXt0aGlzLl9tYXhTaXplPWUsdGhpcy5fZGI9bmV3IE1hcCx0aGlzLl9zaXplPTAsdGhpcy5faGl0PTAsdGhpcy5fbWlzcz0wLHRoaXMuX3JlbW92ZUZ1bmNzPW5ldyB0LHRoaXMuX3VzZXJzPW5ldyB0fWRlc3Ryb3koKXt0aGlzLmNsZWFyQWxsKCksdGhpcy5fcmVtb3ZlRnVuY3MuY2xlYXIoKSx0aGlzLl91c2Vycy5jbGVhcigpLHRoaXMuX2RiPW51bGx9cmVnaXN0ZXIodCl7dGhpcy5fdXNlcnMucHVzaCh0KX1kZXJlZ2lzdGVyKHQpe3RoaXMuX3VzZXJzLnJlbW92ZVVub3JkZXJlZCh0KX1yZWdpc3RlclJlbW92ZUZ1bmModCxlKXt0aGlzLl9yZW1vdmVGdW5jcy5wdXNoKFt0LGVdKX1kZXJlZ2lzdGVyUmVtb3ZlRnVuYyh0KXt0aGlzLl9yZW1vdmVGdW5jcy5maWx0ZXJJblBsYWNlKChlPT5lWzBdIT09dCkpfWdldCBtYXhTaXplKCl7cmV0dXJuIHRoaXMuX21heFNpemV9c2V0IG1heFNpemUodCl7dGhpcy5fbWF4U2l6ZT1NYXRoLm1heCh0LDApLHRoaXMuX2NoZWNrU2l6ZUxpbWl0cygpfXB1dCh0LHMscixoLG8pe3M9dC5pZCtzO2NvbnN0IG49dGhpcy5fZGIuZ2V0KHMpO2lmKG4mJih0aGlzLl9zaXplLT1uLnNpemUsdC5zaXplLT1uLnNpemUsdGhpcy5fZGIuZGVsZXRlKHMpLG4uZW50cnkhPT1yJiZ0aGlzLl9ub3RpZnlSZW1vdmUocyxuLmVudHJ5LGkuQUxMKSksaD50aGlzLl9tYXhTaXplKXJldHVybiB2b2lkIHRoaXMuX25vdGlmeVJlbW92ZShzLHIsaS5BTEwpO2lmKHZvaWQgMD09PXIpcmV0dXJuIHZvaWQgY29uc29sZS53YXJuKFwiUmVmdXNpbmcgdG8gY2FjaGUgdW5kZWZpbmVkIGVudHJ5IFwiKTtpZighaHx8aDwwKXJldHVybiB2b2lkIGNvbnNvbGUud2FybihcIlJlZnVzaW5nIHRvIGNhY2hlIGVudHJ5IHdpdGggaW52YWxpZCBzaXplIFwiK2gpO2NvbnN0IF89MStNYXRoLm1heChvLGUpLWU7dGhpcy5fZGIuc2V0KHMse2VudHJ5OnIsc2l6ZTpoLGxpZmV0aW1lOl8sbGl2ZXM6X30pLHRoaXMuX3NpemUrPWgsdC5zaXplKz1oLHRoaXMuX2NoZWNrU2l6ZUxpbWl0cygpfXVwZGF0ZVNpemUodCxlLHMscil7ZT10LmlkK2U7Y29uc3QgaD10aGlzLl9kYi5nZXQoZSk7aWYoaCYmaC5lbnRyeT09PXMpe2Zvcih0aGlzLl9zaXplLT1oLnNpemUsdC5zaXplLT1oLnNpemU7cj50aGlzLl9tYXhTaXplOyl7Y29uc3QgdD10aGlzLl9ub3RpZnlSZW1vdmUoZSxzLGkuU09NRSk7aWYoIShudWxsIT10JiZ0PjApKXJldHVybiB2b2lkIHRoaXMuX2RiLmRlbGV0ZShlKTtyPXR9aC5zaXplPXIsdGhpcy5fc2l6ZSs9cix0LnNpemUrPXIsdGhpcy5fY2hlY2tTaXplTGltaXRzKCl9fXBvcCh0LGUpe2U9dC5pZCtlO2NvbnN0IGk9dGhpcy5fZGIuZ2V0KGUpO2lmKGkpcmV0dXJuIHRoaXMuX3NpemUtPWkuc2l6ZSx0LnNpemUtPWkuc2l6ZSx0aGlzLl9kYi5kZWxldGUoZSksKyt0aGlzLl9oaXQsaS5lbnRyeTsrK3RoaXMuX21pc3N9Z2V0KHQsZSl7ZT10LmlkK2U7Y29uc3QgaT10aGlzLl9kYi5nZXQoZSk7aWYodm9pZCAwIT09aSlyZXR1cm4gdGhpcy5fZGIuZGVsZXRlKGUpLGkubGl2ZXM9aS5saWZldGltZSx0aGlzLl9kYi5zZXQoZSxpKSwrK3RoaXMuX2hpdCxpLmVudHJ5OysrdGhpcy5fbWlzc31nZXQgcGVyZm9ybWFuY2VJbmZvKCl7Y29uc3QgdD17U2l6ZTpNYXRoLnJvdW5kKHRoaXMuX3NpemUvMTA0ODU3NikrXCIvXCIrTWF0aC5yb3VuZCh0aGlzLl9tYXhTaXplLzEwNDg1NzYpK1wiTUJcIixcIkhpdCByYXRlXCI6TWF0aC5yb3VuZCgxMDAqdGhpcy5fZ2V0SGl0UmF0ZSgpKStcIiVcIixFbnRyaWVzOnRoaXMuX2RiLnNpemUudG9TdHJpbmcoKX0saT17fSxzPW5ldyBBcnJheTt0aGlzLl9kYi5mb3JFYWNoKCgodCxlKT0+e2NvbnN0IHI9dC5saWZldGltZTtzW3JdPShzW3JdfHwwKSt0LnNpemUsdGhpcy5fdXNlcnMuZm9yQWxsKChzPT57Y29uc3R7aWQ6cixuYW1lOmh9PXM7aWYoZS5zdGFydHNXaXRoKHIpKXtjb25zdCBlPWlbaF18fDA7aVtoXT1lK3Quc2l6ZX19KSl9KSk7Y29uc3Qgcj17fTt0aGlzLl91c2Vycy5mb3JBbGwoKHQ9Pntjb25zdCBlPXQubmFtZTtpZihcImhpdFJhdGVcImluIHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0LmhpdFJhdGUmJiFpc05hTih0LmhpdFJhdGUpJiZ0LmhpdFJhdGU+MCl7Y29uc3Qgcz1pW2VdfHwwO2lbZV09cyxyW2VdPU1hdGgucm91bmQoMTAwKnQuaGl0UmF0ZSkrXCIlXCJ9ZWxzZSByW2VdPVwiMCVcIn0pKTtjb25zdCBoPU9iamVjdC5rZXlzKGkpO2guc29ydCgoKHQsZSk9PmlbZV0taVt0XSkpLGguZm9yRWFjaCgoZT0+dFtlXT1NYXRoLnJvdW5kKGlbZV0vMioqMjApK1wiTUIgLyBcIityW2VdKSk7Zm9yKGxldCBvPXMubGVuZ3RoLTE7bz49MDstLW8pe2NvbnN0IGk9c1tvXTtpJiYodFtcIlByaW9yaXR5IFwiKyhvK2UtMSldPU1hdGgucm91bmQoaS90aGlzLl9zaXplKjEwMCkrXCIlXCIpfXJldHVybiB0fXJlc2V0U3RhdHMoKXt0aGlzLl9oaXQ9dGhpcy5fbWlzcz0wLHRoaXMuX3VzZXJzLmZvckFsbCgodD0+dC5yZXNldEhpdFJhdGUoKSkpfWNsZWFyKHQpe2NvbnN0IGU9dC5pZDt0aGlzLl9kYi5mb3JFYWNoKCgodCxzKT0+e3Muc3RhcnRzV2l0aChlKSYmKHRoaXMuX3NpemUtPXQuc2l6ZSx0aGlzLl9kYi5kZWxldGUocyksdGhpcy5fbm90aWZ5UmVtb3ZlKHMsdC5lbnRyeSxpLkFMTCkpfSkpLHQuc2l6ZT0wfWNsZWFyQWxsKCl7dGhpcy5fZGIuZm9yRWFjaCgoKHQsZSk9PnRoaXMuX25vdGlmeVJlbW92ZShlLHQuZW50cnksaS5BTEwpKSksdGhpcy5fdXNlcnMuZm9yRWFjaCgodD0+dC5zaXplPTApKSx0aGlzLl9zaXplPTAsdGhpcy5fZGIuY2xlYXIoKX1fZ2V0SGl0UmF0ZSgpe3JldHVybiB0aGlzLl9oaXQvKHRoaXMuX2hpdCt0aGlzLl9taXNzKX1fbm90aWZ5UmVtb3ZlKHQsZSxpKXtsZXQgcztyZXR1cm4gdGhpcy5fcmVtb3ZlRnVuY3Muc29tZSgocj0+e2lmKHQuc3RhcnRzV2l0aChyWzBdKSl7Y29uc3QgdD1yWzFdKGUsaSk7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJihzPXQpLCEwfXJldHVybiExfSkpLHN9X2NoZWNrU2l6ZUxpbWl0cygpe2lmKHRoaXMuX3NpemU+dGhpcy5fbWF4U2l6ZSlmb3IoY29uc3RbdCxlXW9mIHRoaXMuX2RiKWlmKHRoaXMuX3B1cmdlSXRlbSh0LGUpLHRoaXMuX3NpemU8PS45KnRoaXMubWF4U2l6ZSlyZXR1cm47dGhpcy5fdXNlcnMuZm9yRWFjaCgodD0+e2lmKHQubWF4U2l6ZT4wJiZ0LnNpemU+dC5tYXhTaXplKWZvcihjb25zdFtlLGldb2YgdGhpcy5fZGIpaWYoZS5zdGFydHNXaXRoKHQuaWQpJiYodGhpcy5fcHVyZ2VJdGVtKGUsaSx0KSx0LnNpemU8PS45KnQubWF4U2l6ZSkpcmV0dXJufSkpfV9wdXJnZUl0ZW0odCxlLHM9dGhpcy5fdXNlcnMuZmluZCgoZT0+dC5zdGFydHNXaXRoKGUuaWQpKSkpe2lmKHRoaXMuX2RiLmRlbGV0ZSh0KSxlLmxpdmVzPD0xKXt0aGlzLl9zaXplLT1lLnNpemUscyYmKHMuc2l6ZS09ZS5zaXplKTtjb25zdCByPXRoaXMuX25vdGlmeVJlbW92ZSh0LGUuZW50cnksaS5TT01FKTtudWxsIT1yJiZyPjAmJih0aGlzLl9zaXplKz1yLHMmJihzLnNpemUrPXIpLGUubGl2ZXM9ZS5saWZldGltZSxlLnNpemU9cix0aGlzLl9kYi5zZXQodCxlKSl9ZWxzZS0tZS5saXZlcyx0aGlzLl9kYi5zZXQodCxlKX19bGV0IGg9MDtleHBvcnR7ZSBhcyBNSU5fUFJJT1JJVFkscyBhcyBNZW1DYWNoZSxyIGFzIE1lbUNhY2hlU3RvcmFnZSxpIGFzIFJlbW92ZU1vZGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBlIGZyb21cIi4uL0FjY2Vzc29yLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vQ29sbGVjdGlvbi5qc1wiO2ltcG9ydHtnZXRQcm9wZXJ0aWVzIGFzIG59ZnJvbVwiLi91dGlscy5qc1wiO2NvbnN0IG89W1wiZXNyaS5Db2xvclwiLFwiZXNyaS5wb3J0YWwuUG9ydGFsXCIsXCJlc3JpLnN5bWJvbHMuc3VwcG9ydC5TeW1ib2wzREFuY2hvclBvc2l0aW9uMkRcIixcImVzcmkuc3ltYm9scy5zdXBwb3J0LlN5bWJvbDNEQW5jaG9yUG9zaXRpb24zRFwiXTtmdW5jdGlvbiByKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZX1mdW5jdGlvbiBmKGUpe3JldHVybiBlIGluc3RhbmNlb2YgdD9PYmplY3Qua2V5cyhlLml0ZW1zKTpyKGUpP24oZSkua2V5cygpOmU/T2JqZWN0LmtleXMoZSk6W119ZnVuY3Rpb24gbChlLG4pe3JldHVybiBlIGluc3RhbmNlb2YgdD9lLml0ZW1zW25dOmVbbl19ZnVuY3Rpb24gaShlLHQpe3JldHVybiEoIUFycmF5LmlzQXJyYXkoZSl8fCFBcnJheS5pc0FycmF5KHQpKSYmZS5sZW5ndGghPT10Lmxlbmd0aH1mdW5jdGlvbiB1KGUpe3JldHVybiBlP2UuZGVjbGFyZWRDbGFzczpudWxsfWZ1bmN0aW9uIGMoZSx0KXtjb25zdCBuPWUuZGlmZjtpZihuJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiBuKGUsdCk7Y29uc3Qgcz1mKGUpLHA9Zih0KTtpZigwPT09cy5sZW5ndGgmJjA9PT1wLmxlbmd0aClyZXR1cm47aWYoIXMubGVuZ3RofHwhcC5sZW5ndGh8fGkoZSx0KSlyZXR1cm57dHlwZTpcImNvbXBsZXRlXCIsb2xkVmFsdWU6ZSxuZXdWYWx1ZTp0fTtjb25zdCBhPXAuZmlsdGVyKChlPT4hcy5pbmNsdWRlcyhlKSkpLHk9cy5maWx0ZXIoKGU9PiFwLmluY2x1ZGVzKGUpKSksZD1zLmZpbHRlcigobj0+cC5pbmNsdWRlcyhuKSYmbChlLG4pIT09bCh0LG4pKSkuY29uY2F0KGEseSkuc29ydCgpLG09dShlKTtpZihtJiZvLmluY2x1ZGVzKG0pJiZkLmxlbmd0aClyZXR1cm57dHlwZTpcImNvbXBsZXRlXCIsb2xkVmFsdWU6ZSxuZXdWYWx1ZTp0fTtsZXQgaDtjb25zdCBiPXIoZSkmJnIodCk7Zm9yKGNvbnN0IG8gb2YgZCl7Y29uc3Qgcj1sKGUsbyksZj1sKHQsbyk7bGV0IGk7aWYoKGJ8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGYpJiYociE9PWYmJihudWxsIT1yfHxudWxsIT1mKSkpe2lmKG4mJm5bb10mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG5bb10paT1uW29dPy4ocixmKTtlbHNlIGlmKHIgaW5zdGFuY2VvZiBEYXRlJiZmIGluc3RhbmNlb2YgRGF0ZSl7aWYoci5nZXRUaW1lKCk9PT1mLmdldFRpbWUoKSljb250aW51ZTtpPXt0eXBlOlwiY29tcGxldGVcIixvbGRWYWx1ZTpyLG5ld1ZhbHVlOmZ9fWVsc2UgaT1cIm9iamVjdFwiPT10eXBlb2YgciYmXCJvYmplY3RcIj09dHlwZW9mIGYmJnUocik9PT11KGYpP2MocixmKTp7dHlwZTpcImNvbXBsZXRlXCIsb2xkVmFsdWU6cixuZXdWYWx1ZTpmfTtudWxsIT1pJiYobnVsbCE9aD9oLmRpZmZbb109aTpoPXt0eXBlOlwicGFydGlhbFwiLGRpZmY6e1tvXTppfX0pfX1yZXR1cm4gaH1mdW5jdGlvbiBzKGUsdCl7aWYobnVsbD09ZSlyZXR1cm4hMTtjb25zdCBuPXQuc3BsaXQoXCIuXCIpO2xldCBvPWU7Zm9yKGNvbnN0IHIgb2Ygbil7aWYoXCJjb21wbGV0ZVwiPT09by50eXBlKXJldHVybiEwO2lmKFwicGFydGlhbFwiIT09by50eXBlKXJldHVybiExO3tjb25zdCBlPW8uZGlmZltyXTtpZighZSlyZXR1cm4hMTtvPWV9fXJldHVybiEwfWZ1bmN0aW9uIHAoZSx0KXtmb3IoY29uc3QgbiBvZiB0KWlmKHMoZSxuKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmKG51bGwhPWV8fG51bGwhPXQpKXJldHVybiBudWxsPT1lfHxudWxsPT10fHxcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnUoZSkhPT11KHQpP3t0eXBlOlwiY29tcGxldGVcIixvbGRWYWx1ZTplLG5ld1ZhbHVlOnR9OmMoZSx0KX1mdW5jdGlvbiB5KGUpe2lmKG51bGw9PWUpcmV0dXJuITA7c3dpdGNoKGUudHlwZSl7Y2FzZVwiY29tcGxldGVcIjpyZXR1cm4hMTtjYXNlXCJjb2xsZWN0aW9uXCI6e2NvbnN0IHQ9ZTtmb3IoY29uc3QgZSBvZiB0LmFkZGVkKWlmKCF5KGUpKXJldHVybiExO2Zvcihjb25zdCBlIG9mIHQucmVtb3ZlZClpZigheShlKSlyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiB0LmNoYW5nZWQpaWYoIXkoZSkpcmV0dXJuITE7cmV0dXJuITB9Y2FzZVwicGFydGlhbFwiOmZvcihjb25zdCB0IGluIGUuZGlmZil7aWYoIXkoZS5kaWZmW3RdKSlyZXR1cm4hMX1yZXR1cm4hMH19ZXhwb3J0e2EgYXMgZGlmZixzIGFzIGhhc0RpZmYscCBhcyBoYXNEaWZmQW55LHkgYXMgaXNFbXB0eX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2NsYW1wIGFzIHR9ZnJvbVwiLi9tYXRoVXRpbHMuanNcIjtmdW5jdGlvbiBvKG8scixlPTApe2NvbnN0IGk9dChvLDAsZik7Zm9yKGxldCB0PTA7dDw0O3QrKylyW2UrdF09TWF0aC5mbG9vcigyNTYqbChpKm5bdF0pKX1mdW5jdGlvbiByKHQsbz0wKXtsZXQgcj0wO2ZvcihsZXQgbj0wO248NDtuKyspcis9dFtvK25dKmVbbl07cmV0dXJuIHJ9Y29uc3Qgbj1bMSwyNTYsNjU1MzYsMTY3NzcyMTZdLGU9WzEvMjU2LDEvNjU1MzYsMS8xNjc3NzIxNiwxLzQyOTQ5NjcyOTZdLGY9cihuZXcgVWludDhDbGFtcGVkQXJyYXkoWzI1NSwyNTUsMjU1LDI1NV0pKTtmdW5jdGlvbiBsKHQpe3JldHVybiB0LU1hdGguZmxvb3IodCl9ZXhwb3J0e28gYXMgcGFja0Zsb2F0UkdCQSxyIGFzIHVucGFja0Zsb2F0UkdCQX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuL2hhcy5qc1wiO2ltcG9ydCB0IGZyb21cIi4vT2JqZWN0UG9vbC5qc1wiO3ZhciBlOyFmdW5jdGlvbih0KXt0W3QudmFyaW50PTBdPVwidmFyaW50XCIsdFt0LmZpeGVkNjQ9MV09XCJmaXhlZDY0XCIsdFt0LmRlbGltaXRlZD0yXT1cImRlbGltaXRlZFwiLHRbdC5maXhlZDMyPTVdPVwiZml4ZWQzMlwiLHRbdC51bmtub3duPTk5XT1cInVua25vd25cIn0oZXx8KGU9e30pKTtjb25zdCBpPTQyOTQ5NjcyOTYscz1uZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiKSxyPWhhcyhcInNhZmFyaVwiKXx8aGFzKFwiaW9zXCIpPzY6aGFzKFwiZmZcIik/MTI6MzI7Y2xhc3Mgbntjb25zdHJ1Y3Rvcih0LGkscz0wLHI9KHQ/dC5ieXRlTGVuZ3RoOjApKXt0aGlzLl90YWc9MCx0aGlzLl9kYXRhVHlwZT1lLnVua25vd24sdGhpcy5faW5pdCh0LGkscyxyKX1faW5pdCh0LGUsaSxzKXt0aGlzLl9kYXRhPXQsdGhpcy5fZGF0YVZpZXc9ZSx0aGlzLl9wb3M9aSx0aGlzLl9lbmQ9c31hc1Vuc2FmZSgpe3JldHVybiB0aGlzfWNsb25lKCl7cmV0dXJuIG5ldyBuKHRoaXMuX2RhdGEsdGhpcy5fZGF0YVZpZXcsdGhpcy5fcG9zLHRoaXMuX2VuZCl9cG9zKCl7cmV0dXJuIHRoaXMuX3Bvc31tb3ZlKHQpe3RoaXMuX3Bvcz10fW5leHRUYWcodCl7Zm9yKDs7KXtpZih0aGlzLl9wb3M9PT10aGlzLl9lbmQpcmV0dXJuITE7Y29uc3QgZT10aGlzLl9kZWNvZGVWYXJpbnQoKTtpZih0aGlzLl90YWc9ZT4+Myx0aGlzLl9kYXRhVHlwZT03JmUsIXR8fHQ9PT10aGlzLl90YWcpYnJlYWs7dGhpcy5za2lwKCl9cmV0dXJuITB9bmV4dCgpe2lmKHRoaXMuX3Bvcz09PXRoaXMuX2VuZClyZXR1cm4hMTtjb25zdCB0PXRoaXMuX2RlY29kZVZhcmludCgpO3JldHVybiB0aGlzLl90YWc9dD4+Myx0aGlzLl9kYXRhVHlwZT03JnQsITB9ZW1wdHkoKXtyZXR1cm4gdGhpcy5fcG9zPj10aGlzLl9lbmR9dGFnKCl7cmV0dXJuIHRoaXMuX3RhZ31nZXRJbnQzMigpe3JldHVybiB0aGlzLl9kZWNvZGVWYXJpbnQoKX1nZXRJbnQ2NCgpe3JldHVybiB0aGlzLl9kZWNvZGVWYXJpbnQoKX1nZXRVSW50MzIoKXtsZXQgdD00Mjk0OTY3Mjk1O3JldHVybiB0PSgxMjcmdGhpcy5fZGF0YVt0aGlzLl9wb3NdKT4+PjAsdGhpcy5fZGF0YVt0aGlzLl9wb3MrK108MTI4P3Q6KHQ9KHR8KDEyNyZ0aGlzLl9kYXRhW3RoaXMuX3Bvc10pPDw3KT4+PjAsdGhpcy5fZGF0YVt0aGlzLl9wb3MrK108MTI4P3Q6KHQ9KHR8KDEyNyZ0aGlzLl9kYXRhW3RoaXMuX3Bvc10pPDwxNCk+Pj4wLHRoaXMuX2RhdGFbdGhpcy5fcG9zKytdPDEyOD90Oih0PSh0fCgxMjcmdGhpcy5fZGF0YVt0aGlzLl9wb3NdKTw8MjEpPj4+MCx0aGlzLl9kYXRhW3RoaXMuX3BvcysrXTwxMjg/dDoodD0odHwoMTUmdGhpcy5fZGF0YVt0aGlzLl9wb3NdKTw8MjgpPj4+MCx0aGlzLl9kYXRhW3RoaXMuX3BvcysrXTwxMjg/dDp2b2lkIDApKSkpfWdldFVJbnQ2NCgpe3JldHVybiB0aGlzLl9kZWNvZGVWYXJpbnQoKX1nZXRTSW50MzIoKXtjb25zdCB0PXRoaXMuZ2V0VUludDMyKCk7aWYodm9pZCAwIT09dClyZXR1cm4gdD4+PjFeLSgxJnQpfDB9Z2V0U0ludDY0KCl7cmV0dXJuIHRoaXMuX2RlY29kZVNWYXJpbnQoKX1nZXRCb29sKCl7Y29uc3QgdD0wIT09dGhpcy5fZGF0YVt0aGlzLl9wb3NdO3JldHVybiB0aGlzLl9za2lwKDEpLHR9Z2V0RW51bSgpe3JldHVybiB0aGlzLl9kZWNvZGVWYXJpbnQoKX1nZXRGaXhlZDY0KCl7Y29uc3QgdD10aGlzLl9kYXRhVmlldyxlPXRoaXMuX3BvcyxzPXQuZ2V0VWludDMyKGUsITApK3QuZ2V0VWludDMyKGUrNCwhMCkqaTtyZXR1cm4gdGhpcy5fc2tpcCg4KSxzfWdldFNGaXhlZDY0KCl7Y29uc3QgdD10aGlzLl9kYXRhVmlldyxlPXRoaXMuX3BvcyxzPXQuZ2V0VWludDMyKGUsITApK3QuZ2V0SW50MzIoZSs0LCEwKSppO3JldHVybiB0aGlzLl9za2lwKDgpLHN9Z2V0RG91YmxlKCl7Y29uc3QgdD10aGlzLl9kYXRhVmlldy5nZXRGbG9hdDY0KHRoaXMuX3BvcywhMCk7cmV0dXJuIHRoaXMuX3NraXAoOCksdH1nZXRGaXhlZDMyKCl7Y29uc3QgdD10aGlzLl9kYXRhVmlldy5nZXRVaW50MzIodGhpcy5fcG9zLCEwKTtyZXR1cm4gdGhpcy5fc2tpcCg0KSx0fWdldFNGaXhlZDMyKCl7Y29uc3QgdD10aGlzLl9kYXRhVmlldy5nZXRJbnQzMih0aGlzLl9wb3MsITApO3JldHVybiB0aGlzLl9za2lwKDQpLHR9Z2V0RmxvYXQoKXtjb25zdCB0PXRoaXMuX2RhdGFWaWV3LmdldEZsb2F0MzIodGhpcy5fcG9zLCEwKTtyZXR1cm4gdGhpcy5fc2tpcCg0KSx0fWdldFN0cmluZygpe2NvbnN0IHQ9dGhpcy5fZ2V0TGVuZ3RoKCksZT10aGlzLl9wb3MsaT10aGlzLl90b1N0cmluZyh0aGlzLl9kYXRhLGUsZSt0KTtyZXR1cm4gdGhpcy5fc2tpcCh0KSxpfWdldEJ5dGVzKCl7Y29uc3QgdD10aGlzLl9nZXRMZW5ndGgoKSxlPXRoaXMuX3BvcyxpPXRoaXMuX3RvQnl0ZXModGhpcy5fZGF0YSxlLGUrdCk7cmV0dXJuIHRoaXMuX3NraXAodCksaX1nZXRMZW5ndGgoKXtyZXR1cm4gdGhpcy5fZ2V0TGVuZ3RoVW5zYWZlKCl9cHJvY2Vzc01lc3NhZ2VXaXRoQXJncyh0LGUsaSxzKXtjb25zdCByPXRoaXMuZ2V0TWVzc2FnZSgpLG49dChyLGUsaSxzKTtyZXR1cm4gci5yZWxlYXNlKCksbn1wcm9jZXNzTWVzc2FnZSh0KXtjb25zdCBlPXRoaXMuZ2V0TWVzc2FnZSgpLGk9dChlKTtyZXR1cm4gZS5yZWxlYXNlKCksaX1nZXRNZXNzYWdlKCl7Y29uc3QgdD10aGlzLl9nZXRMZW5ndGgoKSxlPW4ucG9vbC5hY3F1aXJlKCk7cmV0dXJuIGUuX2luaXQodGhpcy5fZGF0YSx0aGlzLl9kYXRhVmlldyx0aGlzLl9wb3MsdGhpcy5fcG9zK3QpLHRoaXMuX3NraXAodCksZX1yZWxlYXNlKCl7bi5wb29sLnJlbGVhc2UodGhpcyl9ZGF0YVR5cGUoKXtyZXR1cm4gdGhpcy5fZGF0YVR5cGV9c2tpcCgpe3N3aXRjaCh0aGlzLl9kYXRhVHlwZSl7Y2FzZSBlLnZhcmludDp0aGlzLl9kZWNvZGVWYXJpbnQoKTticmVhaztjYXNlIGUuZml4ZWQ2NDp0aGlzLl9za2lwKDgpO2JyZWFrO2Nhc2UgZS5kZWxpbWl0ZWQ6dGhpcy5fc2tpcCh0aGlzLl9nZXRMZW5ndGgoKSk7YnJlYWs7Y2FzZSBlLmZpeGVkMzI6dGhpcy5fc2tpcCg0KTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YSB0eXBlIVwiKX19c2tpcExlbih0KXt0aGlzLl9za2lwKHQpfV9za2lwKHQpe2lmKHRoaXMuX3Bvcyt0PnRoaXMuX2VuZCl0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0IHRvIHNraXAgcGFzdCB0aGUgZW5kIG9mIGJ1ZmZlciFcIik7dGhpcy5fcG9zKz10fV9kZWNvZGVWYXJpbnQoKXtjb25zdCB0PXRoaXMuX2RhdGE7bGV0IGU9dGhpcy5fcG9zLGk9MCxzPTA7aWYodGhpcy5fZW5kLWU+PTEwKWRve2lmKHM9dFtlKytdLGl8PTEyNyZzLDA9PSgxMjgmcykpYnJlYWs7aWYocz10W2UrK10saXw9KDEyNyZzKTw8NywwPT0oMTI4JnMpKWJyZWFrO2lmKHM9dFtlKytdLGl8PSgxMjcmcyk8PDE0LDA9PSgxMjgmcykpYnJlYWs7aWYocz10W2UrK10saXw9KDEyNyZzKTw8MjEsMD09KDEyOCZzKSlicmVhaztpZihzPXRbZSsrXSxpKz0yNjg0MzU0NTYqKDEyNyZzKSwwPT0oMTI4JnMpKWJyZWFrO2lmKHM9dFtlKytdLGkrPTM0MzU5NzM4MzY4KigxMjcmcyksMD09KDEyOCZzKSlicmVhaztpZihzPXRbZSsrXSxpKz00Mzk4MDQ2NTExMTA0KigxMjcmcyksMD09KDEyOCZzKSlicmVhaztpZihzPXRbZSsrXSxpKz01NjI5NDk5NTM0MjEzMTIqKDEyNyZzKSwwPT0oMTI4JnMpKWJyZWFrO2lmKHM9dFtlKytdLGkrPTcyMDU3NTk0MDM3OTI3OTQwKigxMjcmcyksMD09KDEyOCZzKSlicmVhaztpZihzPXRbZSsrXSxpKz0weDgwMDAwMDAwMDAwMDAwMDAqKDEyNyZzKSwwPT0oMTI4JnMpKWJyZWFrO3Rocm93IG5ldyBFcnJvcihcIlZhcmludCB0b28gbG9uZyFcIil9d2hpbGUoMCk7ZWxzZXtsZXQgcj0xO2Zvcig7ZSE9PXRoaXMuX2VuZCYmKHM9dFtlXSwwIT0oMTI4JnMpKTspKytlLGkrPSgxMjcmcykqcixyKj0xMjg7aWYoZT09PXRoaXMuX2VuZCl0aHJvdyBuZXcgRXJyb3IoXCJWYXJpbnQgb3ZlcnJ1biFcIik7KytlLGkrPXMqcn1yZXR1cm4gdGhpcy5fcG9zPWUsaX1fZGVjb2RlU1ZhcmludCgpe2NvbnN0IHQ9dGhpcy5fZGF0YTtsZXQgZT10aGlzLl9wb3MsaT0wLHM9MDtjb25zdCByPTEmdFtlXTtpZih0aGlzLl9lbmQtZT49MTApZG97aWYocz10W2UrK10saXw9MTI3JnMsMD09KDEyOCZzKSlicmVhaztpZihzPXRbZSsrXSxpfD0oMTI3JnMpPDw3LDA9PSgxMjgmcykpYnJlYWs7aWYocz10W2UrK10saXw9KDEyNyZzKTw8MTQsMD09KDEyOCZzKSlicmVhaztpZihzPXRbZSsrXSxpfD0oMTI3JnMpPDwyMSwwPT0oMTI4JnMpKWJyZWFrO2lmKHM9dFtlKytdLGkrPTI2ODQzNTQ1NiooMTI3JnMpLDA9PSgxMjgmcykpYnJlYWs7aWYocz10W2UrK10saSs9MzQzNTk3MzgzNjgqKDEyNyZzKSwwPT0oMTI4JnMpKWJyZWFrO2lmKHM9dFtlKytdLGkrPTQzOTgwNDY1MTExMDQqKDEyNyZzKSwwPT0oMTI4JnMpKWJyZWFrO2lmKHM9dFtlKytdLGkrPTU2Mjk0OTk1MzQyMTMxMiooMTI3JnMpLDA9PSgxMjgmcykpYnJlYWs7aWYocz10W2UrK10saSs9NzIwNTc1OTQwMzc5Mjc5NDAqKDEyNyZzKSwwPT0oMTI4JnMpKWJyZWFrO2lmKHM9dFtlKytdLGkrPTB4ODAwMDAwMDAwMDAwMDAwMCooMTI3JnMpLDA9PSgxMjgmcykpYnJlYWs7dGhyb3cgbmV3IEVycm9yKFwiVmFyaW50IHRvbyBsb25nIVwiKX13aGlsZSgwKTtlbHNle2xldCByPTE7Zm9yKDtlIT09dGhpcy5fZW5kJiYocz10W2VdLDAhPSgxMjgmcykpOykrK2UsaSs9KDEyNyZzKSpyLHIqPTEyODtpZihlPT09dGhpcy5fZW5kKXRocm93IG5ldyBFcnJvcihcIlZhcmludCBvdmVycnVuIVwiKTsrK2UsaSs9cypyfXJldHVybiB0aGlzLl9wb3M9ZSxyPy0oaSsxKS8yOmkvMn1fZ2V0TGVuZ3RoKCl7aWYodGhpcy5fZGF0YVR5cGUhPT1lLmRlbGltaXRlZCl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBkZWxpbWl0ZWQgZGF0YSB0eXBlIVwiKTtyZXR1cm4gdGhpcy5fZGVjb2RlVmFyaW50KCl9X2dldExlbmd0aFVuc2FmZSgpe3JldHVybiB0aGlzLmdldFVJbnQzMigpfV90b1N0cmluZyh0LGUsaSl7aWYoKGk9TWF0aC5taW4odGhpcy5fZW5kLGkpKS1lPnIpe2NvbnN0IHI9dC5zdWJhcnJheShlLGkpO3JldHVybiBzLmRlY29kZShyKX1sZXQgbj1cIlwiLGE9XCJcIjtmb3IobGV0IHM9ZTtzPGk7KytzKXtjb25zdCBlPXRbc107MTI4JmU/YSs9XCIlXCIrZS50b1N0cmluZygxNik6KG4rPWRlY29kZVVSSUNvbXBvbmVudChhKStTdHJpbmcuZnJvbUNoYXJDb2RlKGUpLGE9XCJcIil9cmV0dXJuIGEubGVuZ3RoJiYobis9ZGVjb2RlVVJJQ29tcG9uZW50KGEpKSxufV90b0J5dGVzKHQsZSxpKXtyZXR1cm4gaT1NYXRoLm1pbih0aGlzLl9lbmQsaSksbmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsZSxpLWUpfX1uLnBvb2w9bmV3IHQobix2b2lkIDAsKHQ9Pnt0Ll9kYXRhPW51bGwsdC5fZGF0YVZpZXc9bnVsbH0pKTtleHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y2xhbXAgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL21hdGhVdGlscy5qc1wiO2ltcG9ydHtweDJwdCBhcyByLHB0MnB4IGFzIG59ZnJvbVwiLi4vLi4vY29yZS9zY3JlZW5VdGlscy5qc1wiO2ltcG9ydHtsIGFzIG99ZnJvbVwiLi4vLi4vY2h1bmtzL3ZlYzQuanNcIjtpbXBvcnR7YyBhcyBlfWZyb21cIi4uLy4uL2NodW5rcy92ZWM0ZjY0LmpzXCI7Y29uc3QgYT0yLjQ7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gcih0KmEpfWZ1bmN0aW9uIGModCl7cmV0dXJuIG4odCkvYX1mdW5jdGlvbiBmKHIsbixlLGEpe2xldHtjb2xvcjppLHJhdGlvOmN9PW4se2NvbG9yOmYscmF0aW86dX09ZTtpZih1PT09Yyl7Y29uc3QgdD0xZS02OzE9PT11P2MtPXQ6dSs9dH1jb25zdCBzPXQoKGEtYykvKHUtYyksMCwxKTtvKHIsaS50b0FycmF5KCksZi50b0FycmF5KCkscyl9ZnVuY3Rpb24gdSh0KXtjb25zdCByPTUxMixuPW5ldyBVaW50OENsYW1wZWRBcnJheSg0KnIpO2lmKHQ9dC5maWx0ZXIoKCh7cmF0aW86dH0pPT50Pj0wJiZ0PD0xKSkuc29ydCgoKHQscik9PnQucmF0aW8tci5yYXRpbykpLm1hcCgoKHtjb2xvcjp0LHJhdGlvOnJ9KT0+KHtjb2xvcjp0LHJhdGlvOk1hdGgubWF4KHIsLjAwMSl9KSkpLHQubGVuZ3RoPDEpcmV0dXJuIG47bGV0IG89dFswXSxhPXRbMF0saT0xO2NvbnN0IGM9ZSgpO2ZvcihsZXQgZT0wO2U8cjtlKyspe2NvbnN0IHU9KGUrLjUpL3I7Zm9yKDt1PmEucmF0aW8mJmk8dC5sZW5ndGg7KW89YSxhPXRbaSsrXTtmKGMsbyxhLHUpLG4uc2V0KGMsNCplKX1yZXR1cm4gbn1mdW5jdGlvbiBzKHQscixvLGUpe2NvbnN0e3JhZGl1czphLGZpZWxkT2Zmc2V0OmksZmllbGQ6Y309cixmPU1hdGgucm91bmQobihhKSksdT1uZXcgRmxvYXQ2NEFycmF5KG8qZSk7bGV0IHMsbD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7Y29uc3QgaD1kKGMsaSkseT1uZXcgU2V0O2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5nZXRDdXJzb3IoKTtmb3IoO3QubmV4dCgpOyl7Y29uc3Qgcj10LmdldE9iamVjdElkKCk7aWYoeS5oYXMocikpY29udGludWU7eS5hZGQocik7Y29uc3Qgbj10LnJlYWRMZWdhY3lQb2ludEdlb21ldHJ5KCksYT0xMjg7aWYobi54PC1hfHxuLng+PW8rYXx8bi55PC1hfHxuLnk+ZSthKWNvbnRpbnVlO2NvbnN0IGk9K2godCksYz1NYXRoLm1heCgwLE1hdGgucm91bmQobi54KS1mKSxkPU1hdGgubWF4KDAsTWF0aC5yb3VuZChuLnkpLWYpLGc9TWF0aC5taW4oZSxNYXRoLnJvdW5kKG4ueSkrZiksQT1NYXRoLm1pbihvLE1hdGgucm91bmQobi54KStmKTtmb3IobGV0IHQ9ZDt0PGc7dCsrKWZvcihsZXQgcj1jO3I8QTtyKyspe2NvbnN0IGU9dCpvK3IsYT1tKG4ueC1yLG4ueS10LGYpO3M9dVtlXSs9YSppLHM+bCYmKGw9cyl9fX1yZXR1cm57bWF0cml4OnUuYnVmZmVyLG1heDpsfX1mdW5jdGlvbiBsKHQscixuLG8sZSxhKXt0LmNhbnZhcy53aWR0aD10LmNhbnZhcy5oZWlnaHQ9cix0LmNsZWFyUmVjdCgwLDAscixyKTtjb25zdCBpPXQuZ2V0SW1hZ2VEYXRhKDAsMCxyLHIpO24mJm8mJmkuZGF0YS5zZXQobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGgocixuLG8sZSxhKSkpLHQucHV0SW1hZ2VEYXRhKGksMCwwKX1mdW5jdGlvbiBoKHIsbixvLGUsYSl7Y29uc3QgaT1uZXcgVWludDMyQXJyYXkocipyKSxjPVwiYnVmZmVyXCJpbiBuP246bmV3IEZsb2F0NjRBcnJheShuKSxmPVwiYnVmZmVyXCJpbiBvP25ldyBVaW50MzJBcnJheShvLmJ1ZmZlcik6bmV3IFVpbnQzMkFycmF5KG5ldyBVaW50OEFycmF5KG8pLmJ1ZmZlciksdT1mLmxlbmd0aC8oYS1lKTtmb3IobGV0IHM9MDtzPGMubGVuZ3RoO3MrKyl7Y29uc3Qgcj1jW3NdLG49TWF0aC5mbG9vcigoci1lKSp1KTtpW3NdPWZbdChuLDAsZi5sZW5ndGgtMSldfXJldHVybiBpLmJ1ZmZlcn1mdW5jdGlvbiBtKHQscixuKXtjb25zdCBvPU1hdGguc3FydCh0KioyK3IqKjIpL247cmV0dXJuIG8+MT8wOjMvKE1hdGguUEkqbioqMikqKDEtbyoqMikqKjJ9ZnVuY3Rpb24geSh0LHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDp0P1wic3RyaW5nXCI9PXR5cGVvZiByP3I9Pi0xKityW3RdOm49PituW3RdK3I6KCk9PjF9ZnVuY3Rpb24gZCh0LHIpe3JldHVybiBudWxsIT10P1wic3RyaW5nXCI9PXR5cGVvZiByP3I9Pi0xKityLnJlYWRBdHRyaWJ1dGUodCk6bj0+K24ucmVhZEF0dHJpYnV0ZSh0KStyOnQ9PjF9ZXhwb3J0e2EgYXMgTUFHSUNfS0VSTkVMX0RFTlNJVFlfUkFESVVTX0lORkxBVElPTl9GQUNUT1IscyBhcyBjYWxjdWxhdGVIZWF0bWFwSW50ZW5zaXR5SW5mb1JlYWRlcnMsaCBhcyBjcmVhdGVIZWF0bWFwSW1hZ2VEYXRhLHkgYXMgY3JlYXRlVmFsdWVGdW5jdGlvbixkIGFzIGNyZWF0ZVZhbHVlRnVuY3Rpb25DdXJzb3IsbCBhcyBkcmF3SGVhdG1hcCxtIGFzIGV2YWx1YXRlRGVuc2l0eUtlcm5lbCxpIGFzIGdhdXNzaWFuQmx1clJhZGl1c1B4VG9LZXJuZWxEZW5zaXR5UmFkaXVzUHQsdSBhcyBnZW5lcmF0ZUdyYWRpZW50LGMgYXMga2VybmVsRGVuc2l0eVJhZGl1c1B0VG9HYXVzc2lhbkJsdXJSYWRpdXNQeH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3BhY2tGbG9hdFJHQkEgYXMgb31mcm9tXCIuLi8uLi9jb3JlL2Zsb2F0UkdCQS5qc1wiO2ltcG9ydHtuZXh0UG93ZXJPZlR3byBhcyB0fWZyb21cIi4uLy4uL2NvcmUvbWF0aFV0aWxzLmpzXCI7Y29uc3QgYT1vPT5cInZlcnRpY2FsXCI9PT1vfHxcImhvcml6b250YWxcIj09PW98fFwiY3Jvc3NcIj09PW98fFwiZXNyaVNGU0Nyb3NzXCI9PT1vfHxcImVzcmlTRlNWZXJ0aWNhbFwiPT09b3x8XCJlc3JpU0ZTSG9yaXpvbnRhbFwiPT09bztmdW5jdGlvbiByKG8scixlKXtjb25zdCBpPXQoTWF0aC5jZWlsKGUpKSxuPWEocik/OCppOjE2Kmkscz0yKmk7by53aWR0aD1uLG8uaGVpZ2h0PW47Y29uc3QgbD1vLmdldENvbnRleHQoXCIyZFwiKTtsLnN0cm9rZVN0eWxlPVwiI0ZGRkZGRlwiLGwubGluZVdpZHRoPWksbC5iZWdpblBhdGgoKSxcInZlcnRpY2FsXCIhPT1yJiZcImNyb3NzXCIhPT1yJiZcImVzcmlTRlNDcm9zc1wiIT09ciYmXCJlc3JpU0ZTVmVydGljYWxcIiE9PXJ8fChsLm1vdmVUbyhuLzIsLXMpLGwubGluZVRvKG4vMixuK3MpKSxcImhvcml6b250YWxcIiE9PXImJlwiY3Jvc3NcIiE9PXImJlwiZXNyaVNGU0Nyb3NzXCIhPT1yJiZcImVzcmlTRlNIb3Jpem9udGFsXCIhPT1yfHwobC5tb3ZlVG8oLXMsbi8yKSxsLmxpbmVUbyhuK3Msbi8yKSksXCJmb3J3YXJkLWRpYWdvbmFsXCIhPT1yJiZcImRpYWdvbmFsLWNyb3NzXCIhPT1yJiZcImVzcmlTRlNEaWFnb25hbENyb3NzXCIhPT1yJiZcImVzcmlTRlNGb3J3YXJkRGlhZ29uYWxcIiE9PXJ8fChsLm1vdmVUbygtcywtcyksbC5saW5lVG8obitzLG4rcyksbC5tb3ZlVG8obi1zLC1zKSxsLmxpbmVUbyhuK3MscyksbC5tb3ZlVG8oLXMsbi1zKSxsLmxpbmVUbyhzLG4rcykpLFwiYmFja3dhcmQtZGlhZ29uYWxcIiE9PXImJlwiZGlhZ29uYWwtY3Jvc3NcIiE9PXImJlwiZXNyaVNGU0JhY2t3YXJkRGlhZ29uYWxcIiE9PXImJlwiZXNyaVNGU0RpYWdvbmFsQ3Jvc3NcIiE9PXJ8fChsLm1vdmVUbyhuK3MsLXMpLGwubGluZVRvKC1zLG4rcyksbC5tb3ZlVG8ocywtcyksbC5saW5lVG8oLXMscyksbC5tb3ZlVG8obitzLG4tcyksbC5saW5lVG8obi1zLG4rcykpLGwuc3Ryb2tlKCk7Y29uc3QgaD1sLmdldEltYWdlRGF0YSgwLDAsby53aWR0aCxvLmhlaWdodCksYz1uZXcgVWludDhBcnJheShoLmRhdGEpO2xldCBtO2ZvcihsZXQgdD0wO3Q8Yy5sZW5ndGg7dCs9NCltPWNbdCszXS8yNTUsY1t0XT1jW3RdKm0sY1t0KzFdPWNbdCsxXSptLGNbdCsyXT1jW3QrMl0qbTtyZXR1cm5bYyxvLndpZHRoLG8uaGVpZ2h0XX1mdW5jdGlvbiBlKHQsYSl7Y29uc3Qgcj1cIkJ1dHRcIj09PWEsZT1cIlNxdWFyZVwiPT09YSxpPSFyJiYhZTt0Lmxlbmd0aCUyPT0xJiYodD1bLi4udCwuLi50XSk7Y29uc3Qgbj0xNS41LHM9MipuO2xldCBsPTA7Zm9yKGNvbnN0IG8gb2YgdClsKz1vO2NvbnN0IGg9TWF0aC5yb3VuZChsKm4pLGM9bmV3IEZsb2F0MzJBcnJheShoKnMpLG09LjUqbjtsZXQgUz0wLEY9MCxnPS41LFQ9ITA7Zm9yKGNvbnN0IG8gb2YgdCl7Zm9yKFM9RixGKz1vKm47Zzw9Rjspe2xldCBvPS41O2Zvcig7bzxzOyl7Y29uc3QgdD0oby0uNSkqaCtnLS41LGE9aT8oby1uKSooby1uKTpNYXRoLmFicyhvLW4pO2NbdF09VD9yP01hdGgubWF4KE1hdGgubWF4KFMrbS1nLGEpLE1hdGgubWF4KGctRittLGEpKTphOmk/TWF0aC5taW4oKGctUykqKGctUykrYSwoZy1GKSooZy1GKSthKTplP01hdGgubWluKE1hdGgubWF4KGctUyxhKSxNYXRoLm1heChGLWcsYSkpOk1hdGgubWluKE1hdGgubWF4KGctUyttLGEpLE1hdGgubWF4KEYrbS1nLGEpKSxvKyt9ZysrfVQ9IVR9Y29uc3QgZD1jLmxlbmd0aCxmPW5ldyBVaW50OEFycmF5KDQqZCk7Zm9yKGxldCBNPTA7TTxkOysrTSl7Y29uc3QgdD0oaT9NYXRoLnNxcnQoY1tNXSk6Y1tNXSkvbjtvKHQsZiw0Kk0pfXJldHVybltmLGgsc119ZXhwb3J0e2UgYXMgcmFzdGVyaXplRGFzaCxyIGFzIHJhc3Rlcml6ZVNpbXBsZUZpbGx9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4vUmVjdGFuZ2xlQmluUGFjay5qc1wiO2ltcG9ydCBlIGZyb21cIi4uL3dlYmdsL1JlY3QuanNcIjtpbXBvcnR7UGl4ZWxGb3JtYXQgYXMgcyxUZXh0dXJlV3JhcE1vZGUgYXMgaX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtUZXh0dXJlIGFzIGh9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvVGV4dHVyZS5qc1wiO2ltcG9ydHtUZXh0dXJlRGVzY3JpcHRvciBhcyByfWZyb21cIi4uLy4uLy4uL3dlYmdsL1RleHR1cmVEZXNjcmlwdG9yLmpzXCI7Y2xhc3Mgbntjb25zdHJ1Y3RvcihlLHMsaSl7dGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fZGlydGllcz1bXSx0aGlzLl9nbHlwaERhdGE9W10sdGhpcy5fY3VycmVudFBhZ2U9MCx0aGlzLl9nbHlwaEluZGV4PXt9LHRoaXMuX3RleHR1cmVzPVtdLHRoaXMuX3JhbmdlUHJvbWlzZXM9bmV3IE1hcCx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9cyx0aGlzLl9nbHlwaFNvdXJjZT1pLHRoaXMuX2JpblBhY2s9bmV3IHQoZS00LHMtNCksdGhpcy5fZ2x5cGhEYXRhLnB1c2gobmV3IFVpbnQ4QXJyYXkoZSpzKSksdGhpcy5fZGlydGllcy5wdXNoKCEwKSx0aGlzLl90ZXh0dXJlcy5wdXNoKHZvaWQgMCl9Z2V0R2x5cGhJdGVtcyhzLGkpe2NvbnN0IGg9W10scj10aGlzLl9nbHlwaFNvdXJjZSxuPW5ldyBTZXQsbz0xLzI1Njtmb3IoY29uc3QgdCBvZiBpKXtjb25zdCBlPU1hdGguZmxvb3IodCpvKTtuLmFkZChlKX1jb25zdCBhPVtdO3JldHVybiBuLmZvckVhY2goKHQ9Pntjb25zdCBlPXMrdDtpZih0aGlzLl9yYW5nZVByb21pc2VzLmhhcyhlKSlhLnB1c2godGhpcy5fcmFuZ2VQcm9taXNlcy5nZXQoZSkpO2Vsc2V7Y29uc3QgaT1yLmdldFJhbmdlKHMsdCkudGhlbigoKCk9Pnt0aGlzLl9yYW5nZVByb21pc2VzLmRlbGV0ZShlKX0pLCgoKT0+e3RoaXMuX3JhbmdlUHJvbWlzZXMuZGVsZXRlKGUpfSkpO3RoaXMuX3JhbmdlUHJvbWlzZXMuc2V0KGUsaSksYS5wdXNoKGkpfX0pKSxQcm9taXNlLmFsbChhKS50aGVuKCgoKT0+e2xldCBuPXRoaXMuX2dseXBoSW5kZXhbc107bnx8KG49e30sdGhpcy5fZ2x5cGhJbmRleFtzXT1uKTtmb3IoY29uc3QgbyBvZiBpKXtjb25zdCBpPW5bb107aWYoaSl7aFtvXT17c2RmOiEwLHJlY3Q6aS5yZWN0LG1ldHJpY3M6aS5tZXRyaWNzLHBhZ2U6aS5wYWdlLGNvZGU6b307Y29udGludWV9Y29uc3QgYT1yLmdldEdseXBoKHMsbyk7aWYoIWF8fCFhLm1ldHJpY3MpY29udGludWU7Y29uc3QgYz1hLm1ldHJpY3M7bGV0IGw7aWYoMD09PWMud2lkdGgpbD1uZXcgZSgwLDAsMCwwKTtlbHNle2NvbnN0IGU9MyxzPWMud2lkdGgrMiplLGk9Yy5oZWlnaHQrMiplO2xldCBoPXMlND80LXMlNDo0LHI9aSU0PzQtaSU0OjQ7MT09PWgmJihoPTUpLDE9PT1yJiYocj01KSxsPXRoaXMuX2JpblBhY2suYWxsb2NhdGUocytoLGkrciksbC5pc0VtcHR5JiYodGhpcy5fZGlydGllc1t0aGlzLl9jdXJyZW50UGFnZV18fCh0aGlzLl9nbHlwaERhdGFbdGhpcy5fY3VycmVudFBhZ2VdPW51bGwpLHRoaXMuX2N1cnJlbnRQYWdlPXRoaXMuX2dseXBoRGF0YS5sZW5ndGgsdGhpcy5fZ2x5cGhEYXRhLnB1c2gobmV3IFVpbnQ4QXJyYXkodGhpcy53aWR0aCp0aGlzLmhlaWdodCkpLHRoaXMuX2RpcnRpZXMucHVzaCghMCksdGhpcy5fdGV4dHVyZXMucHVzaCh2b2lkIDApLHRoaXMuX2JpblBhY2s9bmV3IHQodGhpcy53aWR0aC00LHRoaXMuaGVpZ2h0LTQpLGw9dGhpcy5fYmluUGFjay5hbGxvY2F0ZShzK2gsaStyKSk7Y29uc3Qgbj10aGlzLl9nbHlwaERhdGFbdGhpcy5fY3VycmVudFBhZ2VdLG89YS5iaXRtYXA7bGV0IGcsXztpZihvKWZvcihsZXQgdD0wO3Q8aTt0Kyspe2c9cyp0LF89dGhpcy53aWR0aCoobC55K3QrMSkrbC54O2ZvcihsZXQgdD0wO3Q8czt0KyspbltfK3QrMV09b1tnK3RdfX1uW29dPXtyZWN0OmwsbWV0cmljczpjLHRpbGVJRHM6bnVsbCxwYWdlOnRoaXMuX2N1cnJlbnRQYWdlfSxoW29dPXtzZGY6ITAscmVjdDpsLG1ldHJpY3M6YyxwYWdlOnRoaXMuX2N1cnJlbnRQYWdlLGNvZGU6b30sdGhpcy5fZGlydGllc1t0aGlzLl9jdXJyZW50UGFnZV09ITB9cmV0dXJuIGh9KSl9cmVtb3ZlR2x5cGhzKHQpe2Zvcihjb25zdCBlIGluIHRoaXMuX2dseXBoSW5kZXgpe2NvbnN0IHM9dGhpcy5fZ2x5cGhJbmRleFtlXTtpZighcyljb250aW51ZTtsZXQgaTtmb3IoY29uc3QgZSBpbiBzKWlmKGk9c1tlXSxpLnRpbGVJRHMuZGVsZXRlKHQpLDA9PT1pLnRpbGVJRHMuc2l6ZSl7Y29uc3QgdD10aGlzLl9nbHlwaERhdGFbaS5wYWdlXSxoPWkucmVjdDtsZXQgcixuO2ZvcihsZXQgZT0wO2U8aC5oZWlnaHQ7ZSsrKWZvcihyPXRoaXMud2lkdGgqKGgueStlKStoLngsbj0wO248aC53aWR0aDtuKyspdFtyK25dPTA7ZGVsZXRlIHNbZV0sdGhpcy5fZGlydGllc1tpLnBhZ2VdPSEwfX19YmluZCh0LGUsbixvPTApe2lmKCF0aGlzLl90ZXh0dXJlc1tuXSl7Y29uc3QgZT1uZXcgcjtlLnBpeGVsRm9ybWF0PXMuQUxQSEEsZS53cmFwTW9kZT1pLkNMQU1QX1RPX0VER0UsZS53aWR0aD10aGlzLndpZHRoLGUuaGVpZ2h0PXRoaXMuaGVpZ2h0LHRoaXMuX3RleHR1cmVzW25dPW5ldyBoKHQsZSxuZXcgVWludDhBcnJheSh0aGlzLndpZHRoKnRoaXMuaGVpZ2h0KSl9Y29uc3QgYT10aGlzLl90ZXh0dXJlc1tuXTthLnNldFNhbXBsaW5nTW9kZShlKSx0aGlzLl9kaXJ0aWVzW25dJiZhLnNldERhdGEodGhpcy5fZ2x5cGhEYXRhW25dKSx0LmJpbmRUZXh0dXJlKGEsbyksdGhpcy5fZGlydGllc1tuXT0hMX1kaXNwb3NlKCl7dGhpcy5fYmluUGFjaz1udWxsO2Zvcihjb25zdCB0IG9mIHRoaXMuX3RleHR1cmVzKXQmJnQuZGlzcG9zZSgpO3RoaXMuX3RleHR1cmVzLmxlbmd0aD0wfX1leHBvcnR7biBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuLi8uLi8uLi8uLi9yZXF1ZXN0LmpzXCI7aW1wb3J0IHQgZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9wYmYuanNcIjtjbGFzcyBze2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMuX21ldHJpY3M9W10sdGhpcy5fYml0bWFwcz1bXSxlKWZvcig7ZS5uZXh0KCk7KXN3aXRjaChlLnRhZygpKXtjYXNlIDE6e2NvbnN0IHQ9ZS5nZXRNZXNzYWdlKCk7Zm9yKDt0Lm5leHQoKTspc3dpdGNoKHQudGFnKCkpe2Nhc2UgMzp7Y29uc3QgZT10LmdldE1lc3NhZ2UoKTtsZXQgcyxhLHIsbixpLGMsZztmb3IoO2UubmV4dCgpOylzd2l0Y2goZS50YWcoKSl7Y2FzZSAxOnM9ZS5nZXRVSW50MzIoKTticmVhaztjYXNlIDI6YT1lLmdldEJ5dGVzKCk7YnJlYWs7Y2FzZSAzOnI9ZS5nZXRVSW50MzIoKTticmVhaztjYXNlIDQ6bj1lLmdldFVJbnQzMigpO2JyZWFrO2Nhc2UgNTppPWUuZ2V0U0ludDMyKCk7YnJlYWs7Y2FzZSA2OmM9ZS5nZXRTSW50MzIoKTticmVhaztjYXNlIDc6Zz1lLmdldFVJbnQzMigpO2JyZWFrO2RlZmF1bHQ6ZS5za2lwKCl9ZS5yZWxlYXNlKCkscyYmKHRoaXMuX21ldHJpY3Nbc109e3dpZHRoOnIsaGVpZ2h0Om4sbGVmdDppLHRvcDpjLGFkdmFuY2U6Z30sdGhpcy5fYml0bWFwc1tzXT1hKTticmVha31kZWZhdWx0OnQuc2tpcCgpfXQucmVsZWFzZSgpO2JyZWFrfWRlZmF1bHQ6ZS5za2lwKCl9fWdldE1ldHJpY3MoZSl7cmV0dXJuIHRoaXMuX21ldHJpY3NbZV19Z2V0Qml0bWFwKGUpe3JldHVybiB0aGlzLl9iaXRtYXBzW2VdfX1jbGFzcyBhe2NvbnN0cnVjdG9yKCl7dGhpcy5fcmFuZ2VzPVtdfWdldFJhbmdlKGUpe3JldHVybiB0aGlzLl9yYW5nZXNbZV19YWRkUmFuZ2UoZSx0KXt0aGlzLl9yYW5nZXNbZV09dH19Y2xhc3Mgcntjb25zdHJ1Y3RvcihlKXt0aGlzLl9nbHlwaEluZm89e30sdGhpcy5fYmFzZVVSTD1lfWdldFJhbmdlKGEscil7Y29uc3Qgbj10aGlzLl9nZXRGb250U3RhY2soYSk7aWYobi5nZXRSYW5nZShyKSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7Y29uc3QgaT0yNTYqcixjPWkrMjU1O2lmKHRoaXMuX2Jhc2VVUkwpe2NvbnN0IGc9dGhpcy5fYmFzZVVSTC5yZXBsYWNlKFwie2ZvbnRzdGFja31cIixhKS5yZXBsYWNlKFwie3JhbmdlfVwiLGkrXCItXCIrYyk7cmV0dXJuIGUoZyx7cmVzcG9uc2VUeXBlOlwiYXJyYXktYnVmZmVyXCJ9KS50aGVuKChlPT57bi5hZGRSYW5nZShyLG5ldyBzKG5ldyB0KG5ldyBVaW50OEFycmF5KGUuZGF0YSksbmV3IERhdGFWaWV3KGUuZGF0YSkpKSl9KSkuY2F0Y2goKCgpPT57bi5hZGRSYW5nZShyLG5ldyBzKX0pKX1yZXR1cm4gbi5hZGRSYW5nZShyLG5ldyBzKSxQcm9taXNlLnJlc29sdmUoKX1nZXRHbHlwaChlLHQpe2NvbnN0IHM9dGhpcy5fZ2V0Rm9udFN0YWNrKGUpO2lmKCFzKXJldHVybjtjb25zdCBhPU1hdGguZmxvb3IodC8yNTYpLHI9cy5nZXRSYW5nZShhKTtyZXR1cm4gcj97bWV0cmljczpyLmdldE1ldHJpY3ModCksYml0bWFwOnIuZ2V0Qml0bWFwKHQpfTp2b2lkIDB9X2dldEZvbnRTdGFjayhlKXtsZXQgdD10aGlzLl9nbHlwaEluZm9bZV07cmV0dXJuIHR8fCh0PXRoaXMuX2dseXBoSW5mb1tlXT1uZXcgYSksdH19ZXhwb3J0e3IgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGggZnJvbVwiLi4vd2ViZ2wvUmVjdC5qc1wiO2NsYXNzIGV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl93aWR0aD0wLHRoaXMuX2hlaWdodD0wLHRoaXMuX2ZyZWU9W10sdGhpcy5fd2lkdGg9ZSx0aGlzLl9oZWlnaHQ9dCx0aGlzLl9mcmVlLnB1c2gobmV3IGgoMCwwLGUsdCkpfWdldCB3aWR0aCgpe3JldHVybiB0aGlzLl93aWR0aH1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMuX2hlaWdodH1hbGxvY2F0ZShlLHQpe2lmKGU+dGhpcy5fd2lkdGh8fHQ+dGhpcy5faGVpZ2h0KXJldHVybiBuZXcgaDtsZXQgaT1udWxsLHM9LTE7Zm9yKGxldCBoPTA7aDx0aGlzLl9mcmVlLmxlbmd0aDsrK2gpe2NvbnN0IHc9dGhpcy5fZnJlZVtoXTtlPD13LndpZHRoJiZ0PD13LmhlaWdodCYmKG51bGw9PT1pfHx3Lnk8PWkueSYmdy54PD1pLngpJiYoaT13LHM9aCl9cmV0dXJuIG51bGw9PT1pP25ldyBoOih0aGlzLl9mcmVlLnNwbGljZShzLDEpLGkud2lkdGg8aS5oZWlnaHQ/KGkud2lkdGg+ZSYmdGhpcy5fZnJlZS5wdXNoKG5ldyBoKGkueCtlLGkueSxpLndpZHRoLWUsdCkpLGkuaGVpZ2h0PnQmJnRoaXMuX2ZyZWUucHVzaChuZXcgaChpLngsaS55K3QsaS53aWR0aCxpLmhlaWdodC10KSkpOihpLndpZHRoPmUmJnRoaXMuX2ZyZWUucHVzaChuZXcgaChpLngrZSxpLnksaS53aWR0aC1lLGkuaGVpZ2h0KSksaS5oZWlnaHQ+dCYmdGhpcy5fZnJlZS5wdXNoKG5ldyBoKGkueCxpLnkrdCxlLGkuaGVpZ2h0LXQpKSksbmV3IGgoaS54LGkueSxlLHQpKX1yZWxlYXNlKGgpe2ZvcihsZXQgZT0wO2U8dGhpcy5fZnJlZS5sZW5ndGg7KytlKXtjb25zdCB0PXRoaXMuX2ZyZWVbZV07aWYodC55PT09aC55JiZ0LmhlaWdodD09PWguaGVpZ2h0JiZ0LngrdC53aWR0aD09PWgueCl0LndpZHRoKz1oLndpZHRoO2Vsc2UgaWYodC54PT09aC54JiZ0LndpZHRoPT09aC53aWR0aCYmdC55K3QuaGVpZ2h0PT09aC55KXQuaGVpZ2h0Kz1oLmhlaWdodDtlbHNlIGlmKGgueT09PXQueSYmaC5oZWlnaHQ9PT10LmhlaWdodCYmaC54K2gud2lkdGg9PT10LngpdC54PWgueCx0LndpZHRoKz1oLndpZHRoO2Vsc2V7aWYoaC54IT09dC54fHxoLndpZHRoIT09dC53aWR0aHx8aC55K2guaGVpZ2h0IT09dC55KWNvbnRpbnVlO3QueT1oLnksdC5oZWlnaHQrPWguaGVpZ2h0fXRoaXMuX2ZyZWUuc3BsaWNlKGUsMSksdGhpcy5yZWxlYXNlKGgpfXRoaXMuX2ZyZWUucHVzaChoKX19ZXhwb3J0e2UgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Rpc3Bvc2VNYXliZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7ZXN0aW1hdGVTaXplIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS90eXBlZEFycmF5VXRpbC5qc1wiO2ltcG9ydHtCdWNrZXRUeXBlIGFzIHJ9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtkZXNlcmlhbGl6ZVN5bWJvbHMgYXMgbn1mcm9tXCIuL2RlY2x1dHRlcmluZy91dGlsLmpzXCI7aW1wb3J0e0J1ZmZlck9iamVjdCBhcyBzfWZyb21cIi4uLy4uLy4uL3dlYmdsL0J1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHtVc2FnZSBhcyBpfWZyb21cIi4uLy4uLy4uL3dlYmdsL2VudW1zLmpzXCI7aW1wb3J0e1ZlcnRleEFycmF5T2JqZWN0IGFzIGF9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvVmVydGV4QXJyYXlPYmplY3QuanNcIjtjbGFzcyBve2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5sYXllclVJRHM9W10sdGhpcy5pc0Rlc3Ryb3llZD0hMSx0aGlzLl9kYXRhPXQ7bGV0IHI9MTtjb25zdCBuPW5ldyBVaW50MzJBcnJheSh0KTt0aGlzLmxheWVyVUlEcz1bXTtjb25zdCBzPW5bcisrXTtmb3IobGV0IGk9MDtpPHM7aSsrKXRoaXMubGF5ZXJVSURzW2ldPW5bcisrXTt0aGlzLmJ1ZmZlckRhdGFPZmZzZXQ9cixlJiYodGhpcy5sYXllcj1lLmdldFN0eWxlTGF5ZXJCeVVJRCh0aGlzLmxheWVyVUlEc1swXSkpfWdldCBpc1ByZXBhcmVkRm9yUmVuZGVyaW5nKCl7cmV0dXJuIG51bGw9PXRoaXMuX2RhdGF9Z2V0IG9mZnNldCgpe3JldHVybiB0aGlzLmJ1ZmZlckRhdGFPZmZzZXR9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5fZGF0YX1kZXN0cm95KCl7dGhpcy5pc0Rlc3Ryb3llZHx8KHRoaXMuZG9EZXN0cm95KCksdGhpcy5pc0Rlc3Ryb3llZD0hMCl9cHJlcGFyZUZvclJlbmRlcmluZyh0KXtudWxsIT10aGlzLl9kYXRhJiYodGhpcy5kb1ByZXBhcmVGb3JSZW5kZXJpbmcodCx0aGlzLl9kYXRhLHRoaXMuYnVmZmVyRGF0YU9mZnNldCksdGhpcy5fZGF0YT1udWxsKX19Y2xhc3MgaCBleHRlbmRzIG97Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMudHlwZT1yLkxJTkUsdGhpcy5saW5lSW5kZXhTdGFydD0wLHRoaXMubGluZUluZGV4Q291bnQ9MDtjb25zdCBuPW5ldyBVaW50MzJBcnJheSh0KTtsZXQgcz10aGlzLmJ1ZmZlckRhdGFPZmZzZXQ7dGhpcy5saW5lSW5kZXhTdGFydD1uW3MrK10sdGhpcy5saW5lSW5kZXhDb3VudD1uW3MrK107Y29uc3QgaT1uW3MrK107aWYoaT4wKXt0aGlzLnBhdHRlcm5NYXA9bmV3IE1hcDtmb3IobGV0IHQ9MDt0PGk7dCsrKXtjb25zdCB0PW5bcysrXSxlPW5bcysrXSxyPW5bcysrXTt0aGlzLnBhdHRlcm5NYXAuc2V0KHQsW2Uscl0pfX10aGlzLmJ1ZmZlckRhdGFPZmZzZXQ9c31nZXQgbWVtb3J5VXNlZCgpe3JldHVybih0aGlzLmRhdGE/LmJ5dGVMZW5ndGg/PzApKyh0aGlzLnZhbz8ubWVtb3J5RXN0aW1hdGU/PzApfWhhc0RhdGEoKXtyZXR1cm4gdGhpcy5saW5lSW5kZXhDb3VudD4wfXRyaWFuZ2xlQ291bnQoKXtyZXR1cm4gdGhpcy5saW5lSW5kZXhDb3VudC8zfWRvRGVzdHJveSgpe3RoaXMudmFvPXQodGhpcy52YW8pfWRvUHJlcGFyZUZvclJlbmRlcmluZyh0LGUscil7Y29uc3Qgbj1uZXcgVWludDMyQXJyYXkoZSksbz1uZXcgSW50MzJBcnJheShuLmJ1ZmZlciksaD1uW3IrK10sZj1zLmNyZWF0ZVZlcnRleCh0LGkuU1RBVElDX0RSQVcsbmV3IEludDMyQXJyYXkoby5idWZmZXIsNCpyLGgpKTtyKz1oO2NvbnN0IGM9bltyKytdLGw9cy5jcmVhdGVJbmRleCh0LGkuU1RBVElDX0RSQVcsbmV3IFVpbnQzMkFycmF5KG4uYnVmZmVyLDQqcixjKSk7cis9Yztjb25zdCB5PXRoaXMubGF5ZXIubGluZU1hdGVyaWFsO3RoaXMudmFvPW5ldyBhKHQseS5nZXRBdHRyaWJ1dGVMb2NhdGlvbnMoKSx5LmdldExheW91dEluZm8oKSx7Z2VvbWV0cnk6Zn0sbCl9fWNsYXNzIGYgZXh0ZW5kcyBve2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLnR5cGU9ci5GSUxMLHRoaXMuZmlsbEluZGV4U3RhcnQ9MCx0aGlzLmZpbGxJbmRleENvdW50PTAsdGhpcy5vdXRsaW5lSW5kZXhTdGFydD0wLHRoaXMub3V0bGluZUluZGV4Q291bnQ9MDtjb25zdCBuPW5ldyBVaW50MzJBcnJheSh0KTtsZXQgcz10aGlzLmJ1ZmZlckRhdGFPZmZzZXQ7dGhpcy5maWxsSW5kZXhTdGFydD1uW3MrK10sdGhpcy5maWxsSW5kZXhDb3VudD1uW3MrK10sdGhpcy5vdXRsaW5lSW5kZXhTdGFydD1uW3MrK10sdGhpcy5vdXRsaW5lSW5kZXhDb3VudD1uW3MrK107Y29uc3QgaT1uW3MrK107aWYoaT4wKXt0aGlzLnBhdHRlcm5NYXA9bmV3IE1hcDtmb3IobGV0IHQ9MDt0PGk7dCsrKXtjb25zdCB0PW5bcysrXSxlPW5bcysrXSxyPW5bcysrXTt0aGlzLnBhdHRlcm5NYXAuc2V0KHQsW2Uscl0pfX10aGlzLmJ1ZmZlckRhdGFPZmZzZXQ9c31nZXQgbWVtb3J5VXNlZCgpe3JldHVybih0aGlzLmRhdGE/LmJ5dGVMZW5ndGg/PzApKyh0aGlzLmZpbGxWQU8/Lm1lbW9yeUVzdGltYXRlPz8wKSsodGhpcy5vdXRsaW5lVkFPPy5tZW1vcnlFc3RpbWF0ZT8/MCl9aGFzRGF0YSgpe3JldHVybiB0aGlzLmZpbGxJbmRleENvdW50PjB8fHRoaXMub3V0bGluZUluZGV4Q291bnQ+MH10cmlhbmdsZUNvdW50KCl7cmV0dXJuKHRoaXMuZmlsbEluZGV4Q291bnQrdGhpcy5vdXRsaW5lSW5kZXhDb3VudCkvM31kb0Rlc3Ryb3koKXt0aGlzLmZpbGxWQU89dCh0aGlzLmZpbGxWQU8pLHRoaXMub3V0bGluZVZBTz10KHRoaXMub3V0bGluZVZBTyl9ZG9QcmVwYXJlRm9yUmVuZGVyaW5nKHQsZSxyKXtjb25zdCBuPW5ldyBVaW50MzJBcnJheShlKSxvPW5ldyBJbnQzMkFycmF5KG4uYnVmZmVyKSxoPW5bcisrXSxmPXMuY3JlYXRlVmVydGV4KHQsaS5TVEFUSUNfRFJBVyxuZXcgSW50MzJBcnJheShvLmJ1ZmZlciw0KnIsaCkpO3IrPWg7Y29uc3QgYz1uW3IrK10sbD1zLmNyZWF0ZUluZGV4KHQsaS5TVEFUSUNfRFJBVyxuZXcgVWludDMyQXJyYXkobi5idWZmZXIsNCpyLGMpKTtyKz1jO2NvbnN0IHk9bltyKytdLHU9cy5jcmVhdGVWZXJ0ZXgodCxpLlNUQVRJQ19EUkFXLG5ldyBJbnQzMkFycmF5KG8uYnVmZmVyLDQqcix5KSk7cis9eTtjb25zdCBBPW5bcisrXSxkPXMuY3JlYXRlSW5kZXgodCxpLlNUQVRJQ19EUkFXLG5ldyBVaW50MzJBcnJheShuLmJ1ZmZlciw0KnIsQSkpO3IrPUE7Y29uc3QgST10aGlzLmxheWVyLGc9SS5maWxsTWF0ZXJpYWwscD1JLm91dGxpbmVNYXRlcmlhbDt0aGlzLmZpbGxWQU89bmV3IGEodCxnLmdldEF0dHJpYnV0ZUxvY2F0aW9ucygpLGcuZ2V0TGF5b3V0SW5mbygpLHtnZW9tZXRyeTpmfSxsKSx0aGlzLm91dGxpbmVWQU89bmV3IGEodCxwLmdldEF0dHJpYnV0ZUxvY2F0aW9ucygpLHAuZ2V0TGF5b3V0SW5mbygpLHtnZW9tZXRyeTp1fSxkKX19Y2xhc3MgYyBleHRlbmRzIG97Y29uc3RydWN0b3IodCxlLHMpe3N1cGVyKHQsZSksdGhpcy50eXBlPXIuU1lNQk9MLHRoaXMuaWNvblBlclBhZ2VFbGVtZW50c01hcD1uZXcgTWFwLHRoaXMuZ2x5cGhQZXJQYWdlRWxlbWVudHNNYXA9bmV3IE1hcCx0aGlzLnN5bWJvbEluc3RhbmNlcz1bXSx0aGlzLmlzSWNvblNERj0hMSx0aGlzLm9wYWNpdHlDaGFuZ2VkPSExLHRoaXMubGFzdE9wYWNpdHlVcGRhdGU9MCx0aGlzLnN5bWJvbHM9W107Y29uc3QgaT1uZXcgVWludDMyQXJyYXkodCksYT1uZXcgSW50MzJBcnJheSh0KSxvPW5ldyBGbG9hdDMyQXJyYXkodCk7bGV0IGg9dGhpcy5idWZmZXJEYXRhT2Zmc2V0O3RoaXMuaXNJY29uU0RGPSEhaVtoKytdO2NvbnN0IGY9aVtoKytdO2ZvcihsZXQgcj0wO3I8ZjtyKyspe2NvbnN0IHQ9aVtoKytdLGU9aVtoKytdLHI9aVtoKytdO3RoaXMuaWNvblBlclBhZ2VFbGVtZW50c01hcC5zZXQodCxbZSxyXSl9Y29uc3QgYz1pW2grK107Zm9yKGxldCByPTA7cjxjO3IrKyl7Y29uc3QgdD1pW2grK10sZT1pW2grK10scj1pW2grK107dGhpcy5nbHlwaFBlclBhZ2VFbGVtZW50c01hcC5zZXQodCxbZSxyXSl9Y29uc3QgbD1pW2grK10seT1pW2grK107dGhpcy5pY29uT3BhY2l0eT1uZXcgSW50MzJBcnJheShsKSx0aGlzLnRleHRPcGFjaXR5PW5ldyBJbnQzMkFycmF5KHkpLGg9bihpLGEsbyxoLHRoaXMuc3ltYm9scyxzKSx0aGlzLmJ1ZmZlckRhdGFPZmZzZXQ9aH1nZXQgbWVtb3J5VXNlZCgpe3JldHVybih0aGlzLmRhdGE/LmJ5dGVMZW5ndGg/PzApKyh0aGlzLmljb25WQU8/Lm1lbW9yeUVzdGltYXRlPz8wKSsodGhpcy50ZXh0VkFPPy5tZW1vcnlFc3RpbWF0ZT8/MCkrZSh0aGlzLmljb25PcGFjaXR5KStlKHRoaXMudGV4dE9wYWNpdHkpfWhhc0RhdGEoKXtyZXR1cm4gdGhpcy5pY29uUGVyUGFnZUVsZW1lbnRzTWFwLnNpemU+MHx8dGhpcy5nbHlwaFBlclBhZ2VFbGVtZW50c01hcC5zaXplPjB9dHJpYW5nbGVDb3VudCgpe2xldCB0PTA7Zm9yKGNvbnN0W2Uscl1vZiB0aGlzLmljb25QZXJQYWdlRWxlbWVudHNNYXApdCs9clsxXTtmb3IoY29uc3RbZSxyXW9mIHRoaXMuZ2x5cGhQZXJQYWdlRWxlbWVudHNNYXApdCs9clsxXTtyZXR1cm4gdC8zfWRvRGVzdHJveSgpe3RoaXMuaWNvblZBTz10KHRoaXMuaWNvblZBTyksdGhpcy50ZXh0VkFPPXQodGhpcy50ZXh0VkFPKX11cGRhdGVPcGFjaXR5SW5mbygpe2lmKCF0aGlzLm9wYWNpdHlDaGFuZ2VkKXJldHVybjt0aGlzLm9wYWNpdHlDaGFuZ2VkPSExO2NvbnN0IHQ9dGhpcy5pY29uT3BhY2l0eSxlPXRoaXMuaWNvblZBTy52ZXJ0ZXhCdWZmZXJzLm9wYWNpdHk7dC5sZW5ndGg+MCYmdC5ieXRlTGVuZ3RoPT09ZS5ieXRlTGVuZ3RoJiZlLnNldFN1YkRhdGEodCwwLDAsdC5sZW5ndGgpO2NvbnN0IHI9dGhpcy50ZXh0T3BhY2l0eSxuPXRoaXMudGV4dFZBTy52ZXJ0ZXhCdWZmZXJzLm9wYWNpdHk7ci5sZW5ndGg+MCYmci5ieXRlTGVuZ3RoPT09bi5ieXRlTGVuZ3RoJiZuLnNldFN1YkRhdGEociwwLDAsci5sZW5ndGgpfWRvUHJlcGFyZUZvclJlbmRlcmluZyh0LGUscil7Y29uc3Qgbj1uZXcgVWludDMyQXJyYXkoZSksbz1uZXcgSW50MzJBcnJheShuLmJ1ZmZlciksaD1uW3IrK10sZj1zLmNyZWF0ZVZlcnRleCh0LGkuU1RBVElDX0RSQVcsbmV3IEludDMyQXJyYXkoby5idWZmZXIsNCpyLGgpKTtyKz1oO2NvbnN0IGM9bltyKytdLGw9cy5jcmVhdGVJbmRleCh0LGkuU1RBVElDX0RSQVcsbmV3IFVpbnQzMkFycmF5KG4uYnVmZmVyLDQqcixjKSk7cis9Yztjb25zdCB5PW5bcisrXSx1PXMuY3JlYXRlVmVydGV4KHQsaS5TVEFUSUNfRFJBVyxuZXcgSW50MzJBcnJheShvLmJ1ZmZlciw0KnIseSkpO3IrPXk7Y29uc3QgQT1uW3IrK10sZD1zLmNyZWF0ZUluZGV4KHQsaS5TVEFUSUNfRFJBVyxuZXcgVWludDMyQXJyYXkobi5idWZmZXIsNCpyLEEpKTtyKz1BO2NvbnN0IEk9cy5jcmVhdGVWZXJ0ZXgodCxpLlNUQVRJQ19EUkFXLHRoaXMuaWNvbk9wYWNpdHkuYnVmZmVyKSxnPXMuY3JlYXRlVmVydGV4KHQsaS5TVEFUSUNfRFJBVyx0aGlzLnRleHRPcGFjaXR5LmJ1ZmZlcikscD10aGlzLmxheWVyLG09cC5pY29uTWF0ZXJpYWwseD1wLnRleHRNYXRlcmlhbDt0aGlzLmljb25WQU89bmV3IGEodCxtLmdldEF0dHJpYnV0ZUxvY2F0aW9ucygpLG0uZ2V0TGF5b3V0SW5mbygpLHtnZW9tZXRyeTpmLG9wYWNpdHk6SX0sbCksdGhpcy50ZXh0VkFPPW5ldyBhKHQseC5nZXRBdHRyaWJ1dGVMb2NhdGlvbnMoKSx4LmdldExheW91dEluZm8oKSx7Z2VvbWV0cnk6dSxvcGFjaXR5Omd9LGQpfX1jbGFzcyBsIGV4dGVuZHMgb3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy50eXBlPXIuQ0lSQ0xFLHRoaXMuY2lyY2xlSW5kZXhTdGFydD0wLHRoaXMuY2lyY2xlSW5kZXhDb3VudD0wO2NvbnN0IG49bmV3IFVpbnQzMkFycmF5KHQpO2xldCBzPXRoaXMuYnVmZmVyRGF0YU9mZnNldDt0aGlzLmNpcmNsZUluZGV4U3RhcnQ9bltzKytdLHRoaXMuY2lyY2xlSW5kZXhDb3VudD1uW3MrK10sdGhpcy5idWZmZXJEYXRhT2Zmc2V0PXN9Z2V0IG1lbW9yeVVzZWQoKXtyZXR1cm4odGhpcy5kYXRhPy5ieXRlTGVuZ3RoPz8wKSsodGhpcy52YW8/Lm1lbW9yeUVzdGltYXRlPz8wKX1oYXNEYXRhKCl7cmV0dXJuIHRoaXMuY2lyY2xlSW5kZXhDb3VudD4wfXRyaWFuZ2xlQ291bnQoKXtyZXR1cm4gdGhpcy5jaXJjbGVJbmRleENvdW50LzN9ZG9EZXN0cm95KCl7dGhpcy52YW89dCh0aGlzLnZhbyl9ZG9QcmVwYXJlRm9yUmVuZGVyaW5nKHQsZSxyKXtjb25zdCBuPW5ldyBVaW50MzJBcnJheShlKSxvPW5ldyBJbnQzMkFycmF5KG4uYnVmZmVyKSxoPW5bcisrXSxmPXMuY3JlYXRlVmVydGV4KHQsaS5TVEFUSUNfRFJBVyxuZXcgSW50MzJBcnJheShvLmJ1ZmZlciw0KnIsaCkpO3IrPWg7Y29uc3QgYz1uW3IrK10sbD1zLmNyZWF0ZUluZGV4KHQsaS5TVEFUSUNfRFJBVyxuZXcgVWludDMyQXJyYXkobi5idWZmZXIsNCpyLGMpKTtyKz1jO2NvbnN0IHk9dGhpcy5sYXllci5jaXJjbGVNYXRlcmlhbDt0aGlzLnZhbz1uZXcgYSh0LHkuZ2V0QXR0cmlidXRlTG9jYXRpb25zKCkseS5nZXRMYXlvdXRJbmZvKCkse2dlb21ldHJ5OmZ9LGwpfX1leHBvcnR7bCBhcyBDaXJjbGVSZW5kZXJCdWNrZXQsZiBhcyBGaWxsUmVuZGVyQnVja2V0LGggYXMgTGluZVJlbmRlckJ1Y2tldCxvIGFzIFJlbmRlckJ1Y2tldEJhc2UsYyBhcyBTeW1ib2xSZW5kZXJCdWNrZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtyYXN0ZXJpemVEYXNoIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vc3ltYm9scy9jaW0vcmFzdGVyaXppbmdVdGlscy5qc1wiO2ltcG9ydCBpIGZyb21cIi4vUmVjdGFuZ2xlQmluUGFjay5qc1wiO2ltcG9ydCBlIGZyb21cIi4uL3dlYmdsL1JlY3QuanNcIjtpbXBvcnR7VGV4dHVyZVdyYXBNb2RlIGFzIHN9ZnJvbVwiLi4vLi4vLi4vd2ViZ2wvZW51bXMuanNcIjtpbXBvcnR7VGV4dHVyZSBhcyBofWZyb21cIi4uLy4uLy4uL3dlYmdsL1RleHR1cmUuanNcIjtpbXBvcnR7VGV4dHVyZURlc2NyaXB0b3IgYXMgYX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9UZXh0dXJlRGVzY3JpcHRvci5qc1wiO2NvbnN0IHI9XCJkYXNoYXJyYXktXCI7Y2xhc3Mgb3tjb25zdHJ1Y3Rvcih0LGUscz0wKXt0aGlzLl9zaXplPVtdLHRoaXMuX21vc2FpY3NEYXRhPVtdLHRoaXMuX3RleHR1cmVzPVtdLHRoaXMuX2RpcnRpZXM9W10sdGhpcy5fbWF4SXRlbVNpemU9MCx0aGlzLl9jdXJyZW50UGFnZT0wLHRoaXMuX3BhZ2VXaWR0aD0wLHRoaXMuX3BhZ2VIZWlnaHQ9MCx0aGlzLl9tb3NhaWNSZWN0cz17fSx0aGlzLnBpeGVsUmF0aW89MSwodDw9MHx8ZTw9MCkmJmNvbnNvbGUuZXJyb3IoXCJTcHJpdGVzIG1vc2FpYyBkZWZhdWx0V2lkdGggYW5kIGRlZmF1bHRIZWlnaHQgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybyFcIiksdGhpcy5fcGFnZVdpZHRoPXQsdGhpcy5fcGFnZUhlaWdodD1lLHM+MCYmKHRoaXMuX21heEl0ZW1TaXplPXMpLHRoaXMuX2JpblBhY2s9bmV3IGkodC00LGUtNCl9ZGlzcG9zZSgpe3RoaXMuX2JpblBhY2s9bnVsbCx0aGlzLl9tb3NhaWNSZWN0cz17fTtmb3IoY29uc3QgdCBvZiB0aGlzLl90ZXh0dXJlcyl0JiZ0LmRpc3Bvc2UoKTt0aGlzLl90ZXh0dXJlcy5sZW5ndGg9MH1nZXRXaWR0aCh0KXtyZXR1cm4gdD49dGhpcy5fc2l6ZS5sZW5ndGg/LTE6dGhpcy5fc2l6ZVt0XVswXX1nZXRIZWlnaHQodCl7cmV0dXJuIHQ+PXRoaXMuX3NpemUubGVuZ3RoPy0xOnRoaXMuX3NpemVbdF1bMV19Z2V0UGFnZVNpemUodCl7cmV0dXJuIHQ+PXRoaXMuX3NpemUubGVuZ3RoP251bGw6dGhpcy5fc2l6ZVt0XX1zZXRTcHJpdGVTb3VyY2UodCl7aWYodGhpcy5kaXNwb3NlKCksdGhpcy5waXhlbFJhdGlvPXQuZGV2aWNlUGl4ZWxSYXRpbywwPT09dGhpcy5fbW9zYWljc0RhdGEubGVuZ3RoKXt0aGlzLl9iaW5QYWNrPW5ldyBpKHRoaXMuX3BhZ2VXaWR0aC00LHRoaXMuX3BhZ2VIZWlnaHQtNCk7Y29uc3QgdD1NYXRoLmZsb29yKHRoaXMuX3BhZ2VXaWR0aCksZT1NYXRoLmZsb29yKHRoaXMuX3BhZ2VIZWlnaHQpLHM9bmV3IFVpbnQzMkFycmF5KHQqZSk7dGhpcy5fbW9zYWljc0RhdGFbMF09cyx0aGlzLl9kaXJ0aWVzLnB1c2goITApLHRoaXMuX3NpemUucHVzaChbdGhpcy5fcGFnZVdpZHRoLHRoaXMuX3BhZ2VIZWlnaHRdKSx0aGlzLl90ZXh0dXJlcy5wdXNoKHZvaWQgMCl9dGhpcy5fc3ByaXRlcz10fWdldFNwcml0ZUl0ZW0odCxpPSExKXtsZXQgZSxzLGg9dGhpcy5fbW9zYWljUmVjdHNbdF07aWYoaClyZXR1cm4gaDtpZighdGhpcy5fc3ByaXRlc3x8XCJsb2FkZWRcIiE9PXRoaXMuX3Nwcml0ZXMubG9hZFN0YXR1cylyZXR1cm4gbnVsbDtpZih0JiZ0LnN0YXJ0c1dpdGgocik/KFtlLHNdPXRoaXMuX3Jhc3Rlcml6ZURhc2godCksaT0hMCk6ZT10aGlzLl9zcHJpdGVzLmdldFNwcml0ZUluZm8odCksIWV8fCFlLndpZHRofHwhZS5oZWlnaHR8fGUud2lkdGg8MHx8ZS5oZWlnaHQ8MClyZXR1cm4gbnVsbDtjb25zdCBhPWUud2lkdGgsbz1lLmhlaWdodCxbbixfLGddPXRoaXMuX2FsbG9jYXRlSW1hZ2UoYSxvKTtyZXR1cm4gbi53aWR0aDw9MD9udWxsOih0aGlzLl9jb3B5KG4sZSxfLGcsaSxzKSxoPXtyZWN0Om4sd2lkdGg6YSxoZWlnaHQ6byxzZGY6ZS5zZGYsc2ltcGxlUGF0dGVybjohMSxwaXhlbFJhdGlvOmUucGl4ZWxSYXRpbyxwYWdlOl99LHRoaXMuX21vc2FpY1JlY3RzW3RdPWgsaCl9Z2V0U3ByaXRlSXRlbXModCl7Y29uc3QgaT17fTtmb3IoY29uc3QgZSBvZiB0KWlbZS5uYW1lXT10aGlzLmdldFNwcml0ZUl0ZW0oZS5uYW1lLGUucmVwZWF0KTtyZXR1cm4gaX1nZXRNb3NhaWNJdGVtUG9zaXRpb24odCxpKXtjb25zdCBlPXRoaXMuZ2V0U3ByaXRlSXRlbSh0LGkpLHM9ZSYmZS5yZWN0O2lmKCFzKXJldHVybiBudWxsO3Mud2lkdGg9ZS53aWR0aCxzLmhlaWdodD1lLmhlaWdodDtjb25zdCBoPWUud2lkdGgsYT1lLmhlaWdodCxyPTI7cmV0dXJue3RsOltzLngrcixzLnkrcl0sYnI6W3MueCtyK2gscy55K3IrYV0scGFnZTplLnBhZ2V9fWJpbmQodCxpLGU9MCxyPTApe2lmKGU+PXRoaXMuX3NpemUubGVuZ3RofHxlPj10aGlzLl9tb3NhaWNzRGF0YS5sZW5ndGgpcmV0dXJuO2lmKCF0aGlzLl90ZXh0dXJlc1tlXSl7Y29uc3QgaT1uZXcgYTtpLndyYXBNb2RlPXMuQ0xBTVBfVE9fRURHRSxpLndpZHRoPXRoaXMuX3NpemVbZV1bMF0saS5oZWlnaHQ9dGhpcy5fc2l6ZVtlXVsxXSx0aGlzLl90ZXh0dXJlc1tlXT1uZXcgaCh0LGksbmV3IFVpbnQ4QXJyYXkodGhpcy5fbW9zYWljc0RhdGFbZV0uYnVmZmVyKSl9Y29uc3Qgbz10aGlzLl90ZXh0dXJlc1tlXTtvLnNldFNhbXBsaW5nTW9kZShpKSx0aGlzLl9kaXJ0aWVzW2VdJiZvLnNldERhdGEobmV3IFVpbnQ4QXJyYXkodGhpcy5fbW9zYWljc0RhdGFbZV0uYnVmZmVyKSksdC5iaW5kVGV4dHVyZShvLHIpLHRoaXMuX2RpcnRpZXNbZV09ITF9c3RhdGljIF9jb3B5Qml0cyh0LGksZSxzLGgsYSxyLG8sbixfLGcpe2xldCBjPXMqaStlLGw9byphK3I7aWYoZyl7bC09YTtmb3IobGV0IHI9LTE7cjw9XztyKyssYz0oKHIrXyklXytzKSppK2UsbCs9YSlmb3IobGV0IGk9LTE7aTw9bjtpKyspaFtsK2ldPXRbYysoaStuKSVuXX1lbHNlIGZvcihsZXQgcD0wO3A8XztwKyspe2ZvcihsZXQgaT0wO2k8bjtpKyspaFtsK2ldPXRbYytpXTtjKz1pLGwrPWF9fV9jb3B5KHQsaSxlLHMsaCxhKXtpZighdGhpcy5fc3ByaXRlc3x8XCJsb2FkZWRcIiE9PXRoaXMuX3Nwcml0ZXMubG9hZFN0YXR1c3x8ZT49dGhpcy5fbW9zYWljc0RhdGEubGVuZ3RoKXJldHVybjtjb25zdCByPW5ldyBVaW50MzJBcnJheShhP2EuYnVmZmVyOnRoaXMuX3Nwcml0ZXMuaW1hZ2UuYnVmZmVyKSxuPXRoaXMuX21vc2FpY3NEYXRhW2VdO24mJnJ8fGNvbnNvbGUuZXJyb3IoXCJTb3VyY2Ugb3IgdGFyZ2V0IGltYWdlcyBhcmUgdW5pbml0aWFsaXplZCFcIik7Y29uc3QgXz0yLGc9YT9pLndpZHRoOnRoaXMuX3Nwcml0ZXMud2lkdGg7by5fY29weUJpdHMocixnLGkueCxpLnksbixzWzBdLHQueCtfLHQueStfLGkud2lkdGgsaS5oZWlnaHQsaCksdGhpcy5fZGlydGllc1tlXT0hMH1fYWxsb2NhdGVJbWFnZSh0LHMpe3QrPTIscys9Mjtjb25zdCBoPU1hdGgubWF4KHQscyk7aWYodGhpcy5fbWF4SXRlbVNpemUmJnRoaXMuX21heEl0ZW1TaXplPGgpe2NvbnN0IGk9bmV3IGUoMCwwLHQscyk7cmV0dXJuIHRoaXMuX21vc2FpY3NEYXRhLnB1c2gobmV3IFVpbnQzMkFycmF5KHQqcykpLHRoaXMuX2RpcnRpZXMucHVzaCghMCksdGhpcy5fc2l6ZS5wdXNoKFt0LHNdKSx0aGlzLl90ZXh0dXJlcy5wdXNoKHZvaWQgMCksW2ksdGhpcy5fbW9zYWljc0RhdGEubGVuZ3RoLTEsW3Qsc11dfWxldCBhPXQlND80LXQlNDo0LHI9cyU0PzQtcyU0OjQ7MT09PWEmJihhPTUpLDE9PT1yJiYocj01KTtjb25zdCBvPXRoaXMuX2JpblBhY2suYWxsb2NhdGUodCthLHMrcik7cmV0dXJuIG8ud2lkdGg8PTA/KHRoaXMuX2RpcnRpZXNbdGhpcy5fY3VycmVudFBhZ2VdfHwodGhpcy5fbW9zYWljc0RhdGFbdGhpcy5fY3VycmVudFBhZ2VdPW51bGwpLHRoaXMuX2N1cnJlbnRQYWdlPXRoaXMuX21vc2FpY3NEYXRhLmxlbmd0aCx0aGlzLl9tb3NhaWNzRGF0YS5wdXNoKG5ldyBVaW50MzJBcnJheSh0aGlzLl9wYWdlV2lkdGgqdGhpcy5fcGFnZUhlaWdodCkpLHRoaXMuX2RpcnRpZXMucHVzaCghMCksdGhpcy5fc2l6ZS5wdXNoKFt0aGlzLl9wYWdlV2lkdGgsdGhpcy5fcGFnZUhlaWdodF0pLHRoaXMuX3RleHR1cmVzLnB1c2godm9pZCAwKSx0aGlzLl9iaW5QYWNrPW5ldyBpKHRoaXMuX3BhZ2VXaWR0aC00LHRoaXMuX3BhZ2VIZWlnaHQtNCksdGhpcy5fYWxsb2NhdGVJbWFnZSh0LHMpKTpbbyx0aGlzLl9jdXJyZW50UGFnZSxbdGhpcy5fcGFnZVdpZHRoLHRoaXMuX3BhZ2VIZWlnaHRdXX1fcmFzdGVyaXplRGFzaChpKXtjb25zdCBlPS9cXFsoLio/KVxcXS8scz1pLm1hdGNoKGUpO2lmKCFzKXJldHVybiBudWxsO2NvbnN0IGg9c1sxXS5zcGxpdChcIixcIikubWFwKE51bWJlciksYT1pLnNsaWNlKGkubGFzdEluZGV4T2YoXCItXCIpKzEpLFtyLG8sbl09dChoLGEpO3JldHVyblt7eDowLHk6MCx3aWR0aDpvLGhlaWdodDpuLHNkZjohMCxwaXhlbFJhdGlvOjF9LG5ldyBVaW50OEFycmF5KHIuYnVmZmVyKV19fWV4cG9ydHtvIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHthYm9ydE1heWJlIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHt0aHJvd0lmTm90QWJvcnRFcnJvciBhcyBlLHRocm93SWZBYm9ydEVycm9yIGFzIHMsaXNBYm9ydEVycm9yIGFzIHIsZWFjaEFsd2F5cyBhcyBpfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2FkZFF1ZXJ5UGFyYW1ldGVycyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvdXJsVXRpbHMuanNcIjtpbXBvcnR7b3BlbiBhcyBufWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvd29ya2Vycy93b3JrZXJzLmpzXCI7aW1wb3J0IGwgZnJvbVwiLi9HbHlwaE1vc2FpYy5qc1wiO2ltcG9ydCBhIGZyb21cIi4vR2x5cGhTb3VyY2UuanNcIjtpbXBvcnQgYyBmcm9tXCIuL1Nwcml0ZU1vc2FpYy5qc1wiO2ltcG9ydCB1IGZyb21cIi4uLy4uL3RpbGluZy9UaWxlS2V5LmpzXCI7Y2xhc3MgaHtjb25zdHJ1Y3Rvcih0LGUscyl7dGhpcy5fbGF5ZXI9dCx0aGlzLl9zdHlsZVJlcG9zaXRvcnk9ZSx0aGlzLmRldmljZVBpeGVsUmF0aW89cyx0aGlzLl9zcHJpdGVNb3NhaWM9bnVsbCx0aGlzLl9nbHlwaE1vc2FpYz1udWxsLHRoaXMuX2Nvbm5lY3Rpb249bnVsbCx0aGlzLl9zcHJpdGVTb3VyY2VBYm9ydENvbnRyb2xsZXI9bnVsbCx0aGlzLl9zdGFydE9wdGlvbnNJbnB1dFNpZ25hbD1udWxsLHRoaXMuX2lucHV0U2lnbmFsRXZlbnRMaXN0ZW5lcj1udWxsfWRlc3Ryb3koKXt0aGlzLl9jb25uZWN0aW9uPy5jbG9zZSgpLHRoaXMuX2Nvbm5lY3Rpb249bnVsbCx0aGlzLl9zdHlsZVJlcG9zaXRvcnk9bnVsbCx0aGlzLl9sYXllcj1udWxsLHRoaXMuX3Nwcml0ZU1vc2FpYz1udWxsLHRoaXMuX2dseXBoTW9zYWljPW51bGwsdGhpcy5fc3ByaXRlU291cmNlQWJvcnRDb250cm9sbGVyPXQodGhpcy5fc3ByaXRlU291cmNlQWJvcnRDb250cm9sbGVyKSx0aGlzLl9zcHJpdGVTb3VyY2VQcm9taXNlPW51bGwsdGhpcy5faW5wdXRTaWduYWxFdmVudExpc3RlbmVyJiZ0aGlzLl9zdGFydE9wdGlvbnNJbnB1dFNpZ25hbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdGhpcy5faW5wdXRTaWduYWxFdmVudExpc3RlbmVyKSx0aGlzLl9zdGFydE9wdGlvbnNJbnB1dFNpZ25hbD1udWxsLHRoaXMuX2lucHV0U2lnbmFsRXZlbnRMaXN0ZW5lcj1udWxsfWdldCBzcHJpdGVNb3NhaWMoKXtyZXR1cm4gdGhpcy5fc3ByaXRlU291cmNlUHJvbWlzZS50aGVuKCgoKT0+dGhpcy5fc3ByaXRlTW9zYWljKSl9Z2V0IGdseXBoTW9zYWljKCl7cmV0dXJuIHRoaXMuX2dseXBoTW9zYWljfWFzeW5jIHN0YXJ0KHQpe3RoaXMuX3JlcXVlc3RTcHJpdGUodCk7Y29uc3Qgcz10aGlzLl9sYXllci5jdXJyZW50U3R5bGVJbmZvLmdseXBoc1VybCxyPW5ldyBhKHM/byhzLHsuLi50aGlzLl9sYXllci5jdXN0b21QYXJhbWV0ZXJzLHRva2VuOnRoaXMuX2xheWVyLmFwaUtleX0pOm51bGwpO3RoaXMuX2dseXBoTW9zYWljPW5ldyBsKDEwMjQsMTAyNCxyKSx0aGlzLl9icm9hZGNhc3RQcm9taXNlPW4oXCJXb3JrZXJUaWxlSGFuZGxlclwiLHtjbGllbnQ6dGhpcyxzY2hlZHVsZTp0LnNjaGVkdWxlLHNpZ25hbDp0LnNpZ25hbH0pLnRoZW4oKHM9PntpZih0aGlzLl9sYXllciYmKHRoaXMuX2Nvbm5lY3Rpb24/LmNsb3NlKCksdGhpcy5fY29ubmVjdGlvbj1zLHRoaXMuX2xheWVyJiYhdGhpcy5fY29ubmVjdGlvbi5jbG9zZWQpKXtjb25zdCByPXMuYnJvYWRjYXN0KFwic2V0U3R5bGVcIix0aGlzLl9sYXllci5jdXJyZW50U3R5bGVJbmZvLnN0eWxlLHQpO1Byb21pc2UuYWxsKHIpLmNhdGNoKCh0PT5lKHQpKSl9fSkpfV9yZXF1ZXN0U3ByaXRlKHQpe3RoaXMuX3Nwcml0ZVNvdXJjZUFib3J0Q29udHJvbGxlcj8uYWJvcnQoKTtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXI7dGhpcy5fc3ByaXRlU291cmNlQWJvcnRDb250cm9sbGVyPWU7Y29uc3Qgcj10Py5zaWduYWw7dGhpcy5faW5wdXRTaWduYWxFdmVudExpc3RlbmVyJiZ0aGlzLl9zdGFydE9wdGlvbnNJbnB1dFNpZ25hbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsdGhpcy5faW5wdXRTaWduYWxFdmVudExpc3RlbmVyKSx0aGlzLl9zdGFydE9wdGlvbnNJbnB1dFNpZ25hbD1udWxsLHImJih0aGlzLl9pbnB1dFNpZ25hbEV2ZW50TGlzdGVuZXI9cChlKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLHRoaXMuX2lucHV0U2lnbmFsRXZlbnRMaXN0ZW5lcix7b25jZTohMH0pKTtjb25zdHtzaWduYWw6aX09ZSxvPXsuLi50LHNpZ25hbDppfTt0aGlzLl9zcHJpdGVTb3VyY2VQcm9taXNlPXRoaXMuX2xheWVyLmxvYWRTcHJpdGVTb3VyY2UodGhpcy5kZXZpY2VQaXhlbFJhdGlvLG8pLHRoaXMuX3Nwcml0ZVNvdXJjZVByb21pc2UudGhlbigodD0+e3MoaSksdGhpcy5fc3ByaXRlTW9zYWljPW5ldyBjKDEwMjQsMTAyNCwyNTApLHRoaXMuX3Nwcml0ZU1vc2FpYy5zZXRTcHJpdGVTb3VyY2UodCl9KSl9YXN5bmMgdXBkYXRlU3R5bGUodCl7cmV0dXJuIGF3YWl0IHRoaXMuX2Jyb2FkY2FzdFByb21pc2UsdGhpcy5fYnJvYWRjYXN0UHJvbWlzZT1Qcm9taXNlLmFsbCh0aGlzLl9jb25uZWN0aW9uLmJyb2FkY2FzdChcInVwZGF0ZVN0eWxlXCIsdCkpLHRoaXMuX2Jyb2FkY2FzdFByb21pc2V9c2V0U3ByaXRlU291cmNlKHQpe2NvbnN0IGU9bmV3IGMoMTAyNCwxMDI0LDI1MCk7cmV0dXJuIGUuc2V0U3ByaXRlU291cmNlKHQpLHRoaXMuX3Nwcml0ZU1vc2FpYz1lLHRoaXMuX3Nwcml0ZVNvdXJjZVByb21pc2U9UHJvbWlzZS5yZXNvbHZlKHQpLHRoaXMuX3Nwcml0ZVNvdXJjZUFib3J0Q29udHJvbGxlcj1udWxsLGV9YXN5bmMgc2V0U3R5bGUodCxlKXthd2FpdCB0aGlzLl9icm9hZGNhc3RQcm9taXNlLHRoaXMuX3N0eWxlUmVwb3NpdG9yeT10LHRoaXMuX3JlcXVlc3RTcHJpdGUoKTtjb25zdCBzPW5ldyBhKHRoaXMuX2xheWVyLmN1cnJlbnRTdHlsZUluZm8uZ2x5cGhzVXJsP28odGhpcy5fbGF5ZXIuY3VycmVudFN0eWxlSW5mby5nbHlwaHNVcmwsey4uLnRoaXMuX2xheWVyLmN1c3RvbVBhcmFtZXRlcnMsdG9rZW46dGhpcy5fbGF5ZXIuYXBpS2V5fSk6bnVsbCk7cmV0dXJuIHRoaXMuX2dseXBoTW9zYWljPW5ldyBsKDEwMjQsMTAyNCxzKSx0aGlzLl9icm9hZGNhc3RQcm9taXNlPVByb21pc2UuYWxsKHRoaXMuX2Nvbm5lY3Rpb24uYnJvYWRjYXN0KFwic2V0U3R5bGVcIixlKSksdGhpcy5fYnJvYWRjYXN0UHJvbWlzZX1mZXRjaFRpbGVEYXRhKHQsZSl7cmV0dXJuIHRoaXMuX2dldFJlZktleXModCxlKS50aGVuKCh0PT57Y29uc3Qgcz10aGlzLl9sYXllci5zb3VyY2VOYW1lVG9Tb3VyY2Uscj1bXTtmb3IoY29uc3QgZSBpbiBzKXIucHVzaChlKTtyZXR1cm4gdGhpcy5fZ2V0U291cmNlc0RhdGEocix0LGUpfSkpfXBhcnNlVGlsZURhdGEodCxlKXtjb25zdCBzPXQmJnQuZGF0YTtpZighcylyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO2NvbnN0e3NvdXJjZU5hbWUyRGF0YUFuZFJlZktleTpyLHRyYW5zZmVyTGlzdDppfT1zO3JldHVybiAwPT09T2JqZWN0LmtleXMocikubGVuZ3RoP1Byb21pc2UucmVzb2x2ZShudWxsKTp0aGlzLl9icm9hZGNhc3RQcm9taXNlLnRoZW4oKCgpPT50aGlzLl9jb25uZWN0aW9uLmludm9rZShcImNyZWF0ZVRpbGVBbmRQYXJzZVwiLHtrZXk6dC5rZXkuaWQsc291cmNlTmFtZTJEYXRhQW5kUmVmS2V5OnIsc3R5bGVMYXllclVJRHM6dC5zdHlsZUxheWVyVUlEc30sey4uLmUsdHJhbnNmZXJMaXN0Oml9KSkpfWFzeW5jIGdldFNwcml0ZXModCl7cmV0dXJuIGF3YWl0IHRoaXMuX3Nwcml0ZVNvdXJjZVByb21pc2UsdGhpcy5fc3ByaXRlTW9zYWljLmdldFNwcml0ZUl0ZW1zKHQpfWdldEdseXBocyh0KXtyZXR1cm4gdGhpcy5fZ2x5cGhNb3NhaWMuZ2V0R2x5cGhJdGVtcyh0LmZvbnQsdC5jb2RlUG9pbnRzKX1hc3luYyBfZ2V0VGlsZVBheWxvYWQodCxlLHMpe2NvbnN0IGk9dS5wb29sLmFjcXVpcmUodC5pZCksbz10aGlzLl9sYXllci5zb3VyY2VOYW1lVG9Tb3VyY2VbZV0se2xldmVsOm4scm93OmwsY29sOmF9PWk7dS5wb29sLnJlbGVhc2UoaSk7dHJ5e3JldHVybntwcm90b2J1ZmY6YXdhaXQgby5yZXF1ZXN0VGlsZShuLGwsYSxzKSxzb3VyY2VOYW1lOmV9fWNhdGNoKGMpe2lmKHIoYykpdGhyb3cgYztyZXR1cm57cHJvdG9idWZmOm51bGwsc291cmNlTmFtZTplfX19X2dldFJlZktleXModCxlKXtjb25zdCBzPXRoaXMuX2xheWVyLnNvdXJjZU5hbWVUb1NvdXJjZSxyPW5ldyBBcnJheTtmb3IoY29uc3QgaSBpbiBzKXtjb25zdCBvPXNbaV0uZ2V0UmVmS2V5KHQsZSk7ci5wdXNoKG8pfXJldHVybiBpKHIpfV9nZXRTb3VyY2VzRGF0YSh0LGUscyl7Y29uc3Qgcj1bXTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylpZihudWxsPT1lW2ldLnZhbHVlfHxudWxsPT10W2ldKXIucHVzaChudWxsKTtlbHNle2NvbnN0IG89dGhpcy5fZ2V0VGlsZVBheWxvYWQoZVtpXS52YWx1ZSx0W2ldLHMpO3IucHVzaChvKX1yZXR1cm4gaShyKS50aGVuKCh0PT57Y29uc3Qgcz17fSxyPVtdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBvPXRbaV0udmFsdWU7aWYobyYmKG8ucHJvdG9idWZmJiZvLnByb3RvYnVmZi5ieXRlTGVuZ3RoPjApKXtjb25zdCB0PWVbaV0udmFsdWUuaWQ7c1tvLnNvdXJjZU5hbWVdPXtyZWZLZXk6dCxwcm90b2J1ZmY6by5wcm90b2J1ZmZ9LHIucHVzaChvLnByb3RvYnVmZil9fXJldHVybntzb3VyY2VOYW1lMkRhdGFBbmRSZWZLZXk6cyx0cmFuc2Zlckxpc3Q6cn19KSl9fWZ1bmN0aW9uIHAodCl7cmV0dXJuKCk9PnQuYWJvcnQoKX1leHBvcnR7aCBhcyBUaWxlSGFuZGxlcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0xSVUNhY2hlIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vY29yZS9MUlVDYWNoZS5qc1wiO2ltcG9ydCBpIGZyb21cIi4uLy4uL3RpbGluZy9UaWxlQ292ZXJhZ2UuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi90aWxpbmcvVGlsZUtleS5qc1wiO2NvbnN0IGw9NTEyLHM9MWUtNixyPShlLGkpPT5lKzEvKDE8PDIqaSk7Y2xhc3Mgb3tjb25zdHJ1Y3RvcihpLHQpe3RoaXMuX3RpbGVzPW5ldyBNYXAsdGhpcy5fdGlsZUNhY2hlPW5ldyBlKDQwLChlPT5lLmRpc3Bvc2UoKSkpLHRoaXMuX3ZpZXdTaXplPVswLDBdLHRoaXMuX3Zpc2libGVUaWxlcz1uZXcgTWFwLHRoaXMuYWNxdWlyZVRpbGU9aS5hY3F1aXJlVGlsZSx0aGlzLnJlbGVhc2VUaWxlPWkucmVsZWFzZVRpbGUsdGhpcy50aWxlSW5mb1ZpZXc9aS50aWxlSW5mb1ZpZXcsdGhpcy5fY29udGFpbmVyPXR9ZGVzdHJveSgpe2Zvcihjb25zdFtlLGldb2YgdGhpcy5fdGlsZXMpaS5kaXNwb3NlKCk7dGhpcy5fdGlsZXM9bnVsbCx0aGlzLl90aWxlQ2FjaGUuY2xlYXIoKSx0aGlzLl90aWxlQ2FjaGU9bnVsbH11cGRhdGUoZSl7dGhpcy5fdXBkYXRlQ2FjaGVTaXplKGUpO2NvbnN0IGw9dGhpcy50aWxlSW5mb1ZpZXcscz1sLmdldFRpbGVDb3ZlcmFnZShlLnN0YXRlLDAsITAsXCJzbWFsbGVzdFwiKSx7c3BhbnM6cixsb2RJbmZvOm99PXMse2xldmVsOm59PW8sYT10aGlzLl90aWxlcyxjPW5ldyBTZXQsaD1uZXcgU2V0O2Zvcihjb25zdHtyb3c6aSxjb2xGcm9tOl8sY29sVG86Zn1vZiByKWZvcihsZXQgZT1fO2U8PWY7ZSsrKXtjb25zdCBsPXQuZ2V0SWQobixpLG8ubm9ybWFsaXplQ29sKGUpLG8uZ2V0V29ybGRGb3JDb2x1bW4oZSkpLHM9dGhpcy5fZ2V0T3JBY3F1aXJlVGlsZShsKTtjLmFkZChsKSxzLnByb2Nlc3NlZCgpP3RoaXMuX2FkZFRvQ29udGFpbmVyKHMpOmguYWRkKG5ldyB0KGwpKX1mb3IoY29uc3RbaSx0XW9mIGEpdC5pc0NvdmVyYWdlPWMuaGFzKGkpO2Zvcihjb25zdCBpIG9mIGgpdGhpcy5fZmluZFBsYWNlaG9sZGVyc0Zvck1pc3NpbmdUaWxlcyhpLGMpO2xldCBkPSExO2Zvcihjb25zdFtpLHRdb2YgYSl0Lm5lZWRlZEZvckNvdmVyYWdlPWMuaGFzKGkpLHQubmVlZGVkRm9yQ292ZXJhZ2V8fHQuaXNIb2xkaW5nRm9yRmFkZSYmbC5pbnRlcnNlY3RzKHMsdC5rZXkpJiZjLmFkZChpKSx0LmlzRmFkaW5nJiYoZD0hMCk7Zm9yKGNvbnN0W2ksdF1vZiB0aGlzLl90aWxlcyljLmhhcyhpKXx8dGhpcy5fcmVsZWFzZVRpbGUoaSk7cmV0dXJuIGkucG9vbC5yZWxlYXNlKHMpLCFkfWNsZWFyKCl7dGhpcy5fdGlsZXMuY2xlYXIoKSx0aGlzLl90aWxlQ2FjaGUuY2xlYXIoKSx0aGlzLl92aXNpYmxlVGlsZXMuY2xlYXIoKX1jbGVhckNhY2hlKCl7dGhpcy5fdGlsZUNhY2hlLmNsZWFyKCl9X2ZpbmRQbGFjZWhvbGRlcnNGb3JNaXNzaW5nVGlsZXMoZSxpKXtjb25zdCB0PVtdO2Zvcihjb25zdFtzLHJdb2YgdGhpcy5fdGlsZXMpdGhpcy5fYWRkUGxhY2Vob2xkZXJDaGlsZCh0LHIsZSxpKTtjb25zdCBsPXQucmVkdWNlKHIsMCk7TWF0aC5hYnMoMS1sKTxzfHx0aGlzLl9hZGRQbGFjZWhvbGRlclBhcmVudChlLmlkLGkpfV9hZGRQbGFjZWhvbGRlckNoaWxkKGUsaSx0LGwpe2kua2V5LmxldmVsPD10LmxldmVsfHwhaS5oYXNEYXRhKCl8fGEodCxpLmtleSkmJih0aGlzLl9hZGRUb0NvbnRhaW5lcihpKSxsLmFkZChpLmlkKSxlLnB1c2goaS5rZXkubGV2ZWwtdC5sZXZlbCkpfV9hZGRQbGFjZWhvbGRlclBhcmVudChlLGkpe2NvbnN0IHQ9dGhpcy5fdGlsZXM7bGV0IGw9ZTtmb3IoOzspe2lmKGw9bihsKSwhbHx8aS5oYXMobCkpcmV0dXJuO2NvbnN0IGU9dC5nZXQobCk7aWYoZSYmZS5oYXNEYXRhKCkpcmV0dXJuIHRoaXMuX2FkZFRvQ29udGFpbmVyKGUpLHZvaWQgaS5hZGQoZS5pZCl9fV9nZXRPckFjcXVpcmVUaWxlKGUpe2xldCBpPXRoaXMuX3RpbGVzLmdldChlKTtyZXR1cm4gaXx8KGk9dGhpcy5fdGlsZUNhY2hlLnBvcChlKSxpfHwoaT10aGlzLmFjcXVpcmVUaWxlKG5ldyB0KGUpKSksdGhpcy5fdGlsZXMuc2V0KGUsaSksaSl9X3JlbGVhc2VUaWxlKGUpe2NvbnN0IGk9dGhpcy5fdGlsZXMuZ2V0KGUpO3RoaXMucmVsZWFzZVRpbGUoaSksdGhpcy5fcmVtb3ZlRnJvbUNvbnRhaW5lcihpKSx0aGlzLl90aWxlcy5kZWxldGUoZSksaS5oYXNEYXRhKCk/dGhpcy5fdGlsZUNhY2hlLnB1dChlLGksMSk6aS5kaXNwb3NlKCl9X2FkZFRvQ29udGFpbmVyKGUpe2xldCBpO2NvbnN0IHQ9W10sbD10aGlzLl9jb250YWluZXI7aWYobC5jb250YWlucyhlKSlyZXR1cm47Y29uc3Qgcz10aGlzLl92aXNpYmxlVGlsZXM7Zm9yKGNvbnN0W3Isb11vZiBzKXRoaXMuX2NhbkNvbm5lY3REaXJlY3RseShlLG8pJiZ0LnB1c2gobyksbnVsbD09aSYmdGhpcy5fY2FuQ29ubmVjdERpcmVjdGx5KG8sZSkmJihpPW8pO2lmKG51bGwhPWkpe2Zvcihjb25zdCBsIG9mIHQpaS5jaGlsZHJlblRpbGVzLmRlbGV0ZShsKSxlLmNoaWxkcmVuVGlsZXMuYWRkKGwpLGwucGFyZW50VGlsZT1lO2kuY2hpbGRyZW5UaWxlcy5hZGQoZSksZS5wYXJlbnRUaWxlPWl9ZWxzZSBmb3IoY29uc3QgciBvZiB0KWUuY2hpbGRyZW5UaWxlcy5hZGQociksci5wYXJlbnRUaWxlPWU7cy5zZXQoZS5pZCxlKSxsLmFkZENoaWxkKGUpfV9yZW1vdmVGcm9tQ29udGFpbmVyKGUpe2lmKHRoaXMuX3Zpc2libGVUaWxlcy5kZWxldGUoZS5pZCksdGhpcy5fY29udGFpbmVyLnJlbW92ZUNoaWxkKGUpLG51bGwhPWUucGFyZW50VGlsZSl7ZS5wYXJlbnRUaWxlLmNoaWxkcmVuVGlsZXMuZGVsZXRlKGUpO2Zvcihjb25zdCBpIG9mIGUuY2hpbGRyZW5UaWxlcyludWxsIT1lLnBhcmVudFRpbGUmJmUucGFyZW50VGlsZS5jaGlsZHJlblRpbGVzLmFkZChpKX1mb3IoY29uc3QgaSBvZiBlLmNoaWxkcmVuVGlsZXMpaS5wYXJlbnRUaWxlPWUucGFyZW50VGlsZTtlLnBhcmVudFRpbGU9bnVsbCxlLmNoaWxkcmVuVGlsZXMuY2xlYXIoKX1fY2FuQ29ubmVjdERpcmVjdGx5KGUsaSl7Y29uc3QgdD1lLmtleTtsZXR7bGV2ZWw6bCxyb3c6cyxjb2w6cix3b3JsZDpvfT1pLmtleTtjb25zdCBuPXRoaXMuX3Zpc2libGVUaWxlcztmb3IoO2w+MDspe2lmKGwtLSxzPj49MSxyPj49MSx0LmxldmVsPT09bCYmdC5yb3c9PT1zJiZ0LmNvbD09PXImJnQud29ybGQ9PT1vKXJldHVybiEwO2lmKG4uaGFzKGAke2x9LyR7c30vJHtyfS8ke299YCkpcmV0dXJuITF9cmV0dXJuITF9X3VwZGF0ZUNhY2hlU2l6ZShlKXtjb25zdCBpPWUuc3RhdGUuc2l6ZTtpZihpWzBdPT09dGhpcy5fdmlld1NpemVbMF0mJmlbMV09PT10aGlzLl92aWV3U2l6ZVsxXSlyZXR1cm47Y29uc3QgdD1NYXRoLmNlaWwoaVswXS9sKSsxLHM9TWF0aC5jZWlsKGlbMV0vbCkrMTt0aGlzLl92aWV3U2l6ZVswXT1pWzBdLHRoaXMuX3ZpZXdTaXplWzFdPWlbMV0sdGhpcy5fdGlsZUNhY2hlLm1heFNpemU9NSp0KnN9fWZ1bmN0aW9uIG4oZSl7Y29uc3RbaSx0LGwsc109ZS5zcGxpdChcIi9cIikscj1wYXJzZUludChpLDEwKTtyZXR1cm4gMD09PXI/bnVsbDpgJHtyLTF9LyR7cGFyc2VJbnQodCwxMCk+PjF9LyR7cGFyc2VJbnQobCwxMCk+PjF9LyR7cGFyc2VJbnQocywxMCl9YH1mdW5jdGlvbiBhKGUsaSl7Y29uc3QgdD1pLmxldmVsLWUubGV2ZWw7cmV0dXJuIGUucm93PT09aS5yb3c+PnQmJmUuY29sPT09aS5jb2w+PnQmJmUud29ybGQ9PT1pLndvcmxkfWV4cG9ydHtvIGFzIFRpbGVNYW5hZ2VyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvaGFzLmpzXCI7aW1wb3J0e2cgYXMgZSxoIGFzIHQsciBhcyBzLGQgYXMgYX1mcm9tXCIuLi8uLi8uLi8uLi9jaHVua3MvbWF0My5qc1wiO2ltcG9ydHtjIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL21hdDNmMzIuanNcIjtpbXBvcnR7QnVja2V0VHlwZSBhcyBpfWZyb21cIi4vZW51bXMuanNcIjtpbXBvcnR7Q2lyY2xlUmVuZGVyQnVja2V0IGFzIG8sU3ltYm9sUmVuZGVyQnVja2V0IGFzIGgsTGluZVJlbmRlckJ1Y2tldCBhcyBuLEZpbGxSZW5kZXJCdWNrZXQgYXMgbH1mcm9tXCIuL1JlbmRlckJ1Y2tldC5qc1wiO2ltcG9ydHtGQURFX0RVUkFUSU9OIGFzIHl9ZnJvbVwiLi9kZWNsdXR0ZXJpbmcvY29uZmlnLmpzXCI7aW1wb3J0e1RpbGVkRGlzcGxheU9iamVjdCBhcyBjfWZyb21cIi4uL3dlYmdsL1RpbGVkRGlzcGxheU9iamVjdC5qc1wiO2NsYXNzIGQgZXh0ZW5kcyBje2NvbnN0cnVjdG9yKGUsdCxzLGEscixpLG8saD1udWxsKXtzdXBlcihlLHQscyxhLHIsaSw0MDk2LDQwOTYpLHRoaXMuc3R5bGVSZXBvc2l0b3J5PW8sdGhpcy5fbWVtQ2FjaGU9aCx0aGlzLnR5cGU9XCJ2ZWN0b3ItdGlsZVwiLHRoaXMuX3JlZmVyZW5jZWQ9MCx0aGlzLl9oYXNTeW1ib2xCdWNrZXRzPSExLHRoaXMuX21lbW9yeVVzZWRCeUxheWVyRGF0YT0wLHRoaXMubGF5ZXJEYXRhPW5ldyBNYXAsdGhpcy5sYXllckNvdW50PTAsdGhpcy5zdGF0dXM9XCJsb2FkaW5nXCIsdGhpcy5hbGxTeW1ib2xzRmFkaW5nT3V0PSExLHRoaXMubGFzdE9wYWNpdHlVcGRhdGU9MCx0aGlzLnN5bWJvbHM9bmV3IE1hcCx0aGlzLmlzQ292ZXJhZ2U9ITEsdGhpcy5uZWVkZWRGb3JDb3ZlcmFnZT0hMSx0aGlzLmRlY2x1dHRlcmVkPSExLHRoaXMuaW52YWxpZGF0aW5nPSExLHRoaXMucGFyZW50VGlsZT1udWxsLHRoaXMuY2hpbGRyZW5UaWxlcz1uZXcgU2V0LHRoaXMuX3Byb2Nlc3NlZD0hMSx0aGlzLl9yZWZlcmVuY2VkPTEsdGhpcy5pZD1lLmlkfWdldCBoYXNTeW1ib2xCdWNrZXRzKCl7cmV0dXJuIHRoaXMuX2hhc1N5bWJvbEJ1Y2tldHN9Z2V0IGlzRmFkaW5nKCl7cmV0dXJuIHRoaXMuX2hhc1N5bWJvbEJ1Y2tldHMmJnBlcmZvcm1hbmNlLm5vdygpLXRoaXMubGFzdE9wYWNpdHlVcGRhdGU8eX1nZXQgaXNIb2xkaW5nRm9yRmFkZSgpe3JldHVybiB0aGlzLl9oYXNTeW1ib2xCdWNrZXRzJiYoIXRoaXMuYWxsU3ltYm9sc0ZhZGluZ091dHx8cGVyZm9ybWFuY2Uubm93KCktdGhpcy5sYXN0T3BhY2l0eVVwZGF0ZTx5KX1nZXQgd2FzUmVxdWVzdGVkKCl7cmV0dXJuXCJlcnJvcmVkXCI9PT10aGlzLnN0YXR1c3x8XCJsb2FkZWRcIj09PXRoaXMuc3RhdHVzfHxcInJlbG9hZGluZ1wiPT09dGhpcy5zdGF0dXN9c2V0RGF0YShlKXt0aGlzLmNoYW5nZURhdGFJbXBsKGUpLHRoaXMucmVxdWVzdFJlbmRlcigpLHRoaXMucmVhZHkoKSx0aGlzLmludmFsaWRhdGluZz0hMSx0aGlzLl9wcm9jZXNzZWQ9ITB9ZGVsZXRlTGF5ZXJEYXRhKGUpe2xldCB0PSExO2Zvcihjb25zdCBzIG9mIGUpaWYodGhpcy5sYXllckRhdGEuaGFzKHMpKXtjb25zdCBlPXRoaXMubGF5ZXJEYXRhLmdldChzKTt0aGlzLl9tZW1vcnlVc2VkQnlMYXllckRhdGEtPWUubWVtb3J5VXNlZCxlLnR5cGU9PT1pLlNZTUJPTCYmdGhpcy5zeW1ib2xzLmhhcyhzKSYmKHRoaXMuc3ltYm9scy5kZWxldGUocyksdD0hMCksZS5kZXN0cm95KCksdGhpcy5sYXllckRhdGEuZGVsZXRlKHMpLHRoaXMubGF5ZXJDb3VudC0tfXRoaXMuX21lbUNhY2hlPy51cGRhdGVTaXplKHRoaXMua2V5LmlkLHRoaXMsdGhpcy5fbWVtb3J5VXNlZEJ5TGF5ZXJEYXRhKSx0JiZ0aGlzLmVtaXQoXCJzeW1ib2xzLWNoYW5nZWRcIiksdGhpcy5yZXF1ZXN0UmVuZGVyKCl9cHJvY2Vzc2VkKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NlZH1oYXNEYXRhKCl7cmV0dXJuIHRoaXMubGF5ZXJDb3VudD4wfWRpc3Bvc2UoKXtcInVubG9hZGVkXCIhPT10aGlzLnN0YXR1cyYmKG0uZGVsZXRlKHRoaXMpLGQuX2Rlc3Ryb3lSZW5kZXJCdWNrZXRzKHRoaXMubGF5ZXJEYXRhKSx0aGlzLmxheWVyRGF0YT1udWxsLHRoaXMubGF5ZXJDb3VudD0wLHRoaXMuX21lbW9yeVVzZWRCeUxheWVyRGF0YT0wLHRoaXMuZGVzdHJveSgpLHRoaXMuc3RhdHVzPVwidW5sb2FkZWRcIil9cmVsZWFzZSgpe3JldHVybiAwPT0tLXRoaXMuX3JlZmVyZW5jZWQmJih0aGlzLmRpc3Bvc2UoKSx0aGlzLnN0YWdlPW51bGwsITApfXJldGFpbigpeysrdGhpcy5fcmVmZXJlbmNlZH1nZXQgcmVmZXJlbmNlZCgpe3JldHVybiB0aGlzLl9yZWZlcmVuY2VkfWdldCBtZW1vcnlVc2VkKCl7cmV0dXJuIHRoaXMuX21lbW9yeVVzZWRCeUxheWVyRGF0YSsyNTZ9Y2hhbmdlRGF0YUltcGwoZSl7bGV0IHQ9ITE7aWYoZSl7Y29uc3R7YnVja2V0c1dpdGhEYXRhOnMsZW1wdHlCdWNrZXRzOmF9PWUscj10aGlzLl9jcmVhdGVSZW5kZXJCdWNrZXRzKHMpO2lmKGEmJmEuYnl0ZUxlbmd0aD4wKXtjb25zdCBlPW5ldyBVaW50MzJBcnJheShhKTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX2RlbGV0ZUxheWVyRGF0YSh0KX1mb3IoY29uc3RbZSxvXW9mIHIpdGhpcy5fZGVsZXRlTGF5ZXJEYXRhKGUpLG8udHlwZT09PWkuU1lNQk9MJiYodGhpcy5zeW1ib2xzLnNldChlLG8uc3ltYm9scyksdD0hMCksdGhpcy5fbWVtb3J5VXNlZEJ5TGF5ZXJEYXRhKz1vLm1lbW9yeVVzZWQsdGhpcy5sYXllckRhdGEuc2V0KGUsbyksdGhpcy5sYXllckNvdW50Kys7dGhpcy5fbWVtQ2FjaGU/LnVwZGF0ZVNpemUodGhpcy5rZXkuaWQsdGhpcyx0aGlzLm1lbW9yeVVzZWQpfXRoaXMuX2hhc1N5bWJvbEJ1Y2tldHM9ITE7Zm9yKGNvbnN0W3MsYV1vZiB0aGlzLmxheWVyRGF0YSlhLnR5cGU9PT1pLlNZTUJPTCYmKHRoaXMuX2hhc1N5bWJvbEJ1Y2tldHM9ITApO3QmJnRoaXMuZW1pdChcInN5bWJvbHMtY2hhbmdlZFwiKX1hdHRhY2hXaXRoQ29udGV4dChlKXt0aGlzLnN0YWdlPXtjb250ZXh0OmUsdHJhc2hEaXNwbGF5T2JqZWN0KGUpe2UucHJvY2Vzc0RldGFjaCgpfSx1bnRyYXNoRGlzcGxheU9iamVjdDooKT0+ITF9fXNldFRyYW5zZm9ybShyKXtzdXBlci5zZXRUcmFuc2Zvcm0ocik7Y29uc3QgaT10aGlzLnJlc29sdXRpb24vKHIucmVzb2x1dGlvbipyLnBpeGVsUmF0aW8pLG89dGhpcy53aWR0aC90aGlzLnJhbmdlWCppLGg9dGhpcy5oZWlnaHQvdGhpcy5yYW5nZVkqaSxuPVswLDBdO3IudG9TY3JlZW4obixbdGhpcy54LHRoaXMueV0pO2NvbnN0IGw9dGhpcy50cmFuc2Zvcm1zLnRpbGVVbml0c1RvUGl4ZWxzO2UobCksdChsLGwsbikscyhsLGwsTWF0aC5QSSpyLnJvdGF0aW9uLzE4MCksYShsLGwsW28saCwxXSl9X2NyZWF0ZVRyYW5zZm9ybXMoKXtyZXR1cm57ZHZzOnIoKSx0aWxlTWF0MzpyKCksdGlsZVVuaXRzVG9QaXhlbHM6cigpfX1zdGF0aWMgX2Rlc3Ryb3lSZW5kZXJCdWNrZXRzKGUpe2lmKCFlKXJldHVybjtjb25zdCB0PW5ldyBTZXQ7ZS5mb3JFYWNoKChlPT57dC5oYXMoZSl8fChlLmRlc3Ryb3koKSx0LmFkZChlKSl9KSksZS5jbGVhcigpfV9jcmVhdGVSZW5kZXJCdWNrZXRzKGUpe2NvbnN0IHQ9bmV3IE1hcCxzPW5ldyBNYXA7Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT10aGlzLl9kZXNlcmlhbGl6ZUJ1Y2tldChhLHMpO2Zvcihjb25zdCBzIG9mIGUubGF5ZXJVSURzKXQuc2V0KHMsZSl9cmV0dXJuIHR9X2Rlc2VyaWFsaXplQnVja2V0KGUsdCl7bGV0IHM9dC5nZXQoZSk7aWYocylyZXR1cm4gcztzd2l0Y2gobmV3IFVpbnQzMkFycmF5KGUpWzBdKXtjYXNlIGkuRklMTDpzPW5ldyBsKGUsdGhpcy5zdHlsZVJlcG9zaXRvcnkpO2JyZWFrO2Nhc2UgaS5MSU5FOnM9bmV3IG4oZSx0aGlzLnN0eWxlUmVwb3NpdG9yeSk7YnJlYWs7Y2FzZSBpLlNZTUJPTDpzPW5ldyBoKGUsdGhpcy5zdHlsZVJlcG9zaXRvcnksdGhpcyk7YnJlYWs7Y2FzZSBpLkNJUkNMRTpzPW5ldyBvKGUsdGhpcy5zdHlsZVJlcG9zaXRvcnkpfXJldHVybiB0LnNldChlLHMpLHN9X2RlbGV0ZUxheWVyRGF0YShlKXtpZighdGhpcy5sYXllckRhdGEuaGFzKGUpKXJldHVybjtjb25zdCB0PXRoaXMubGF5ZXJEYXRhLmdldChlKTt0aGlzLl9tZW1vcnlVc2VkQnlMYXllckRhdGEtPXQubWVtb3J5VXNlZCx0LmRlc3Ryb3koKSx0aGlzLmxheWVyRGF0YS5kZWxldGUoZSksdGhpcy5sYXllckNvdW50LS19fWNvbnN0IG09bmV3IE1hcDtmdW5jdGlvbiB1KCl7bS5mb3JFYWNoKCgoZSx0KT0+e2NvbnNvbGUubG9nKGBcXG4ke3Qua2V5fTpgKSxlWzBdLmZvckVhY2goKGU9PmNvbnNvbGUubG9nKGUpKSksY29uc29sZS5sb2coXCI9PT09PT09PVwiKSxlWzFdLmZvckVhY2goKGU9PmNvbnNvbGUubG9nKGUpKSl9KSl9ZXhwb3J0e2QgYXMgVmVjdG9yVGlsZSx1IGFzIHByaW50QWxsb2NhdGlvbnN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtjcmVhdGVSZXNvbHZlciBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvcHJvbWlzZVV0aWxzLmpzXCI7aW1wb3J0e2NyZWF0ZSBhcyB0fWZyb21cIi4uLy4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvYWFCb3VuZGluZ1JlY3QuanNcIjtpbXBvcnR7U3ltYm9sRmFkZXIgYXMgc31mcm9tXCIuL2RlY2x1dHRlcmluZy9TeW1ib2xGYWRlci5qc1wiO2ltcG9ydHtWaXNpYmlsaXR5IGFzIHIsU3R5bGVMYXllclR5cGUgYXMgaX1mcm9tXCIuL3N0eWxlL1N0eWxlRGVmaW5pdGlvbi5qc1wiO2ltcG9ydHtXR0xEcmF3UGhhc2UgYXMgbH1mcm9tXCIuLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydHtSZW5kZXJhYmxlVGlsZSBhcyBvfWZyb21cIi4uL3dlYmdsL1JlbmRlcmFibGVUaWxlLmpzXCI7aW1wb3J0IG4gZnJvbVwiLi4vd2ViZ2wvVGlsZUNvbnRhaW5lci5qc1wiO2ltcG9ydCBhIGZyb21cIi4uLy4uL3RpbGluZy9UaWxlQ292ZXJhZ2UuanNcIjtpbXBvcnQgZCBmcm9tXCIuLi8uLi90aWxpbmcvVGlsZUtleS5qc1wiO2ltcG9ydHtTdGVuY2lsT3BlcmF0aW9uIGFzIGgsQ29tcGFyZUZ1bmN0aW9uIGFzIGMsQmxlbmRGYWN0b3IgYXMgdX1mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2NvbnN0IHk9MWUtNjtmdW5jdGlvbiBwKGUsdCl7aWYoZSl7Y29uc3Qgcz1lLmdldExheW91dFByb3BlcnR5KFwidmlzaWJpbGl0eVwiKTtpZighc3x8cy5nZXRWYWx1ZSgpIT09ci5OT05FJiYodm9pZCAwPT09ZS5taW56b29tfHxlLm1pbnpvb208dCt5KSYmKHZvaWQgMD09PWUubWF4em9vbXx8ZS5tYXh6b29tPj10LXkpKXJldHVybiEwfXJldHVybiExfWNsYXNzIG0gZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuX2JhY2tncm91bmRUaWxlcz1bXSx0aGlzLl9wb2ludFRvQ2FsbGJhY2tzPW5ldyBNYXB9ZGVzdHJveSgpe3RoaXMucmVtb3ZlQWxsQ2hpbGRyZW4oKSx0aGlzLl9zcHJpdGVNb3NhaWM/LmRpc3Bvc2UoKSx0aGlzLl9zcHJpdGVNb3NhaWM9bnVsbCx0aGlzLl9nbHlwaE1vc2FpYz8uZGlzcG9zZSgpLHRoaXMuX2dseXBoTW9zYWljPW51bGwsbnVsbCE9dGhpcy5fc3ltYm9sRmFkZXImJih0aGlzLl9zeW1ib2xGYWRlci5jbGVhcigpLHRoaXMuX3N5bWJvbEZhZGVyPW51bGwpLHRoaXMuX3N0eWxlUmVwb3NpdG9yeT1udWxsLHRoaXMuX2JhY2tncm91bmRUaWxlcz1bXSx0aGlzLl9wb2ludFRvQ2FsbGJhY2tzLmNsZWFyKCl9c2V0U3R5bGVSZXNvdXJjZXMoZSx0LHIpe2lmKHRoaXMuX3Nwcml0ZU1vc2FpYz1lLHRoaXMuX2dseXBoTW9zYWljPXQsdGhpcy5fc3R5bGVSZXBvc2l0b3J5PXIsbnVsbD09dGhpcy5fc3ltYm9sRmFkZXIpe2NvbnN0IGU9bmV3IHModGhpcy5fc3R5bGVSZXBvc2l0b3J5LHRoaXMuY2hpbGRyZW4pO2Uub24oXCJmYWRlLXN0YXJ0XCIsKCgpPT57dGhpcy5lbWl0KFwiZmFkZS1zdGFydFwiKSx0aGlzLnJlcXVlc3RSZW5kZXIoKX0pKSxlLm9uKFwiZmFkZS1jb21wbGV0ZVwiLCgoKT0+e3RoaXMuZW1pdChcImZhZGUtY29tcGxldGVcIiksdGhpcy5yZXF1ZXN0UmVuZGVyKCl9KSksdGhpcy5fc3ltYm9sRmFkZXI9ZX10aGlzLl9zeW1ib2xGYWRlci5zdHlsZVJlcG9zaXRvcnk9cn1zZXRTcHJpdGVNb3NhaWMoZSl7dGhpcy5fc3ByaXRlTW9zYWljPy5kaXNwb3NlKCksdGhpcy5fc3ByaXRlTW9zYWljPWV9ZGVsZXRlU3R5bGVMYXllcnMoZSl7bnVsbCE9dGhpcy5fc3ltYm9sRmFkZXImJnRoaXMuX3N5bWJvbEZhZGVyLmRlbGV0ZVN0eWxlTGF5ZXJzKGUpfWFzeW5jIGhpdFRlc3QodCl7Y29uc3Qgcz1lKCk7cmV0dXJuIHRoaXMuX3BvaW50VG9DYWxsYmFja3Muc2V0KHQscyksdGhpcy5yZXF1ZXN0UmVuZGVyKCkscy5wcm9taXNlfWVudGVyVGlsZUludmFsaWRhdGlvbigpe2Zvcihjb25zdCBlIG9mIHRoaXMuY2hpbGRyZW4pZS5pbnZhbGlkYXRpbmc9ITB9Y3JlYXRlUmVuZGVyUGFyYW1zKGUpe3JldHVybnsuLi5zdXBlci5jcmVhdGVSZW5kZXJQYXJhbXMoZSkscmVuZGVyUGFzczpudWxsLHN0eWxlTGF5ZXI6bnVsbCxzdHlsZUxheWVyVUlEOi0xLGdseXBoTW9zYWljOnRoaXMuX2dseXBoTW9zYWljLHNwcml0ZU1vc2FpYzp0aGlzLl9zcHJpdGVNb3NhaWMsaGFzQ2xpcHBpbmc6ISF0aGlzLl9jbGlwcGluZ0luZm9zfX1kb1JlbmRlcihlKXshdGhpcy52aXNpYmxlfHxlLmRyYXdQaGFzZSE9PWwuTUFQJiZlLmRyYXdQaGFzZSE9PWwuREVCVUd8fHZvaWQgMD09PXRoaXMuX3Nwcml0ZU1vc2FpY3x8c3VwZXIuZG9SZW5kZXIoZSl9YWRkQ2hpbGQoZSl7cmV0dXJuIHN1cGVyLmFkZENoaWxkKGUpLG51bGwhPXRoaXMuX3N5bWJvbEZhZGVyP3RoaXMuX3N5bWJvbEZhZGVyLmFkZFRpbGUoZSk6ZS5kZWNsdXR0ZXJlZD0hMCx0aGlzLnJlcXVlc3RSZW5kZXIoKSxlfXJlbW92ZUNoaWxkKGUpe3JldHVybiBudWxsIT10aGlzLl9zeW1ib2xGYWRlciYmdGhpcy5fc3ltYm9sRmFkZXIucmVtb3ZlVGlsZShlKSx0aGlzLnJlcXVlc3RSZW5kZXIoKSxzdXBlci5yZW1vdmVDaGlsZChlKX1yZW5kZXJDaGlsZHJlbihlKXtjb25zdHtkcmF3UGhhc2U6dH09ZTtpZih0IT09bC5ERUJVRyl7aWYodGhpcy5fZG9SZW5kZXIoZSksdGhpcy5fcG9pbnRUb0NhbGxiYWNrcy5zaXplPjApe2UuZHJhd1BoYXNlPWwuSElUVEVTVDtjb25zdCBzPWUucGFpbnRlci5lZmZlY3RzLmhpdHRlc3RWVEw7cy5iaW5kKGUpLHRoaXMuX2RvUmVuZGVyKGUpLHMuZHJhdyhlLHRoaXMuX3BvaW50VG9DYWxsYmFja3MpLHMudW5iaW5kKGUpLGUuZHJhd1BoYXNlPXR9fWVsc2Ugc3VwZXIucmVuZGVyQ2hpbGRyZW4oZSl9cmVtb3ZlQWxsQ2hpbGRyZW4oKXtmb3IobGV0IGU9MDtlPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmNoaWxkcmVuW2VdO251bGwhPXRoaXMuX3N5bWJvbEZhZGVyJiZ0aGlzLl9zeW1ib2xGYWRlci5yZW1vdmVUaWxlKHQpLHQuZGlzcG9zZSgpfXN1cGVyLnJlbW92ZUFsbENoaWxkcmVuKCl9Z2V0U3RlbmNpbFRhcmdldCgpe3JldHVybiB0aGlzLmNoaWxkcmVuLmZpbHRlcigoZT0+ZS5uZWVkZWRGb3JDb3ZlcmFnZSYmZS5oYXNEYXRhKCkpKX1yZXN0YXJ0RGVjbHV0dGVyKCl7bnVsbCE9dGhpcy5fc3ltYm9sRmFkZXImJnRoaXMuX3N5bWJvbEZhZGVyLnJlc3RhcnREZWNsdXR0ZXIoKX1fZG9SZW5kZXIoZSl7Y29uc3R7Y29udGV4dDp0fT1lLHM9dGhpcy5fc3R5bGVSZXBvc2l0b3J5O2lmKCFzKXJldHVybjtjb25zdCByPXMubGF5ZXJzO2xldCBpPSEwO2UuZHJhd1BoYXNlPT09bC5ISVRURVNUJiYoaT0hMSkscy5iYWNrZ3JvdW5kQnVja2V0SWRzLmxlbmd0aD4wJiYoZS5yZW5kZXJQYXNzPVwiYmFja2dyb3VuZFwiLHRoaXMuX3JlbmRlckJhY2tncm91bmRMYXllcnMoZSxzLmJhY2tncm91bmRCdWNrZXRJZHMpKSxzdXBlci5yZW5kZXJDaGlsZHJlbihlKSxlLmRyYXdQaGFzZT09PWwuTUFQJiZ0aGlzLl9mYWRlKGUuZGlzcGxheUxldmVsLGUuc3RhdGUpO2NvbnN0IG89dGhpcy5jaGlsZHJlbi5maWx0ZXIoKGU9PmUudmlzaWJsZSYmZS5oYXNEYXRhKCkpKTtpZighb3x8MD09PW8ubGVuZ3RoKXJldHVybiB0LmJpbmRWQU8oKSx0LnNldFN0ZW5jaWxUZXN0RW5hYmxlZCghMCksdm9pZCB0LnNldEJsZW5kaW5nRW5hYmxlZCghMCk7Zm9yKGNvbnN0IGwgb2YgbylsLnRyaWFuZ2xlQ291bnQ9MDt0LnNldFN0ZW5jaWxXcml0ZU1hc2soMCksdC5zZXRDb2xvck1hc2soITAsITAsITAsITApLHQuc2V0U3RlbmNpbE9wKGguS0VFUCxoLktFRVAsaC5SRVBMQUNFKSx0LnNldFN0ZW5jaWxUZXN0RW5hYmxlZCghMCksdC5zZXRCbGVuZGluZ0VuYWJsZWQoITEpLHQuc2V0RGVwdGhUZXN0RW5hYmxlZCghMCksdC5zZXREZXB0aFdyaXRlRW5hYmxlZCghMCksdC5zZXREZXB0aEZ1bmN0aW9uKGMuTEVRVUFMKSx0LnNldENsZWFyRGVwdGgoMSksdC5jbGVhcih0LmdsLkRFUFRIX0JVRkZFUl9CSVQpLGUucmVuZGVyUGFzcz1cIm9wYXF1ZVwiO2ZvcihsZXQgbD1yLmxlbmd0aC0xO2w+PTA7bC0tKXRoaXMuX3JlbmRlclN0eWxlTGF5ZXIocltsXSxlLG8pO3Quc2V0RGVwdGhXcml0ZUVuYWJsZWQoITEpLHQuc2V0QmxlbmRpbmdFbmFibGVkKGkpLHQuc2V0QmxlbmRGdW5jdGlvblNlcGFyYXRlKHUuT05FLHUuT05FX01JTlVTX1NSQ19BTFBIQSx1Lk9ORSx1Lk9ORV9NSU5VU19TUkNfQUxQSEEpLGUucmVuZGVyUGFzcz1cInRyYW5zbHVjZW50XCI7Zm9yKGxldCBsPTA7bDxyLmxlbmd0aDtsKyspdGhpcy5fcmVuZGVyU3R5bGVMYXllcihyW2xdLGUsbyk7dC5iaW5kVkFPKCksdC5zZXRTdGVuY2lsVGVzdEVuYWJsZWQoITApLHQuc2V0QmxlbmRpbmdFbmFibGVkKCEwKX1fZmFkZShlLHQpe251bGwhPXRoaXMuX3N5bWJvbEZhZGVyJiYodGhpcy5fc3ltYm9sRmFkZXIudXBkYXRlKGUsdCl8fHRoaXMucmVxdWVzdFJlbmRlcigpKX1fcmVuZGVyU3R5bGVMYXllcihlLHQscyl7Y29uc3R7cGFpbnRlcjpsLHJlbmRlclBhc3M6b309dDtpZih2b2lkIDA9PT1lKXJldHVybjtjb25zdCBuPWUuZ2V0TGF5b3V0UHJvcGVydHkoXCJ2aXNpYmlsaXR5XCIpO2lmKG4mJm4uZ2V0VmFsdWUoKT09PXIuTk9ORSlyZXR1cm47bGV0IGE7c3dpdGNoKGUudHlwZSl7Y2FzZSBpLkJBQ0tHUk9VTkQ6cmV0dXJuO2Nhc2UgaS5GSUxMOmlmKFwib3BhcXVlXCIhPT1vJiZcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2E9XCJ2dGxGaWxsXCI7YnJlYWs7Y2FzZSBpLkxJTkU6aWYoXCJ0cmFuc2x1Y2VudFwiIT09bylyZXR1cm47YT1cInZ0bExpbmVcIjticmVhaztjYXNlIGkuQ0lSQ0xFOmlmKFwidHJhbnNsdWNlbnRcIiE9PW8pcmV0dXJuO2E9XCJ2dGxDaXJjbGVcIjticmVhaztjYXNlIGkuU1lNQk9MOmlmKFwidHJhbnNsdWNlbnRcIiE9PW8pcmV0dXJuO2E9XCJ2dGxTeW1ib2xcIn1pZihzPWUudHlwZT09PWkuU1lNQk9MP3MuZmlsdGVyKChlPT5lLmRlY2x1dHRlcmVkKSk6cy5maWx0ZXIoKGU9PmUubmVlZGVkRm9yQ292ZXJhZ2UpKSxcInZ0bFN5bWJvbFwiIT09YSl7Y29uc3Qgcj10LmRpc3BsYXlMZXZlbDtpZigwPT09cy5sZW5ndGh8fHZvaWQgMCE9PWUubWluem9vbSYmZS5taW56b29tPj1yK3l8fHZvaWQgMCE9PWUubWF4em9vbSYmZS5tYXh6b29tPHIteSlyZXR1cm59Y29uc3QgZD1lLnVpZDt0LnN0eWxlTGF5ZXJVSUQ9ZCx0LnN0eWxlTGF5ZXI9ZTtmb3IoY29uc3QgciBvZiBzKWlmKHIubGF5ZXJEYXRhLmhhcyhkKSl7bC5yZW5kZXJPYmplY3RzKHQscyxhKTticmVha319X3JlbmRlckJhY2tncm91bmRMYXllcnMoZSxzKXtjb25zdHtjb250ZXh0OnIsZGlzcGxheUxldmVsOm4scGFpbnRlcjp1LHN0YXRlOnl9PWUsbT10aGlzLl9zdHlsZVJlcG9zaXRvcnk7bGV0IGY9ITE7Zm9yKGNvbnN0IHQgb2Ygcyl7aWYobS5nZXRMYXllckJ5SWQodCkudHlwZT09PWkuQkFDS0dST1VORCYmcChtLmdldExheWVyQnlJZCh0KSxuKSl7Zj0hMDticmVha319aWYoIWYpcmV0dXJuO2NvbnN0IF89dGhpcy5fdGlsZUluZm9WaWV3LmdldFRpbGVDb3ZlcmFnZShlLnN0YXRlLDAsITAsXCJzbWFsbGVzdFwiKSx7c3BhbnM6Yixsb2RJbmZvOmd9PV8se2xldmVsOlR9PWcsRT10KCksQz1bXTtpZih0aGlzLl9yZW5kZXJQYXNzZXMpe2NvbnN0IHQ9dGhpcy5fcmVuZGVyUGFzc2VzWzBdO251bGwhPXRoaXMuX2NsaXBwaW5nSW5mb3MmJih0LmJydXNoZXNbMF0ucHJlcGFyZVN0YXRlKGUpLHQuYnJ1c2hlc1swXS5kcmF3TWFueShlLHRoaXMuX2NsaXBwaW5nSW5mb3MpKX1jb25zdCBMPXRoaXMuX2JhY2tncm91bmRUaWxlcztsZXQgdixSPTA7Zm9yKGNvbnN0e3JvdzppLGNvbEZyb206bCxjb2xUbzphfW9mIGIpZm9yKGxldCBlPWw7ZTw9YTtlKyspe2lmKFI8TC5sZW5ndGgpdj1MW1JdLHYua2V5LnNldChULGksZy5ub3JtYWxpemVDb2woZSksZy5nZXRXb3JsZEZvckNvbHVtbihlKSksdGhpcy5fdGlsZUluZm9WaWV3LmdldFRpbGVCb3VuZHMoRSx2LmtleSwhMSksdi54PUVbMF0sdi55PUVbM10sdi5yZXNvbHV0aW9uPXRoaXMuX3RpbGVJbmZvVmlldy5nZXRUaWxlUmVzb2x1dGlvbihUKTtlbHNle2NvbnN0IHM9bmV3IGQoVCxpLGcubm9ybWFsaXplQ29sKGUpLGcuZ2V0V29ybGRGb3JDb2x1bW4oZSkpLHI9dGhpcy5fdGlsZUluZm9WaWV3LmdldFRpbGVCb3VuZHModCgpLHMpLGw9dGhpcy5fdGlsZUluZm9WaWV3LmdldFRpbGVSZXNvbHV0aW9uKFQpO3Y9bmV3IG8ocyxsLHJbMF0sclszXSw1MTIsNTEyLDQwOTYsNDA5NiksTC5wdXNoKHYpfXYuc2V0VHJhbnNmb3JtKHkpLEMucHVzaCh2KSxSKyt9ci5zZXRTdGVuY2lsV3JpdGVNYXNrKDApLHIuc2V0Q29sb3JNYXNrKCEwLCEwLCEwLCEwKSxyLnNldFN0ZW5jaWxPcChoLktFRVAsaC5LRUVQLGguUkVQTEFDRSksci5zZXRTdGVuY2lsRnVuY3Rpb24oYy5FUVVBTCwwLDI1NSk7bGV0IFM9ITA7ZS5kcmF3UGhhc2U9PT1sLkhJVFRFU1QmJihTPSExKSxyLnNldFN0ZW5jaWxUZXN0RW5hYmxlZChTKTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBzPW0uZ2V0TGF5ZXJCeUlkKHQpO3MudHlwZT09PWkuQkFDS0dST1VORCYmcChzLG4pJiYoZS5zdHlsZUxheWVyVUlEPXMudWlkLGUuc3R5bGVMYXllcj1zLHUucmVuZGVyT2JqZWN0cyhlLEMsXCJ2dGxCYWNrZ3JvdW5kXCIpKX1hLnBvb2wucmVsZWFzZShfKX19ZXhwb3J0e20gYXMgVmVjdG9yVGlsZUNvbnRhaW5lcn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0ZBREVfRFVSQVRJT04gYXMgb31mcm9tXCIuL2NvbmZpZy5qc1wiO2Z1bmN0aW9uIHQobyx0KXtpZihvLnByaW9yaXR5LXQucHJpb3JpdHkpcmV0dXJuIG8ucHJpb3JpdHktdC5wcmlvcml0eTtjb25zdCBlPW8udGlsZS5rZXksaT10LnRpbGUua2V5O3JldHVybiBlLndvcmxkLWkud29ybGQ/ZS53b3JsZC1pLndvcmxkOmUubGV2ZWwtaS5sZXZlbD9lLmxldmVsLWkubGV2ZWw6ZS5yb3ctaS5yb3c/ZS5yb3ctaS5yb3c6ZS5jb2wtaS5jb2w/ZS5jb2wtaS5jb2w6by54VGlsZS10LnhUaWxlP28ueFRpbGUtdC54VGlsZTpvLnlUaWxlLXQueVRpbGV9Y2xhc3MgZXtnZXQgcnVubmluZygpe3JldHVybiB0aGlzLl9ydW5uaW5nfWNvbnN0cnVjdG9yKG8sdCxlLGkscyxuKXt0aGlzLl92aXNpYmxlVGlsZXM9byx0aGlzLl9zeW1ib2xSZXBvc2l0b3J5PXQsdGhpcy5fY3JlYXRlQ29sbGlzaW9uSm9iPWUsdGhpcy5fYXNzaWduVGlsZVN5bWJvbHNPcGFjaXR5PWksdGhpcy5fc3ltYm9sTGF5ZXJTb3J0ZXI9cyx0aGlzLl9pc0xheWVyVmlzaWJsZT1uLHRoaXMuX3NlbGVjdGlvbkpvYj1udWxsLHRoaXMuX3NlbGVjdGlvbkpvYkNvbXBsZXRlZD0hMSx0aGlzLl9jb2xsaXNpb25Kb2I9bnVsbCx0aGlzLl9jb2xsaXNpb25Kb2JDb21wbGV0ZWQ9ITEsdGhpcy5fb3BhY2l0eUpvYj1udWxsLHRoaXMuX29wYWNpdHlKb2JDb21wbGV0ZWQ9ITEsdGhpcy5fcnVubmluZz0hMH1zZXRTY3JlZW5TaXplKG8sdCl7dGhpcy5fc2NyZWVuV2lkdGg9PT1vJiZ0aGlzLl9zY3JlZW5IZWlnaHQ9PT10fHx0aGlzLnJlc3RhcnQoKSx0aGlzLl9zY3JlZW5XaWR0aD1vLHRoaXMuX3NjcmVlbkhlaWdodD10fXJlc3RhcnQoKXt0aGlzLl9zZWxlY3Rpb25Kb2I9bnVsbCx0aGlzLl9zZWxlY3Rpb25Kb2JDb21wbGV0ZWQ9ITEsdGhpcy5fY29sbGlzaW9uSm9iPW51bGwsdGhpcy5fY29sbGlzaW9uSm9iQ29tcGxldGVkPSExLHRoaXMuX29wYWNpdHlKb2I9bnVsbCx0aGlzLl9vcGFjaXR5Sm9iQ29tcGxldGVkPSExLHRoaXMuX3J1bm5pbmc9ITB9Y29udGludWUobyl7aWYodGhpcy5fc2VsZWN0aW9uSm9ifHwodGhpcy5fc2VsZWN0aW9uSm9iPXRoaXMuX2NyZWF0ZVNlbGVjdGlvbkpvYigpKSwhdGhpcy5fc2VsZWN0aW9uSm9iQ29tcGxldGVkKXtjb25zdCB0PXBlcmZvcm1hbmNlLm5vdygpO2lmKCF0aGlzLl9zZWxlY3Rpb25Kb2Iud29yayhvKSlyZXR1cm4hMTtpZih0aGlzLl9zZWxlY3Rpb25Kb2JDb21wbGV0ZWQ9ITAsMD09PShvPU1hdGgubWF4KDAsby0ocGVyZm9ybWFuY2Uubm93KCktdCkpKSlyZXR1cm4hMX1pZih0aGlzLl9jb2xsaXNpb25Kb2J8fCh0aGlzLl9jb2xsaXNpb25Kb2I9dGhpcy5fY3JlYXRlQ29sbGlzaW9uSm9iKHRoaXMuX3NlbGVjdGlvbkpvYi5zb3J0ZWRTeW1ib2xzLHRoaXMuX3NjcmVlbldpZHRoLHRoaXMuX3NjcmVlbkhlaWdodCkpLCF0aGlzLl9jb2xsaXNpb25Kb2JDb21wbGV0ZWQpe2NvbnN0IHQ9cGVyZm9ybWFuY2Uubm93KCk7aWYoIXRoaXMuX2NvbGxpc2lvbkpvYi53b3JrKG8pKXJldHVybiExO2lmKHRoaXMuX2NvbGxpc2lvbkpvYkNvbXBsZXRlZD0hMCwwPT09KG89TWF0aC5tYXgoMCxvLShwZXJmb3JtYW5jZS5ub3coKS10KSkpKXJldHVybiExfWlmKHRoaXMuX29wYWNpdHlKb2J8fCh0aGlzLl9vcGFjaXR5Sm9iPXRoaXMuX2NyZWF0ZU9wYWNpdHlKb2IoKSksIXRoaXMuX29wYWNpdHlKb2JDb21wbGV0ZWQpe2NvbnN0IHQ9cGVyZm9ybWFuY2Uubm93KCk7aWYoIXRoaXMuX29wYWNpdHlKb2Iud29yayhvKSlyZXR1cm4hMTtpZih0aGlzLl9vcGFjaXR5Sm9iQ29tcGxldGVkPSEwLDA9PT0obz1NYXRoLm1heCgwLG8tKHBlcmZvcm1hbmNlLm5vdygpLXQpKSkpcmV0dXJuITF9cmV0dXJuIHRoaXMuX3J1bm5pbmc9ITEsITB9X2NyZWF0ZVNlbGVjdGlvbkpvYigpe2NvbnN0IG89dGhpcy5fc3ltYm9sUmVwb3NpdG9yeS51bmlxdWVTeW1ib2xzO2ZvcihsZXQgdD0wO3Q8by5sZW5ndGg7dCsrKXtjb25zdCBlPW9bdF07Zm9yKGxldCBvPTA7bzxlLnVuaXF1ZVN5bWJvbHMubGVuZ3RoO28rKyl7Y29uc3QgdD1lLnVuaXF1ZVN5bWJvbHNbb107Zm9yKGNvbnN0IG8gb2YgdC50aWxlU3ltYm9scylvLnNlbGVjdGVkRm9yUmVuZGVyaW5nPSExfX1jb25zdCBlPVtdO2xldCBpPTAscz0wO2NvbnN0IG49dGhpcy5faXNMYXllclZpc2libGU7ZnVuY3Rpb24gcihyKXtsZXQgbDtjb25zdCBjPXBlcmZvcm1hbmNlLm5vdygpO2Zvcig7czxvLmxlbmd0aDtzKyssaT0wKXtjb25zdCB0PW9bc10saD10LnN0eWxlTGF5ZXJVSUQ7aWYoIW4oaCkpe2Vbc118fChlW3NdPXtzdHlsZUxheWVyVUlEOmgsc3ltYm9sczpbXX0pO2NvbnRpbnVlfWVbc109ZVtzXXx8e3N0eWxlTGF5ZXJVSUQ6aCxzeW1ib2xzOltdfTtjb25zdCBhPWVbc107Zm9yKDtpPHQudW5pcXVlU3ltYm9scy5sZW5ndGg7aSsrKXtpZihsPXQudW5pcXVlU3ltYm9sc1tpXSxpJTEwMD09OTkmJnBlcmZvcm1hbmNlLm5vdygpLWM+cilyZXR1cm4hMTtsZXQgbz1udWxsLGU9ITEscz0hMTtmb3IoY29uc3QgdCBvZiBsLnRpbGVTeW1ib2xzKWlmKCFzfHwhZSl7Y29uc3QgaT10LnRpbGU7KCFvfHxpLmlzQ292ZXJhZ2V8fGkubmVlZGVkRm9yQ292ZXJhZ2UmJiFlKSYmKG89dCwoaS5uZWVkZWRGb3JDb3ZlcmFnZXx8aS5pc0NvdmVyYWdlKSYmKHM9ITApLGkuaXNDb3ZlcmFnZSYmKGU9ITApKX1pZihvLnNlbGVjdGVkRm9yUmVuZGVyaW5nPSEwLHMpe2Euc3ltYm9scy5wdXNoKG8pLGwuc2hvdz0hMDtmb3IoY29uc3QgbyBvZiBsLnBhcnRzKW8uc2hvdz0hMH1lbHNlIGwuc2hvdz0hMX19Zm9yKGNvbnN0IG8gb2YgZSlvLnN5bWJvbHMuc29ydCh0KTtyZXR1cm4hMH1jb25zdCBsPXRoaXMuX3N5bWJvbExheWVyU29ydGVyO3JldHVybnt3b3JrOnIsZ2V0IHNvcnRlZFN5bWJvbHMoKXtyZXR1cm4gZS5zb3J0KGwpfX19X2NyZWF0ZU9wYWNpdHlKb2IoKXtjb25zdCBvPXRoaXMuX2Fzc2lnblRpbGVTeW1ib2xzT3BhY2l0eSx0PXRoaXMuX3Zpc2libGVUaWxlcztsZXQgZT0wO2Z1bmN0aW9uIHModCxlKXtjb25zdCBuPXQuc3ltYm9scztmb3IoY29uc3RbbyxzXW9mIG4paShzLGUpO28odCxlKTtmb3IoY29uc3QgbyBvZiB0LmNoaWxkcmVuVGlsZXMpcyhvLGUpfXJldHVybnt3b3JrKG8pe2NvbnN0IGk9cGVyZm9ybWFuY2Uubm93KCk7Zm9yKDtlPHQubGVuZ3RoO2UrKyl7aWYocGVyZm9ybWFuY2Uubm93KCktaT5vKXJldHVybiExO2NvbnN0IG49dFtlXTtpZihudWxsIT1uLnBhcmVudFRpbGUpY29udGludWU7cyhuLHBlcmZvcm1hbmNlLm5vdygpKX1yZXR1cm4hMH19fX1mdW5jdGlvbiBpKHQsZSl7Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3QgdD1pLnVuaXF1ZTtmb3IoY29uc3QgaSBvZiB0LnBhcnRzKXtjb25zdCBzPWkudGFyZ2V0T3BhY2l0eT4uNT8xOi0xO2kuc3RhcnRPcGFjaXR5Kz1zKigoZS1pLnN0YXJ0VGltZSkvbyksaS5zdGFydE9wYWNpdHk9TWF0aC5taW4oTWF0aC5tYXgoaS5zdGFydE9wYWNpdHksMCksMSksaS5zdGFydFRpbWU9ZSxpLnRhcmdldE9wYWNpdHk9dC5zaG93JiZpLnNob3c/MTowfX19ZXhwb3J0e2UgYXMgU3ltYm9sRGVjbHV0dGVyZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCB0IGZyb21cIi4uLy4uLy4uLy4uLy4uL2NvcmUvRXZlbnRlZC5qc1wiO2ltcG9ydHtERUNMVVRURVJfQlVER0VUIGFzIGUsRkFERV9EVVJBVElPTiBhcyBpfWZyb21cIi4vY29uZmlnLmpzXCI7aW1wb3J0e1ZUTFVuaXF1ZVN5bWJvbCBhcyBzfWZyb21cIi4vY29yZS5qc1wiO2ltcG9ydHtDb2xsaXNpb25Kb2IgYXMgb31mcm9tXCIuL2pvYnMuanNcIjtpbXBvcnR7U3ltYm9sRGVjbHV0dGVyZXIgYXMgbH1mcm9tXCIuL1N5bWJvbERlY2x1dHRlcmVyLmpzXCI7aW1wb3J0e1N5bWJvbFJlcG9zaXRvcnkgYXMgcn1mcm9tXCIuL1N5bWJvbFJlcG9zaXRvcnkuanNcIjtpbXBvcnR7d3JpdGVPcGFjaXR5VG9CdWZmZXJzIGFzIGF9ZnJvbVwiLi91dGlsLmpzXCI7aW1wb3J0e1Zpc2liaWxpdHkgYXMgaH1mcm9tXCIuLi9zdHlsZS9TdHlsZURlZmluaXRpb24uanNcIjtjb25zdCBjPS41LG49MWUtNjtjbGFzcyBfIGV4dGVuZHMgdHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKCksdGhpcy5zdHlsZVJlcG9zaXRvcnk9dCx0aGlzLl90aWxlVG9IYW5kbGU9bmV3IE1hcCx0aGlzLl92aWV3U3RhdGU9e3NjYWxlOjAscm90YXRpb246MCxjZW50ZXI6WzAsMF0sc2l6ZTpbMCwwXX0sdGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlPXtzY2FsZTowLHJvdGF0aW9uOjAsY2VudGVyOlswLDBdLHNpemU6WzAsMF19LHRoaXMuX2NvbXBsZXRlZD0hMSx0aGlzLl9zeW1ib2xSZXBvc2l0b3J5PW5ldyByKDQwOTYsZSwoKCk9Pm5ldyBzKSksdGhpcy5fc3ltYm9sRGVjbHV0dGVyZXI9bmV3IGwoZSx0aGlzLl9zeW1ib2xSZXBvc2l0b3J5LCgodCxlLGkpPT5uZXcgbyh0LGUsaSx0aGlzLnN0eWxlUmVwb3NpdG9yeSx0aGlzLl96b29tLHRoaXMuX3ZpZXdTdGF0ZS5yb3RhdGlvbikpLCgodCxlKT0+e3QuYWxsU3ltYm9sc0ZhZGluZ091dD0hMCx0Lmxhc3RPcGFjaXR5VXBkYXRlPWUsYSh0LGUsITApLHQuZGVjbHV0dGVyZWQ9ITAsdC5yZXF1ZXN0UmVuZGVyKCl9KSwoKHQsZSk9PnRoaXMuc3R5bGVSZXBvc2l0b3J5LmdldFN0eWxlTGF5ZXJCeVVJRCh0LnN0eWxlTGF5ZXJVSUQpLnotdGhpcy5zdHlsZVJlcG9zaXRvcnkuZ2V0U3R5bGVMYXllckJ5VUlEKGUuc3R5bGVMYXllclVJRCkueiksKHQ9Pntjb25zdCBlPXRoaXMuc3R5bGVSZXBvc2l0b3J5LmdldFN0eWxlTGF5ZXJCeVVJRCh0KTtpZih0aGlzLl96b29tK248ZS5taW56b29tfHx0aGlzLl96b29tLW4+PWUubWF4em9vbSlyZXR1cm4hMTtjb25zdCBpPWUuZ2V0TGF5b3V0UHJvcGVydHkoXCJ2aXNpYmlsaXR5XCIpO3JldHVybiFpfHxpLmdldFZhbHVlKCkhPT1oLk5PTkV9KSl9YWRkVGlsZSh0KXt0LmRlY2x1dHRlcmVkPSExLHRoaXMuX3RpbGVUb0hhbmRsZS5zZXQodCx0Lm9uKFwic3ltYm9scy1jaGFuZ2VkXCIsKCgpPT57dGhpcy5fc3ltYm9sUmVwb3NpdG9yeS5hZGQodCksdGhpcy5yZXN0YXJ0RGVjbHV0dGVyKCl9KSkpLHRoaXMuX3N5bWJvbFJlcG9zaXRvcnkuYWRkKHQpLHRoaXMucmVzdGFydERlY2x1dHRlcigpfXJlbW92ZVRpbGUodCl7Y29uc3QgZT10aGlzLl90aWxlVG9IYW5kbGUuZ2V0KHQpO2UmJih0aGlzLl9zeW1ib2xSZXBvc2l0b3J5LnJlbW92ZVRpbGUodCksdGhpcy5yZXN0YXJ0RGVjbHV0dGVyKCksZS5yZW1vdmUoKSx0aGlzLl90aWxlVG9IYW5kbGUuZGVsZXRlKHQpKX11cGRhdGUodCxlKXtyZXR1cm4gdGhpcy5fem9vbT10LHRoaXMuX3ZpZXdTdGF0ZT17c2NhbGU6ZS5zY2FsZSxyb3RhdGlvbjplLnJvdGF0aW9uLGNlbnRlcjpbZS5jZW50ZXJbMF0sZS5jZW50ZXJbMV1dLHNpemU6W2Uuc2l6ZVswXSxlLnNpemVbMV1dfSx0aGlzLl9jb250aW51ZURlY2x1dHRlcigpLHRoaXMuX2NvbXBsZXRlZH1yZXN0YXJ0RGVjbHV0dGVyKCl7dGhpcy5fY29tcGxldGVkPSExLHRoaXMuX3N5bWJvbERlY2x1dHRlcmVyLnJlc3RhcnQoKSx0aGlzLl9ub3RpZnlVbnN0YWJsZSgpfWNsZWFyKCl7dGhpcy5fY29tcGxldGVkPSExLHRoaXMuX3N5bWJvbFJlcG9zaXRvcnk9bnVsbCx0aGlzLl9zeW1ib2xEZWNsdXR0ZXJlci5yZXN0YXJ0KCksdGhpcy5fdGlsZVRvSGFuZGxlLmZvckVhY2goKHQ9PnQucmVtb3ZlKCkpKSx0aGlzLl90aWxlVG9IYW5kbGUuY2xlYXIoKX1nZXQgc3RhbGUoKXtyZXR1cm4gdGhpcy5fem9vbSE9PXRoaXMuX2RlY2x1dHRlclpvb218fHRoaXMuX3ZpZXdTdGF0ZS5zaXplWzBdIT09dGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLnNpemVbMF18fHRoaXMuX3ZpZXdTdGF0ZS5zaXplWzFdIT09dGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLnNpemVbMV18fHRoaXMuX3ZpZXdTdGF0ZS5zY2FsZSE9PXRoaXMuX2RlY2x1dHRlclZpZXdTdGF0ZS5zY2FsZXx8dGhpcy5fdmlld1N0YXRlLnJvdGF0aW9uIT09dGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLnJvdGF0aW9ufWRlbGV0ZVN0eWxlTGF5ZXJzKHQpe3RoaXMuX3N5bWJvbFJlcG9zaXRvcnkuZGVsZXRlU3R5bGVMYXllcnModCl9X2NvbnRpbnVlRGVjbHV0dGVyKCl7dGhpcy5fY29tcGxldGVkJiYhdGhpcy5zdGFsZXx8KHRoaXMuX3N5bWJvbERlY2x1dHRlcmVyLnJ1bm5pbmd8fCh0aGlzLl9kZWNsdXR0ZXJab29tPXRoaXMuX3pvb20sdGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLmNlbnRlclswXT10aGlzLl92aWV3U3RhdGUuY2VudGVyWzBdLHRoaXMuX2RlY2x1dHRlclZpZXdTdGF0ZS5jZW50ZXJbMV09dGhpcy5fdmlld1N0YXRlLmNlbnRlclsxXSx0aGlzLl9kZWNsdXR0ZXJWaWV3U3RhdGUucm90YXRpb249dGhpcy5fdmlld1N0YXRlLnJvdGF0aW9uLHRoaXMuX2RlY2x1dHRlclZpZXdTdGF0ZS5zY2FsZT10aGlzLl92aWV3U3RhdGUuc2NhbGUsdGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLnNpemVbMF09dGhpcy5fdmlld1N0YXRlLnNpemVbMF0sdGhpcy5fZGVjbHV0dGVyVmlld1N0YXRlLnNpemVbMV09dGhpcy5fdmlld1N0YXRlLnNpemVbMV0sdGhpcy5fc3ltYm9sRGVjbHV0dGVyZXIucmVzdGFydCgpKSx0aGlzLl9zeW1ib2xEZWNsdXR0ZXJlci5zZXRTY3JlZW5TaXplKHRoaXMuX3ZpZXdTdGF0ZS5zaXplWzBdLHRoaXMuX3ZpZXdTdGF0ZS5zaXplWzFdKSx0aGlzLl9jb21wbGV0ZWQ9dGhpcy5fc3ltYm9sRGVjbHV0dGVyZXIuY29udGludWUoZSksdGhpcy5fY29tcGxldGVkJiZ0aGlzLl9zY2hlZHVsZU5vdGlmeVN0YWJsZSgpKX1fc2NoZWR1bGVOb3RpZnlTdGFibGUoKXtudWxsIT10aGlzLl9zdGFibGVOb3RpZmljYXRpb25IYW5kbGUmJmNsZWFyVGltZW91dCh0aGlzLl9zdGFibGVOb3RpZmljYXRpb25IYW5kbGUpLHRoaXMuX3N0YWJsZU5vdGlmaWNhdGlvbkhhbmRsZT1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX3N0YWJsZU5vdGlmaWNhdGlvbkhhbmRsZT1udWxsLHRoaXMuZW1pdChcImZhZGUtY29tcGxldGVcIil9KSwoMStjKSppKX1fbm90aWZ5VW5zdGFibGUoKXtudWxsIT10aGlzLl9zdGFibGVOb3RpZmljYXRpb25IYW5kbGUmJihjbGVhclRpbWVvdXQodGhpcy5fc3RhYmxlTm90aWZpY2F0aW9uSGFuZGxlKSx0aGlzLl9zdGFibGVOb3RpZmljYXRpb25IYW5kbGU9bnVsbCksdGhpcy5lbWl0KFwiZmFkZS1zdGFydFwiKX19ZXhwb3J0e18gYXMgU3ltYm9sRmFkZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtHcmlkSW5kZXggYXMgZSx0aWxlQ29vcmRDaGFuZ2UgYXMgc31mcm9tXCIuL3V0aWwuanNcIjtjb25zdCBsPTMyLG89OCx0PTY0O2NsYXNzIGl7Y29uc3RydWN0b3IoZSxzLGwpe3RoaXMudGlsZUNvb3JkUmFuZ2U9ZSx0aGlzLl92aXNpYmxlVGlsZXM9cyx0aGlzLl9jcmVhdGVVbmlxdWU9bCx0aGlzLl90aWxlcz1uZXcgTWFwLHRoaXMuX3VuaXF1ZVN5bWJvbHNSZWZlcmVuY2VzPW5ldyBNYXB9Z2V0IHVuaXF1ZVN5bWJvbHMoKXtyZXR1cm4gbnVsbD09dGhpcy5fdW5pcXVlU3ltYm9sTGF5ZXJBcnJheSYmKHRoaXMuX3VuaXF1ZVN5bWJvbExheWVyQXJyYXk9dGhpcy5fY3JlYXRlVW5pcXVlU3ltYm9sTGF5ZXJBcnJheSgpKSx0aGlzLl91bmlxdWVTeW1ib2xMYXllckFycmF5fWFkZChzLGkpe3RoaXMuX3VuaXF1ZVN5bWJvbExheWVyQXJyYXk9bnVsbDtsZXQgbj10aGlzLl90aWxlcy5nZXQocy5pZCk7bnx8KG49e3N5bWJvbHM6bmV3IE1hcH0sdGhpcy5fdGlsZXMuc2V0KHMuaWQsbikpO2NvbnN0IHI9bmV3IE1hcDtpZihpKWZvcihjb25zdCBlIG9mIGkpbi5zeW1ib2xzLmhhcyhlKSYmKHIuc2V0KGUsbi5zeW1ib2xzLmdldChlKSksbi5zeW1ib2xzLmRlbGV0ZShlKSk7ZWxzZSBmb3IoY29uc3RbZSxsXW9mIHMubGF5ZXJEYXRhKW4uc3ltYm9scy5oYXMoZSkmJihyLnNldChlLG4uc3ltYm9scy5nZXQoZSkpLG4uc3ltYm9scy5kZWxldGUoZSkpO3RoaXMuX3JlbW92ZVN5bWJvbHMocik7Y29uc3QgeT1zLnN5bWJvbHMsYT1uZXcgTWFwO2Zvcihjb25zdFtmLGNdb2YgeSl7bGV0IHM9Yy5sZW5ndGg7aWYocz49bCl7bGV0IGw9dGhpcy50aWxlQ29vcmRSYW5nZTtkb3tsLz0yLHMvPTR9d2hpbGUocz5vJiZsPnQpO2NvbnN0IGk9bmV3IGUodGhpcy50aWxlQ29vcmRSYW5nZSx0aGlzLnRpbGVDb29yZFJhbmdlLGwpO2Euc2V0KGYse2ZsYXQ6YyxpbmRleDppfSksbi5zeW1ib2xzLnNldChmLHtmbGF0OmMsaW5kZXg6aX0pO2Zvcihjb25zdCBlIG9mIGMpaS5nZXRDZWxsKGUueFRpbGUsZS55VGlsZSkucHVzaChlKX1lbHNlIGEuc2V0KGYse2ZsYXQ6Y30pLG4uc3ltYm9scy5zZXQoZix7ZmxhdDpjfSl9dGhpcy5fYWRkU3ltYm9scyhzLmtleSx5KX1kZWxldGVTdHlsZUxheWVycyhlKXt0aGlzLl91bmlxdWVTeW1ib2xMYXllckFycmF5PW51bGw7Zm9yKGNvbnN0W3MsbF1vZiB0aGlzLl90aWxlcyl7Y29uc3Qgbz1uZXcgTWFwO2Zvcihjb25zdCBzIG9mIGUpbC5zeW1ib2xzLmhhcyhzKSYmKG8uc2V0KHMsbC5zeW1ib2xzLmdldChzKSksbC5zeW1ib2xzLmRlbGV0ZShzKSk7dGhpcy5fcmVtb3ZlU3ltYm9scyhvKSwwPT09bC5zeW1ib2xzLnNpemUmJnRoaXMuX3RpbGVzLmRlbGV0ZShzKX19cmVtb3ZlVGlsZShlKXt0aGlzLl91bmlxdWVTeW1ib2xMYXllckFycmF5PW51bGw7Y29uc3Qgcz10aGlzLl90aWxlcy5nZXQoZS5pZCk7aWYoIXMpcmV0dXJuO2NvbnN0IGw9bmV3IE1hcDtmb3IoY29uc3Rbbyx0XW9mIGUuc3ltYm9scylzLnN5bWJvbHMuaGFzKG8pJiYobC5zZXQobyxzLnN5bWJvbHMuZ2V0KG8pKSxzLnN5bWJvbHMuZGVsZXRlKG8pKTt0aGlzLl9yZW1vdmVTeW1ib2xzKGwpLDA9PT1zLnN5bWJvbHMuc2l6ZSYmdGhpcy5fdGlsZXMuZGVsZXRlKGUuaWQpfV9yZW1vdmVTeW1ib2xzKGUpe2Zvcihjb25zdFtzLHtmbGF0Omx9XW9mIGUpZm9yKGNvbnN0IGUgb2YgbCl7Y29uc3QgbD1lLnVuaXF1ZSxvPWwudGlsZVN5bWJvbHMsdD1vLmxlbmd0aC0xO2ZvcihsZXQgcz0wO3M8dDtzKyspaWYob1tzXT09PWUpe29bc109b1t0XTticmVha31pZihvLmxlbmd0aD10LDA9PT10KXtjb25zdCBlPXRoaXMuX3VuaXF1ZVN5bWJvbHNSZWZlcmVuY2VzLmdldChzKTtlLmRlbGV0ZShsKSwwPT09ZS5zaXplJiZ0aGlzLl91bmlxdWVTeW1ib2xzUmVmZXJlbmNlcy5kZWxldGUocyl9ZS51bmlxdWU9bnVsbH19X2FkZFN5bWJvbHMoZSxzKXtpZigwPT09cy5zaXplKXJldHVybjtjb25zdCBsPXRoaXMuX3Zpc2libGVUaWxlcztmb3IoY29uc3QgbyBvZiBsKW8ucGFyZW50VGlsZXx8by5rZXkud29ybGQhPT1lLndvcmxkfHxvLmtleS5sZXZlbD09PWUubGV2ZWwmJiFvLmtleS5lcXVhbHMoZSl8fHRoaXMuX21hdGNoU3ltYm9scyhvLGUscyk7Zm9yKGNvbnN0W28sdF1vZiBzKWZvcihjb25zdCBlIG9mIHQpaWYobnVsbD09ZS51bmlxdWUpe2NvbnN0IHM9dGhpcy5fY3JlYXRlVW5pcXVlKCk7ZS51bmlxdWU9cyxzLnRpbGVTeW1ib2xzLnB1c2goZSk7bGV0IGw9dGhpcy5fdW5pcXVlU3ltYm9sc1JlZmVyZW5jZXMuZ2V0KG8pO2x8fChsPW5ldyBTZXQsdGhpcy5fdW5pcXVlU3ltYm9sc1JlZmVyZW5jZXMuc2V0KG8sbCkpLGwuYWRkKHMpfX1fbWF0Y2hTeW1ib2xzKGUsbCxvKXtpZihlLmtleS5sZXZlbD5sLmxldmVsKXtjb25zdCBzPWUua2V5LmxldmVsLWwubGV2ZWw7aWYoZS5rZXkucm93Pj5zIT09bC5yb3d8fGUua2V5LmNvbD4+cyE9PWwuY29sKXJldHVybn1pZihsLmxldmVsPmUua2V5LmxldmVsKXtjb25zdCBzPWwubGV2ZWwtZS5rZXkubGV2ZWw7aWYobC5yb3c+PnMhPT1lLmtleS5yb3d8fGwuY29sPj5zIT09ZS5rZXkuY29sKXJldHVybn1pZihsLmVxdWFscyhlLmtleSkpe2Zvcihjb25zdCBzIG9mIGUuY2hpbGRyZW5UaWxlcyl0aGlzLl9tYXRjaFN5bWJvbHMocyxsLG8pO3JldHVybn1jb25zdCB0PW5ldyBNYXA7Zm9yKGNvbnN0W2ksbl1vZiBvKXtjb25zdCBvPVtdO2Zvcihjb25zdCB0IG9mIG4pe2NvbnN0IGk9cyh0aGlzLnRpbGVDb29yZFJhbmdlLHQueFRpbGUsbC5sZXZlbCxsLmNvbCxlLmtleS5sZXZlbCxlLmtleS5jb2wpLG49cyh0aGlzLnRpbGVDb29yZFJhbmdlLHQueVRpbGUsbC5sZXZlbCxsLnJvdyxlLmtleS5sZXZlbCxlLmtleS5yb3cpO2k+PTAmJmk8dGhpcy50aWxlQ29vcmRSYW5nZSYmbj49MCYmbjx0aGlzLnRpbGVDb29yZFJhbmdlJiZvLnB1c2goe3N5bWJvbDp0LHhUcmFuc2Zvcm1lZDppLHlUcmFuc2Zvcm1lZDpufSl9Y29uc3Qgcj1bXSx5PWUua2V5LmxldmVsPGwubGV2ZWw/MToxPDxlLmtleS5sZXZlbC1sLmxldmVsLGE9dGhpcy5fdGlsZXMuZ2V0KGUuaWQpLnN5bWJvbHMuZ2V0KGkpO2lmKGEpe2NvbnN0IGU9YS5mbGF0O2Zvcihjb25zdCBzIG9mIG8pe2xldCBsLG89ITE7Y29uc3QgdD1zLnhUcmFuc2Zvcm1lZCxpPXMueVRyYW5zZm9ybWVkO2w9bnVsbCE9YS5pbmRleD9hLmluZGV4LmdldENlbGwodCxpKTplO2NvbnN0IG49cy5zeW1ib2wsZj1uLmhhc2g7Zm9yKGNvbnN0IGUgb2YgbClpZihmPT09ZS5oYXNoJiZNYXRoLmFicyh0LWUueFRpbGUpPD15JiZNYXRoLmFicyhpLWUueVRpbGUpPD15KXtjb25zdCBzPWUudW5pcXVlO24udW5pcXVlPXMscy50aWxlU3ltYm9scy5wdXNoKG4pLG89ITA7YnJlYWt9b3x8ci5wdXNoKG4pfX1yLmxlbmd0aD4wJiZ0LnNldChpLHIpfWZvcihjb25zdCBzIG9mIGUuY2hpbGRyZW5UaWxlcyl0aGlzLl9tYXRjaFN5bWJvbHMocyxsLHQpfV9jcmVhdGVVbmlxdWVTeW1ib2xMYXllckFycmF5KCl7Y29uc3QgZT10aGlzLl91bmlxdWVTeW1ib2xzUmVmZXJlbmNlcyxzPW5ldyBBcnJheShlLnNpemUpO2xldCBsLG89MDtmb3IoY29uc3RbdCxpXW9mIGUpe2NvbnN0IGU9bmV3IEFycmF5KGkuc2l6ZSk7bD0wO2Zvcihjb25zdCBzIG9mIGkpZVtsKytdPXM7c1tvXT17c3R5bGVMYXllclVJRDp0LHVuaXF1ZVN5bWJvbHM6ZX0sbysrfXJldHVybiBzfX1leHBvcnR7aSBhcyBTeW1ib2xSZXBvc2l0b3J5fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQpe3RoaXMueFRpbGU9MCx0aGlzLnlUaWxlPTAsdGhpcy5oYXNoPTAsdGhpcy5wcmlvcml0eT0xLHRoaXMuY29sbGlkZXJzPVtdLHRoaXMudGV4dFZlcnRleFJhbmdlcz1bXSx0aGlzLmljb25WZXJ0ZXhSYW5nZXM9W10sdGhpcy50aWxlPXR9fWNsYXNzIHN7Y29uc3RydWN0b3IoKXt0aGlzLnRpbGVTeW1ib2xzPVtdLHRoaXMucGFydHM9W3tzdGFydFRpbWU6MCxzdGFydE9wYWNpdHk6MCx0YXJnZXRPcGFjaXR5OjAsc2hvdzohMX0se3N0YXJ0VGltZTowLHN0YXJ0T3BhY2l0eTowLHRhcmdldE9wYWNpdHk6MCxzaG93OiExfV0sdGhpcy5zaG93PSExfX1leHBvcnR7dCBhcyBWVExTeW1ib2wscyBhcyBWVExVbmlxdWVTeW1ib2x9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHthIGFzIGV9ZnJvbVwiLi4vLi4vLi4vLi4vLi4vY2h1bmtzL21hdDNmMzIuanNcIjtpbXBvcnR7Q09MTElTSU9OX0dSSURfQ0VMTF9TSVpFIGFzIHR9ZnJvbVwiLi9jb25maWcuanNcIjtpbXBvcnR7R3JpZEluZGV4IGFzIG59ZnJvbVwiLi91dGlsLmpzXCI7aW1wb3J0e1N5bWJvbFBsYWNlbWVudCBhcyBvLFJvdGF0aW9uQWxpZ25tZW50IGFzIHIsVHJhbnNsYXRlQW5jaG9yIGFzIHN9ZnJvbVwiLi4vc3R5bGUvU3R5bGVEZWZpbml0aW9uLmpzXCI7ZnVuY3Rpb24gaShlLHQsbixvLGksbCl7Y29uc3R7aWNvblJvdGF0aW9uQWxpZ25tZW50OmEsdGV4dFJvdGF0aW9uQWxpZ25tZW50OmMsaWNvblRyYW5zbGF0ZTpoLGljb25UcmFuc2xhdGVBbmNob3I6dSx0ZXh0VHJhbnNsYXRlOmQsdGV4dFRyYW5zbGF0ZUFuY2hvcjp5fT1vO2xldCB4PTA7Zm9yKGNvbnN0IGcgb2YgZS5jb2xsaWRlcnMpe2NvbnN0W2Usb109MD09PWcucGFydEluZGV4P2g6ZCxtPTA9PT1nLnBhcnRJbmRleD91OnksZj1nLm1pbkxvZDw9bCYmbDw9Zy5tYXhMb2Q7eCs9Zj8wOjEsZy5lbmFibGVkPWYsZy54U2NyZWVuPWcueFRpbGUqaVswXStnLnlUaWxlKmlbM10raVs2XSxnLnlTY3JlZW49Zy54VGlsZSppWzFdK2cueVRpbGUqaVs0XStpWzddLG09PT1zLk1BUD8oZy54U2NyZWVuKz1uKmUtdCpvLGcueVNjcmVlbis9dCplK24qbyk6KGcueFNjcmVlbis9ZSxnLnlTY3JlZW4rPW8pLHIuVklFV1BPUlQ9PT0oMD09PWcucGFydEluZGV4P2E6Yyk/KGcuZHhTY3JlZW49Zy5keFBpeGVscyxnLmR5U2NyZWVuPWcuZHlQaXhlbHMpOihnLmR4U2NyZWVuPW4qKGcuZHhQaXhlbHMrZy53aWR0aC8yKS10KihnLmR5UGl4ZWxzK2cuaGVpZ2h0LzIpLWcud2lkdGgvMixnLmR5U2NyZWVuPXQqKGcuZHhQaXhlbHMrZy53aWR0aC8yKStuKihnLmR5UGl4ZWxzK2cuaGVpZ2h0LzIpLWcuaGVpZ2h0LzIpfWUuY29sbGlkZXJzLmxlbmd0aD4wJiZ4PT09ZS5jb2xsaWRlcnMubGVuZ3RoJiYoZS51bmlxdWUuc2hvdz0hMSl9Y2xhc3MgbHtjb25zdHJ1Y3RvcihvLHIscyxpLGwsYSl7dGhpcy5fc3ltYm9scz1vLHRoaXMuX3N0eWxlUmVwb3NpdG9yeT1pLHRoaXMuX3pvb209bCx0aGlzLl9jdXJyZW50TGF5ZXJDdXJzb3I9MCx0aGlzLl9jdXJyZW50U3ltYm9sQ3Vyc29yPTAsdGhpcy5fc3R5bGVQcm9wcz1uZXcgTWFwLHRoaXMuX2FsbE5lZWRlZE1hdHJpY2VzPW5ldyBNYXAsdGhpcy5fZ3JpZEluZGV4PW5ldyBuKHIscyx0KSx0aGlzLl9zaT1NYXRoLnNpbihNYXRoLlBJKmEvMTgwKSx0aGlzLl9jbz1NYXRoLmNvcyhNYXRoLlBJKmEvMTgwKTtmb3IoY29uc3QgdCBvZiBvKWZvcihjb25zdCBuIG9mIHQuc3ltYm9scyl0aGlzLl9hbGxOZWVkZWRNYXRyaWNlcy5oYXMobi50aWxlKXx8dGhpcy5fYWxsTmVlZGVkTWF0cmljZXMuc2V0KG4udGlsZSxlKG4udGlsZS50cmFuc2Zvcm1zLnRpbGVVbml0c1RvUGl4ZWxzKSl9d29yayhlKXtjb25zdCB0PXRoaXMuX2dyaWRJbmRleDtmdW5jdGlvbiBuKGUpe2NvbnN0IG49ZS54U2NyZWVuK2UuZHhTY3JlZW4sbz1lLnlTY3JlZW4rZS5keVNjcmVlbixyPW4rZS53aWR0aCxzPW8rZS5oZWlnaHQsW2ksbCxhLGNdPXQuZ2V0Q2VsbFNwYW4obixvLHIscyk7Zm9yKGxldCBoPWw7aDw9YztoKyspZm9yKGxldCBlPWk7ZTw9YTtlKyspe2NvbnN0IGk9dC5jZWxsc1toXVtlXTtmb3IoY29uc3QgZSBvZiBpKXtjb25zdCB0PWUueFNjcmVlbitlLmR4U2NyZWVuLGk9ZS55U2NyZWVuK2UuZHlTY3JlZW4sbD10K2Uud2lkdGgsYT1pK2UuaGVpZ2h0O2lmKCEocjx0fHxuPmx8fHM8aXx8bz5hKSlyZXR1cm4hMH19cmV0dXJuITF9Y29uc3Qgbz1wZXJmb3JtYW5jZS5ub3coKTtmb3IoO3RoaXMuX2N1cnJlbnRMYXllckN1cnNvcjx0aGlzLl9zeW1ib2xzLmxlbmd0aDt0aGlzLl9jdXJyZW50TGF5ZXJDdXJzb3IrKyx0aGlzLl9jdXJyZW50U3ltYm9sQ3Vyc29yPTApe2NvbnN0IHQ9dGhpcy5fc3ltYm9sc1t0aGlzLl9jdXJyZW50TGF5ZXJDdXJzb3JdLHI9dGhpcy5fZ2V0UHJvcGVydGllcyh0LnN0eWxlTGF5ZXJVSUQpO2Zvcig7dGhpcy5fY3VycmVudFN5bWJvbEN1cnNvcjx0LnN5bWJvbHMubGVuZ3RoO3RoaXMuX2N1cnJlbnRTeW1ib2xDdXJzb3IrKyl7aWYodGhpcy5fY3VycmVudFN5bWJvbEN1cnNvciUxMDA9PTk5JiZwZXJmb3JtYW5jZS5ub3coKS1vPmUpcmV0dXJuITE7Y29uc3Qgcz10LnN5bWJvbHNbdGhpcy5fY3VycmVudFN5bWJvbEN1cnNvcl07aWYoIXMudW5pcXVlLnNob3cpY29udGludWU7aShzLHRoaXMuX3NpLHRoaXMuX2NvLHIsdGhpcy5fYWxsTmVlZGVkTWF0cmljZXMuZ2V0KHMudGlsZSksdGhpcy5fem9vbSk7Y29uc3QgbD1zLnVuaXF1ZTtpZighbC5zaG93KWNvbnRpbnVlO2NvbnN0e2ljb25BbGxvd092ZXJsYXA6YSxpY29uSWdub3JlUGxhY2VtZW50OmMsdGV4dEFsbG93T3ZlcmxhcDpoLHRleHRJZ25vcmVQbGFjZW1lbnQ6dX09cjtmb3IoY29uc3QgZSBvZiBzLmNvbGxpZGVycyl7aWYoIWUuZW5hYmxlZCljb250aW51ZTtjb25zdCB0PWwucGFydHNbZS5wYXJ0SW5kZXhdO2lmKCF0LnNob3cpY29udGludWU7IShlLnBhcnRJbmRleD9oOmEpJiZuKGUpJiYoZS5oYXJkP2wuc2hvdz0hMTp0LnNob3c9ITEpfWlmKGwuc2hvdylmb3IoY29uc3QgZSBvZiBzLmNvbGxpZGVycyl7aWYoIWUuZW5hYmxlZCljb250aW51ZTtpZihlLnBhcnRJbmRleD91OmMpY29udGludWU7aWYoIWwucGFydHNbZS5wYXJ0SW5kZXhdLnNob3cpY29udGludWU7Y29uc3QgdD1lLnhTY3JlZW4rZS5keFNjcmVlbixuPWUueVNjcmVlbitlLmR5U2NyZWVuLG89dCtlLndpZHRoLHI9bitlLmhlaWdodCxbcyxpLGEsaF09dGhpcy5fZ3JpZEluZGV4LmdldENlbGxTcGFuKHQsbixvLHIpO2ZvcihsZXQgbD1pO2w8PWg7bCsrKWZvcihsZXQgdD1zO3Q8PWE7dCsrKXt0aGlzLl9ncmlkSW5kZXguY2VsbHNbbF1bdF0ucHVzaChlKX19fX1yZXR1cm4hMH1fZ2V0UHJvcGVydGllcyhlKXtjb25zdCB0PXRoaXMuX3N0eWxlUHJvcHMuZ2V0KGUpO2lmKHQpcmV0dXJuIHQ7Y29uc3Qgbj10aGlzLl96b29tLHM9dGhpcy5fc3R5bGVSZXBvc2l0b3J5LmdldFN0eWxlTGF5ZXJCeVVJRChlKSxpPXMuZ2V0TGF5b3V0VmFsdWUoXCJzeW1ib2wtcGxhY2VtZW50XCIsbikhPT1vLlBPSU5UO2xldCBsPXMuZ2V0TGF5b3V0VmFsdWUoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiLG4pO2w9PT1yLkFVVE8mJihsPWk/ci5NQVA6ci5WSUVXUE9SVCk7bGV0IGE9cy5nZXRMYXlvdXRWYWx1ZShcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIsbik7YT09PXIuQVVUTyYmKGE9aT9yLk1BUDpyLlZJRVdQT1JUKTtjb25zdCBjPXMuZ2V0UGFpbnRWYWx1ZShcImljb24tdHJhbnNsYXRlXCIsbiksaD1zLmdldFBhaW50VmFsdWUoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIixuKSx1PXMuZ2V0UGFpbnRWYWx1ZShcInRleHQtdHJhbnNsYXRlXCIsbiksZD1zLmdldFBhaW50VmFsdWUoXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIixuKSx5PXtpY29uQWxsb3dPdmVybGFwOnMuZ2V0TGF5b3V0VmFsdWUoXCJpY29uLWFsbG93LW92ZXJsYXBcIixuKSxpY29uSWdub3JlUGxhY2VtZW50OnMuZ2V0TGF5b3V0VmFsdWUoXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIixuKSx0ZXh0QWxsb3dPdmVybGFwOnMuZ2V0TGF5b3V0VmFsdWUoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIixuKSx0ZXh0SWdub3JlUGxhY2VtZW50OnMuZ2V0TGF5b3V0VmFsdWUoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIixuKSxpY29uUm90YXRpb25BbGlnbm1lbnQ6bCx0ZXh0Um90YXRpb25BbGlnbm1lbnQ6YSxpY29uVHJhbnNsYXRlQW5jaG9yOmgsaWNvblRyYW5zbGF0ZTpjLHRleHRUcmFuc2xhdGVBbmNob3I6ZCx0ZXh0VHJhbnNsYXRlOnV9O3JldHVybiB0aGlzLl9zdHlsZVByb3BzLnNldChlLHkpLHl9fWV4cG9ydHtsIGFzIENvbGxpc2lvbkpvYn07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0J1Y2tldFR5cGUgYXMgdH1mcm9tXCIuLi9lbnVtcy5qc1wiO2ltcG9ydHtWVExTeW1ib2wgYXMgZX1mcm9tXCIuL2NvcmUuanNcIjtmdW5jdGlvbiBzKHQsZSxzLG8sbCxpKXtjb25zdCByPXMtbDtpZihyPj0wKXJldHVybihlPj5yKSsoby0oaTw8cikpKih0Pj5yKTtjb25zdCBuPS1yO3JldHVybiBlLShpLShvPDxuKSkqKHQ+Pm4pPDxufWNsYXNzIG97Y29uc3RydWN0b3IodCxlLHMpe3RoaXMuX3Jvd3M9TWF0aC5jZWlsKGUvcyksdGhpcy5fY29sdW1ucz1NYXRoLmNlaWwodC9zKSx0aGlzLl9jZWxsU2l6ZT1zLHRoaXMuY2VsbHM9bmV3IEFycmF5KHRoaXMuX3Jvd3MpO2ZvcihsZXQgbz0wO288dGhpcy5fcm93cztvKyspe3RoaXMuY2VsbHNbb109bmV3IEFycmF5KHRoaXMuX2NvbHVtbnMpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fY29sdW1uczt0KyspdGhpcy5jZWxsc1tvXVt0XT1bXX19Z2V0Q2VsbCh0LGUpe2NvbnN0IHM9TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5mbG9vcihlL3RoaXMuX2NlbGxTaXplKSwwKSx0aGlzLl9yb3dzLTEpLG89TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5mbG9vcih0L3RoaXMuX2NlbGxTaXplKSwwKSx0aGlzLl9jb2x1bW5zLTEpO3JldHVybiB0aGlzLmNlbGxzW3NdJiZ0aGlzLmNlbGxzW3NdW29dfHxudWxsfWdldENlbGxTcGFuKHQsZSxzLG8pe3JldHVybltNYXRoLm1pbihNYXRoLm1heChNYXRoLmZsb29yKHQvdGhpcy5fY2VsbFNpemUpLDApLHRoaXMuY29sdW1ucy0xKSxNYXRoLm1pbihNYXRoLm1heChNYXRoLmZsb29yKGUvdGhpcy5fY2VsbFNpemUpLDApLHRoaXMucm93cy0xKSxNYXRoLm1pbihNYXRoLm1heChNYXRoLmZsb29yKHMvdGhpcy5fY2VsbFNpemUpLDApLHRoaXMuY29sdW1ucy0xKSxNYXRoLm1pbihNYXRoLm1heChNYXRoLmZsb29yKG8vdGhpcy5fY2VsbFNpemUpLDApLHRoaXMucm93cy0xKV19Z2V0IGNlbGxTaXplKCl7cmV0dXJuIHRoaXMuX2NlbGxTaXplfWdldCBjb2x1bW5zKCl7cmV0dXJuIHRoaXMuX2NvbHVtbnN9Z2V0IHJvd3MoKXtyZXR1cm4gdGhpcy5fcm93c319ZnVuY3Rpb24gbCh0LHMsbyxsLGkscil7Y29uc3Qgbj1zW2wrK107Zm9yKGxldCBhPTA7YTxuO2ErKyl7Y29uc3Qgbj1uZXcgZShyKTtuLnhUaWxlPXNbbCsrXSxuLnlUaWxlPXNbbCsrXSxuLmhhc2g9c1tsKytdLG4ucHJpb3JpdHk9c1tsKytdO2NvbnN0IGE9c1tsKytdO2ZvcihsZXQgdD0wO3Q8YTt0Kyspe2NvbnN0IHQ9c1tsKytdLGU9c1tsKytdLGk9c1tsKytdLHI9c1tsKytdLGE9ISFzW2wrK10sYz1zW2wrK10saD1vW2wrK10sZj1vW2wrK10sdT1zW2wrK10sbT1zW2wrK107bi5jb2xsaWRlcnMucHVzaCh7eFRpbGU6dCx5VGlsZTplLGR4UGl4ZWxzOmksZHlQaXhlbHM6cixoYXJkOmEscGFydEluZGV4OmMsd2lkdGg6dSxoZWlnaHQ6bSxtaW5Mb2Q6aCxtYXhMb2Q6Zn0pfWNvbnN0IGM9dFtsKytdO2ZvcihsZXQgZT0wO2U8YztlKyspbi50ZXh0VmVydGV4UmFuZ2VzLnB1c2goW3RbbCsrXSx0W2wrK11dKTtjb25zdCBoPXRbbCsrXTtmb3IobGV0IGU9MDtlPGg7ZSsrKW4uaWNvblZlcnRleFJhbmdlcy5wdXNoKFt0W2wrK10sdFtsKytdXSk7aS5wdXNoKG4pfXJldHVybiBsfWZ1bmN0aW9uIGkodCxlLHMpe2Zvcihjb25zdFtvLGxdb2YgdC5zeW1ib2xzKXIodCxlLHMsbCxvKX1mdW5jdGlvbiByKGUscyxvLGwsaSl7Y29uc3Qgcj1lLmxheWVyRGF0YS5nZXQoaSk7aWYoci50eXBlPT09dC5TWU1CT0wpe2Zvcihjb25zdCB0IG9mIGwpe2NvbnN0IHM9dC51bmlxdWU7bGV0IGw7aWYodC5zZWxlY3RlZEZvclJlbmRlcmluZyl7Y29uc3QgdD1zLnBhcnRzWzBdLGk9dC5zdGFydE9wYWNpdHkscj10LnRhcmdldE9wYWNpdHk7ZS5hbGxTeW1ib2xzRmFkaW5nT3V0PWUuYWxsU3ltYm9sc0ZhZGluZ091dCYmMD09PXI7Y29uc3Qgbj1vP01hdGguZmxvb3IoMTI3KmkpfHI8PDc6cj8yNTU6MDtsPW48PDI0fG48PDE2fG48PDh8bn1lbHNlIGw9MDtmb3IoY29uc3RbZSxvXW9mIHQuaWNvblZlcnRleFJhbmdlcylmb3IobGV0IHQ9ZTt0PGUrbzt0Kz00KXIuaWNvbk9wYWNpdHlbdC80XT1sO2lmKHQuc2VsZWN0ZWRGb3JSZW5kZXJpbmcpe2NvbnN0IHQ9cy5wYXJ0c1sxXSxpPXQuc3RhcnRPcGFjaXR5LHI9dC50YXJnZXRPcGFjaXR5O2UuYWxsU3ltYm9sc0ZhZGluZ091dD1lLmFsbFN5bWJvbHNGYWRpbmdPdXQmJjA9PT1yO2NvbnN0IG49bz9NYXRoLmZsb29yKDEyNyppKXxyPDw3OnI/MjU1OjA7bD1uPDwyNHxuPDwxNnxuPDw4fG59ZWxzZSBsPTA7Zm9yKGNvbnN0W2Usb11vZiB0LnRleHRWZXJ0ZXhSYW5nZXMpZm9yKGxldCB0PWU7dDxlK287dCs9NClyLnRleHRPcGFjaXR5W3QvNF09bH1yLmxhc3RPcGFjaXR5VXBkYXRlPXMsci5vcGFjaXR5Q2hhbmdlZD0hMH19ZXhwb3J0e28gYXMgR3JpZEluZGV4LGwgYXMgZGVzZXJpYWxpemVTeW1ib2xzLHMgYXMgdGlsZUNvb3JkQ2hhbmdlLGkgYXMgd3JpdGVPcGFjaXR5VG9CdWZmZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyB0e2NvbnN0cnVjdG9yKHQ9MCxoPTAsaT0wLHM9MCl7dGhpcy54PXQsdGhpcy55PWgsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PXN9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gdGhpcy53aWR0aDw9MHx8dGhpcy5oZWlnaHQ8PTB9dW5pb24odCl7dGhpcy54PU1hdGgubWluKHRoaXMueCx0LngpLHRoaXMueT1NYXRoLm1pbih0aGlzLnksdC55KSx0aGlzLndpZHRoPU1hdGgubWF4KHRoaXMud2lkdGgsdC53aWR0aCksdGhpcy5oZWlnaHQ9TWF0aC5tYXgodGhpcy5oZWlnaHQsdC5oZWlnaHQpfX1leHBvcnR7dCBhcyBkZWZhdWx0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YyBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9tYXQzZjMyLmpzXCI7aW1wb3J0e1RpbGVkRGlzcGxheU9iamVjdCBhcyByfWZyb21cIi4vVGlsZWREaXNwbGF5T2JqZWN0LmpzXCI7Y2xhc3MgdCBleHRlbmRzIHJ7X2NyZWF0ZVRyYW5zZm9ybXMoKXtyZXR1cm57ZHZzOnMoKSx0aWxlTWF0MzpzKCl9fX1leHBvcnR7dCBhcyBSZW5kZXJhYmxlVGlsZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi8uLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtXR0xEcmF3UGhhc2UgYXMgZX1mcm9tXCIuL2VudW1zLmpzXCI7aW1wb3J0IHIgZnJvbVwiLi9XR0xDb250YWluZXIuanNcIjtpbXBvcnQgcyBmcm9tXCIuL2JydXNoZXMvV0dMQnJ1c2hJbmZvLmpzXCI7aW1wb3J0IHQgZnJvbVwiLi9icnVzaGVzL1dHTEJydXNoU3RlbmNpbC5qc1wiO2NvbnN0IG49KGUscik9PmUua2V5LmxldmVsLXIua2V5LmxldmVsIT0wP2Uua2V5LmxldmVsLXIua2V5LmxldmVsOmUua2V5LnJvdy1yLmtleS5yb3chPTA/ZS5rZXkucm93LXIua2V5LnJvdzplLmtleS5jb2wtci5rZXkuY29sO2NsYXNzIGkgZXh0ZW5kcyBye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fdGlsZUluZm9WaWV3PWV9Z2V0IHJlcXVpcmVzRGVkaWNhdGVkRkJPKCl7cmV0dXJuITF9cmVuZGVyQ2hpbGRyZW4oZSl7dGhpcy5zb3J0Q2hpbGRyZW4obiksdGhpcy5zZXRTdGVuY2lsUmVmZXJlbmNlKGUpLHN1cGVyLnJlbmRlckNoaWxkcmVuKGUpfWNyZWF0ZVJlbmRlclBhcmFtcyhlKXtjb25zdHtzdGF0ZTpyfT1lLHM9c3VwZXIuY3JlYXRlUmVuZGVyUGFyYW1zKGUpO3JldHVybiBzLnJlcXVpcmVkTGV2ZWw9dGhpcy5fdGlsZUluZm9WaWV3LmdldENsb3Nlc3RJbmZvRm9yU2NhbGUoci5zY2FsZSkubGV2ZWwscy5kaXNwbGF5TGV2ZWw9dGhpcy5fdGlsZUluZm9WaWV3LnRpbGVJbmZvLnNjYWxlVG9ab29tKHIuc2NhbGUpLHN9cHJlcGFyZVJlbmRlclBhc3NlcyhyKXtjb25zdCBuPXN1cGVyLnByZXBhcmVSZW5kZXJQYXNzZXMocik7cmV0dXJuIG4ucHVzaChyLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcInN0ZW5jaWxcIixicnVzaGVzOlt0XSxkcmF3UGhhc2U6ZS5ERUJVR3xlLk1BUHxlLkhJR0hMSUdIVCx0YXJnZXQ6KCk9PnRoaXMuZ2V0U3RlbmNpbFRhcmdldCgpfSkpLGhhcyhcImVzcmktdGlsZXMtZGVidWdcIikmJm4ucHVzaChyLnJlZ2lzdGVyUmVuZGVyUGFzcyh7bmFtZTpcInRpbGVJbmZvXCIsYnJ1c2hlczpbc10sZHJhd1BoYXNlOmUuREVCVUcsdGFyZ2V0OigpPT50aGlzLmNoaWxkcmVufSkpLG59Z2V0U3RlbmNpbFRhcmdldCgpe3JldHVybiB0aGlzLmNoaWxkcmVufXNldFN0ZW5jaWxSZWZlcmVuY2UoZSl7bGV0IHI9MTtmb3IoY29uc3QgcyBvZiB0aGlzLmNoaWxkcmVuKXMuc3RlbmNpbFJlZj1yKyt9fWV4cG9ydHtpIGFzIGRlZmF1bHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtzIGFzIHQsbSBhcyBzfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9tYXQzLmpzXCI7aW1wb3J0e0Rpc3BsYXlPYmplY3QgYXMgaX1mcm9tXCIuLi9EaXNwbGF5T2JqZWN0LmpzXCI7aW1wb3J0IGUgZnJvbVwiLi4vLi4vdGlsaW5nL1RpbGVLZXkuanNcIjtjbGFzcyByIGV4dGVuZHMgaXtjb25zdHJ1Y3Rvcih0LHMsaSxyLGgsbyxuPWgsYT1vKXtzdXBlcigpLHRoaXMudHJpYW5nbGVDb3VudFJlcG9ydGVkSW5EZWJ1Zz0wLHRoaXMudHJpYW5nbGVDb3VudD0wLHRoaXMudGV4dHVyZT1udWxsLHRoaXMua2V5PW5ldyBlKHQpLHRoaXMucmVzb2x1dGlvbj1zLHRoaXMueD1pLHRoaXMueT1yLHRoaXMud2lkdGg9aCx0aGlzLmhlaWdodD1vLHRoaXMucmFuZ2VYPW4sdGhpcy5yYW5nZVk9YX1kZXN0cm95KCl7dGhpcy50ZXh0dXJlJiYodGhpcy50ZXh0dXJlLmRpc3Bvc2UoKSx0aGlzLnRleHR1cmU9bnVsbCl9c2V0VHJhbnNmb3JtKGkpe2NvbnN0IGU9dGhpcy5yZXNvbHV0aW9uLyhpLnJlc29sdXRpb24qaS5waXhlbFJhdGlvKSxyPXRoaXMudHJhbnNmb3Jtcy50aWxlTWF0MyxbaCxvXT1pLnRvU2NyZWVuTm9Sb3RhdGlvbihbMCwwXSxbdGhpcy54LHRoaXMueV0pLG49dGhpcy53aWR0aC90aGlzLnJhbmdlWCplLGE9dGhpcy5oZWlnaHQvdGhpcy5yYW5nZVkqZTt0KHIsbiwwLDAsMCxhLDAsaCxvLDEpLHModGhpcy50cmFuc2Zvcm1zLmR2cyxpLmRpc3BsYXlWaWV3TWF0MyxyKX19ZXhwb3J0e3IgYXMgVGlsZWREaXNwbGF5T2JqZWN0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7XyBhcyBlfWZyb21cIi4uLy4uLy4uL2NodW5rcy90c2xpYi5lczYuanNcIjtpbXBvcnQgdCBmcm9tXCIuLi8uLi8uLi9HcmFwaGljLmpzXCI7aW1wb3J0e2Nsb25lIGFzIGl9ZnJvbVwiLi4vLi4vLi4vY29yZS9sYW5nLmpzXCI7aW1wb3J0IHMgZnJvbVwiLi4vLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7ZGVzdHJveU1heWJlIGFzIHJ9ZnJvbVwiLi4vLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtpc0Fib3J0RXJyb3IgYXMgYX1mcm9tXCIuLi8uLi8uLi9jb3JlL3Byb21pc2VVdGlscy5qc1wiO2ltcG9ydHt3YXRjaCBhcyBsLGluaXRpYWwgYXMgbn1mcm9tXCIuLi8uLi8uLi9jb3JlL3JlYWN0aXZlVXRpbHMuanNcIjtpbXBvcnR7cHJvcGVydHkgYXMgb31mcm9tXCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9kZWNvcmF0b3JzL3Byb3BlcnR5LmpzXCI7aW1wb3J0XCIuLi8uLi8uLi9jb3JlL2FjY2Vzc29yU3VwcG9ydC9lbnN1cmVUeXBlLmpzXCI7aW1wb3J0e3N1YmNsYXNzIGFzIGh9ZnJvbVwiLi4vLi4vLi4vY29yZS9hY2Nlc3NvclN1cHBvcnQvZGVjb3JhdG9ycy9zdWJjbGFzcy5qc1wiO2ltcG9ydHtkaWZmIGFzIHUsaGFzRGlmZiBhcyBjfWZyb21cIi4uLy4uLy4uL2NvcmUvYWNjZXNzb3JTdXBwb3J0L2RpZmZVdGlscy5qc1wiO2ltcG9ydHtjcmVhdGUgYXMgeX1mcm9tXCIuLi8uLi8uLi9nZW9tZXRyeS9zdXBwb3J0L2FhQm91bmRpbmdSZWN0LmpzXCI7aW1wb3J0e2VxdWFscyBhcyBwfWZyb21cIi4uLy4uLy4uL2dlb21ldHJ5L3N1cHBvcnQvc3BhdGlhbFJlZmVyZW5jZVV0aWxzLmpzXCI7aW1wb3J0e1N0eWxlVXBkYXRlVHlwZSBhcyBkfWZyb21cIi4uL2VuZ2luZS92ZWN0b3JUaWxlcy9lbnVtcy5qc1wiO2ltcG9ydHtUaWxlSGFuZGxlciBhcyBffWZyb21cIi4uL2VuZ2luZS92ZWN0b3JUaWxlcy9UaWxlSGFuZGxlci5qc1wiO2ltcG9ydHtUaWxlTWFuYWdlciBhcyBmfWZyb21cIi4uL2VuZ2luZS92ZWN0b3JUaWxlcy9UaWxlTWFuYWdlci5qc1wiO2ltcG9ydHtWZWN0b3JUaWxlIGFzIGd9ZnJvbVwiLi4vZW5naW5lL3ZlY3RvclRpbGVzL1ZlY3RvclRpbGUuanNcIjtpbXBvcnR7VmVjdG9yVGlsZUNvbnRhaW5lciBhcyBtfWZyb21cIi4uL2VuZ2luZS92ZWN0b3JUaWxlcy9WZWN0b3JUaWxlQ29udGFpbmVyLmpzXCI7aW1wb3J0e1N0eWxlTGF5ZXJUeXBlIGFzIEN9ZnJvbVwiLi4vZW5naW5lL3ZlY3RvclRpbGVzL3N0eWxlL1N0eWxlRGVmaW5pdGlvbi5qc1wiO2ltcG9ydCBUIGZyb21cIi4uL2VuZ2luZS92ZWN0b3JUaWxlcy9zdHlsZS9TdHlsZVJlcG9zaXRvcnkuanNcIjtpbXBvcnR7TGF5ZXJWaWV3MkRNaXhpbiBhcyB2fWZyb21cIi4vTGF5ZXJWaWV3MkQuanNcIjtpbXBvcnQgUiBmcm9tXCIuL3N1cHBvcnQvRGVidWdPdmVybGF5LmpzXCI7aW1wb3J0IEggZnJvbVwiLi4vdGlsaW5nL1RpbGVJbmZvVmlld1BPVC5qc1wiO2ltcG9ydCB3IGZyb21cIi4uL3RpbGluZy9UaWxlUXVldWUuanNcIjtpbXBvcnQgUyBmcm9tXCIuLi8uLi9sYXllcnMvTGF5ZXJWaWV3LmpzXCI7bGV0IEQ9Y2xhc3MgZXh0ZW5kcyh2KFMpKXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fc3R5bGVDaGFuZ2VzPVtdLHRoaXMuX2ZldGNoUXVldWU9bnVsbCx0aGlzLl9wYXJzZVF1ZXVlPW51bGwsdGhpcy5fdGlsZUhhbmRsZXJQcm9taXNlPW51bGwsdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSExLHRoaXMuX2NvbGxpc2lvbk92ZXJsYXk9bnVsbCx0aGlzLmZhZGluZz0hMSx0aGlzLl9nZXRDb2xsaWRlcnNNZXNoPWU9Pntjb25zdHtwaXhlbFJhdGlvOnR9PWUuc3RhdGU7bGV0IGk9MDtjb25zdCBzPVtdLHI9W107Zm9yKGNvbnN0IGEgb2YgdGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5jaGlsZHJlbilpZihhLnN5bWJvbHMpZm9yKGNvbnN0W2UsbF1vZiBhLnN5bWJvbHMpZm9yKGNvbnN0IGEgb2YgbClmb3IoY29uc3QgZSBvZiBhLmNvbGxpZGVycyl7Y29uc3QgbD0oZS54U2NyZWVuK2UuZHhTY3JlZW4pKnQsbj0oZS55U2NyZWVuK2UuZHlTY3JlZW4pKnQsbz1lLndpZHRoKnQsaD1lLmhlaWdodCp0LHU9YS51bmlxdWUucGFydHNbZS5wYXJ0SW5kZXhdLnRhcmdldE9wYWNpdHk+LjU7aWYoIXUmJlwiYWxsXCIhPT10aGlzLmxheWVyLnNob3dDb2xsaXNpb25Cb3hlcyljb250aW51ZTtjb25zdCBjPTMseT0xLHA9MyxkPTAsXz11PzI6MCxmPXU/MzowLGc9Ui5tYWtlRmxhZ3MoXyxmKTtzLnB1c2gobCxuLGcsbCtvLG4sZyxsLG4raCxnLGwrbyxuK2gsZyksci5wdXNoKGksaSsxLGkrMixpKzEsaSszLGkrMiksaSs9NDtjb25zdCBtPXU/Yzp5LEM9dT9wOmQsVD1SLm1ha2VGbGFncyhtLEMpO3MucHVzaChsLG4sVCxsK28sbixULGwsbisxLFQsbCtvLG4rMSxUKSxyLnB1c2goaSxpKzEsaSsyLGkrMSxpKzMsaSsyKSxpKz00LHMucHVzaChsLG4raC0xLFQsbCtvLG4raC0xLFQsbCxuK2gsVCxsK28sbitoLFQpLHIucHVzaChpLGkrMSxpKzIsaSsxLGkrMyxpKzIpLGkrPTQscy5wdXNoKGwsbixULGwrMSxuLFQsbCxuK2gsVCxsKzEsbitoLFQpLHIucHVzaChpLGkrMSxpKzIsaSsxLGkrMyxpKzIpLGkrPTQscy5wdXNoKGwrby0xLG4sVCxsK28sbixULGwrby0xLG4raCxULGwrbyxuK2gsVCksci5wdXNoKGksaSsxLGkrMixpKzEsaSszLGkrMiksaSs9NH1yZXR1cm57dmVydGV4RGF0YTpuZXcgSW50MTZBcnJheShzKSxpbmRleERhdGE6bmV3IFVpbnQzMkFycmF5KHIpfX0sdGhpcy5fZ2V0Q29sbGlkZXJzQ29sb3JzPSgpPT5bMSwuNSwwLDEsMSwwLDAsMSwwLDEsLjUsMSwwLC41LDAsMV0sdGhpcy5fZ2V0Q29sbGlkZXJzT3BhY2l0aWVzPSgpPT5bLjA1LC4wMSwuMTUsLjJdfWFzeW5jIGhpdFRlc3QoZSxpKXtpZighdGhpcy5fdGlsZUhhbmRsZXJQcm9taXNlKXJldHVybiBudWxsO2F3YWl0IHRoaXMuX3RpbGVIYW5kbGVyUHJvbWlzZTtjb25zdCBzPWF3YWl0IHRoaXMuX3ZlY3RvclRpbGVDb250YWluZXIuaGl0VGVzdChpKTtpZighc3x8MD09PXMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHI9c1swXS0xLGE9dGhpcy5fc3R5bGVSZXBvc2l0b3J5LGw9YS5nZXRTdHlsZUxheWVyQnlVSUQocik7aWYoIWwpcmV0dXJuIG51bGw7Y29uc3Qgbj1hLmdldFN0eWxlTGF5ZXJJbmRleChsLmlkKTtyZXR1cm5be3R5cGU6XCJncmFwaGljXCIsbWFwUG9pbnQ6ZSxsYXllcjp0aGlzLmxheWVyLGdyYXBoaWM6bmV3IHQoe2F0dHJpYnV0ZXM6e2xheWVySWQ6bixsYXllck5hbWU6bC5pZCxsYXllclVJRDpyfSxsYXllcjp0aGlzLmxheWVyLHNvdXJjZUxheWVyOnRoaXMubGF5ZXJ9KX1dfXVwZGF0ZShlKXtpZih0aGlzLl90aWxlSGFuZGxlclByb21pc2UmJnRoaXMuX2lzVGlsZUhhbmRsZXJSZWFkeSlyZXR1cm4gZS5waXhlbFJhdGlvIT09dGhpcy5fdGlsZUhhbmRsZXIuZGV2aWNlUGl4ZWxSYXRpbz8odGhpcy5fc3RhcnQoKSx2b2lkKHRoaXMuX3RpbGVIYW5kbGVyLmRldmljZVBpeGVsUmF0aW89ZS5waXhlbFJhdGlvKSk6dm9pZCh0aGlzLl9zdHlsZUNoYW5nZXMubGVuZ3RoPjA/dGhpcy5fdGlsZUhhbmRsZXJQcm9taXNlPXRoaXMuX2FwcGx5U3R5bGVDaGFuZ2VzKCk6KHRoaXMuX2ZldGNoUXVldWUucGF1c2UoKSx0aGlzLl9wYXJzZVF1ZXVlLnBhdXNlKCksdGhpcy5fZmV0Y2hRdWV1ZS5zdGF0ZT1lLnN0YXRlLHRoaXMuX3BhcnNlUXVldWUuc3RhdGU9ZS5zdGF0ZSx0aGlzLl90aWxlTWFuYWdlci51cGRhdGUoZSl8fHRoaXMucmVxdWVzdFVwZGF0ZSgpLHRoaXMuX3BhcnNlUXVldWUucmVzdW1lKCksdGhpcy5fZmV0Y2hRdWV1ZS5yZXN1bWUoKSkpfWF0dGFjaCgpe2NvbnN0e3N0eWxlOmV9PXRoaXMubGF5ZXIuY3VycmVudFN0eWxlSW5mbzt0aGlzLl9zdHlsZVJlcG9zaXRvcnk9bmV3IFQoZSksdGhpcy5fdGlsZUluZm9WaWV3PW5ldyBIKHRoaXMubGF5ZXIudGlsZUluZm8sdGhpcy5sYXllci5mdWxsRXh0ZW50KSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyPW5ldyBtKHRoaXMuX3RpbGVJbmZvVmlldyksdGhpcy5fdGlsZUhhbmRsZXI9bmV3IF8odGhpcy5sYXllcix0aGlzLl9zdHlsZVJlcG9zaXRvcnksd2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpLHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHRoaXMuX3ZlY3RvclRpbGVDb250YWluZXIpLHRoaXMuX3N0YXJ0KCksdGhpcy5hZGRBdHRhY2hIYW5kbGVzKFt0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLm9uKFwiZmFkZS1zdGFydFwiLCgoKT0+e3RoaXMuZmFkaW5nPSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9KSksdGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5vbihcImZhZGUtY29tcGxldGVcIiwoKCk9Pnt0aGlzLl9jb2xsaXNpb25PdmVybGF5Py5yZXF1ZXN0UmVuZGVyKCksdGhpcy5mYWRpbmc9ITEsdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSx0aGlzLnJlcXVlc3RVcGRhdGUoKX0pKSxsKCgoKT0+dGhpcy5sYXllci5zaG93Q29sbGlzaW9uQm94ZXMpLChlPT57XCJub25lXCIhPT1lP3RoaXMuX2NvbGxpc2lvbk92ZXJsYXl8fCh0aGlzLl9jb2xsaXNpb25PdmVybGF5PW5ldyBSKHtnZXRNZXNoOnRoaXMuX2dldENvbGxpZGVyc01lc2gsZ2V0Q29sb3JzOnRoaXMuX2dldENvbGxpZGVyc0NvbG9ycyxnZXRPcGFjaXRpZXM6dGhpcy5fZ2V0Q29sbGlkZXJzT3BhY2l0aWVzfSksdGhpcy5jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fY29sbGlzaW9uT3ZlcmxheSkpOnRoaXMuX2NvbGxpc2lvbk92ZXJsYXkmJih0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLl9jb2xsaXNpb25PdmVybGF5KSx0aGlzLl9jb2xsaXNpb25PdmVybGF5PW51bGwpLHRoaXMuY29udGFpbmVyLnJlcXVlc3RSZW5kZXIoKX0pLG4pLHRoaXMubGF5ZXIub24oXCJwYWludC1jaGFuZ2VcIiwoZT0+e2lmKGUuaXNEYXRhRHJpdmVuKXRoaXMuX3N0eWxlQ2hhbmdlcy5wdXNoKHt0eXBlOmQuUEFJTlRFUl9DSEFOR0VELGRhdGE6ZX0pLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5yZXF1ZXN0VXBkYXRlKCk7ZWxzZXtjb25zdCB0PXRoaXMuX3N0eWxlUmVwb3NpdG9yeSxpPXQuZ2V0TGF5ZXJCeUlkKGUubGF5ZXIpO2lmKCFpKXJldHVybjtjb25zdCBzPWkudHlwZT09PUMuU1lNQk9MO3Quc2V0UGFpbnRQcm9wZXJ0aWVzKGUubGF5ZXIsZS5wYWludCkscyYmdGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5yZXN0YXJ0RGVjbHV0dGVyKCksdGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5yZXF1ZXN0UmVuZGVyKCl9fSkpLHRoaXMubGF5ZXIub24oXCJsYXlvdXQtY2hhbmdlXCIsKGU9Pntjb25zdCB0PXRoaXMuX3N0eWxlUmVwb3NpdG9yeSxpPXQuZ2V0TGF5ZXJCeUlkKGUubGF5ZXIpO2lmKCFpKXJldHVybjtjb25zdCBzPXUoaS5sYXlvdXQsZS5sYXlvdXQpO2lmKG51bGwhPXMpe2lmKGMocyxcInZpc2liaWxpdHlcIikmJjE9PT1RKHMpKXJldHVybiB0LnNldExheW91dFByb3BlcnRpZXMoZS5sYXllcixlLmxheW91dCksaS50eXBlPT09Qy5TWU1CT0wmJnRoaXMuX3ZlY3RvclRpbGVDb250YWluZXIucmVzdGFydERlY2x1dHRlcigpLHZvaWQgdGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5yZXF1ZXN0UmVuZGVyKCk7dGhpcy5fc3R5bGVDaGFuZ2VzLnB1c2goe3R5cGU6ZC5MQVlPVVRfQ0hBTkdFRCxkYXRhOmV9KSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLHRoaXMucmVxdWVzdFVwZGF0ZSgpfX0pKSx0aGlzLmxheWVyLm9uKFwic3R5bGUtbGF5ZXItdmlzaWJpbGl0eS1jaGFuZ2VcIiwoZT0+e2NvbnN0IHQ9dGhpcy5fc3R5bGVSZXBvc2l0b3J5LGk9dC5nZXRMYXllckJ5SWQoZS5sYXllcik7aSYmKHQuc2V0U3R5bGVMYXllclZpc2liaWxpdHkoZS5sYXllcixlLnZpc2liaWxpdHkpLGkudHlwZT09PUMuU1lNQk9MJiZ0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLnJlc3RhcnREZWNsdXR0ZXIoKSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLnJlcXVlc3RSZW5kZXIoKSl9KSksdGhpcy5sYXllci5vbihcInN0eWxlLWxheWVyLWNoYW5nZVwiLChlPT57dGhpcy5fc3R5bGVDaGFuZ2VzLnB1c2goe3R5cGU6ZC5MQVlFUl9DSEFOR0VELGRhdGE6ZX0pLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9KSksdGhpcy5sYXllci5vbihcImRlbGV0ZS1zdHlsZS1sYXllclwiLChlPT57dGhpcy5fc3R5bGVDaGFuZ2VzLnB1c2goe3R5cGU6ZC5MQVlFUl9SRU1PVkVELGRhdGE6ZX0pLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9KSksdGhpcy5sYXllci5vbihcImxvYWQtc3R5bGVcIiwoKCk9PnRoaXMuX2xvYWRTdHlsZSgpKSksdGhpcy5sYXllci5vbihcInNwcml0ZVNvdXJjZS1jaGFuZ2VcIiwoZT0+e3RoaXMuX25ld1Nwcml0ZVNvdXJjZT1lLnNwcml0ZVNvdXJjZSx0aGlzLl9zdHlsZUNoYW5nZXMucHVzaCh7dHlwZTpkLlNQUklURVNfQ0hBTkdFRCxkYXRhOm51bGx9KTtjb25zdCB0PXRoaXMuX3N0eWxlUmVwb3NpdG9yeS5sYXllcnM7Zm9yKGNvbnN0IGkgb2YgdClzd2l0Y2goaS50eXBlKXtjYXNlIEMuU1lNQk9MOmkuZ2V0TGF5b3V0UHJvcGVydHkoXCJpY29uLWltYWdlXCIpJiZ0aGlzLl9zdHlsZUNoYW5nZXMucHVzaCh7dHlwZTpkLkxBWU9VVF9DSEFOR0VELGRhdGE6e2xheWVyOmkuaWQsbGF5b3V0OmkubGF5b3V0fX0pO2JyZWFrO2Nhc2UgQy5MSU5FOmkuZ2V0UGFpbnRQcm9wZXJ0eShcImxpbmUtcGF0dGVyblwiKSYmdGhpcy5fc3R5bGVDaGFuZ2VzLnB1c2goe3R5cGU6ZC5QQUlOVEVSX0NIQU5HRUQsZGF0YTp7bGF5ZXI6aS5pZCxwYWludDppLnBhaW50LGlzRGF0YURyaXZlbjppLmlzUGFpbnRlckRhdGFEcml2ZW4oKX19KTticmVhaztjYXNlIEMuRklMTDppLmdldExheW91dFByb3BlcnR5KFwiZmlsbC1wYXR0ZXJuXCIpJiZ0aGlzLl9zdHlsZUNoYW5nZXMucHVzaCh7dHlwZTpkLlBBSU5URVJfQ0hBTkdFRCxkYXRhOntsYXllcjppLmlkLHBhaW50OmkucGFpbnQsaXNEYXRhRHJpdmVuOmkuaXNQYWludGVyRGF0YURyaXZlbigpfX0pfXRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9KSldKX1kZXRhY2goKXt0aGlzLl9zdG9wKCksdGhpcy5jb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyPXIodGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lciksdGhpcy5fdGlsZUhhbmRsZXI9cih0aGlzLl90aWxlSGFuZGxlcil9bW92ZVN0YXJ0KCl7dGhpcy5yZXF1ZXN0VXBkYXRlKCl9dmlld0NoYW5nZSgpe3RoaXMucmVxdWVzdFVwZGF0ZSgpfW1vdmVFbmQoKXt0aGlzLl9jb2xsaXNpb25PdmVybGF5JiZ0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLnJlc3RhcnREZWNsdXR0ZXIoKSx0aGlzLnJlcXVlc3RVcGRhdGUoKX1zdXBwb3J0c1NwYXRpYWxSZWZlcmVuY2UoZSl7cmV0dXJuIHAodGhpcy5sYXllci50aWxlSW5mbz8uc3BhdGlhbFJlZmVyZW5jZSxlKX1jYW5SZXN1bWUoKXtsZXQgZT1zdXBlci5jYW5SZXN1bWUoKTtjb25zdHtjdXJyZW50U3R5bGVJbmZvOnR9PXRoaXMubGF5ZXI7aWYoZSYmdD8ubGF5ZXJEZWZpbml0aW9uKXtjb25zdCBpPXRoaXMudmlldy5zY2FsZSx7bWluU2NhbGU6cyxtYXhTY2FsZTpyfT10LmxheWVyRGVmaW5pdGlvbjt0JiZ0LmxheWVyRGVmaW5pdGlvbiYmKHMmJnM8aSYmKGU9ITEpLHImJnI+aSYmKGU9ITEpKX1yZXR1cm4gZX1pc1VwZGF0aW5nKCl7Y29uc3QgZT10aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLmNoaWxkcmVuO3JldHVybiF0aGlzLl9pc1RpbGVIYW5kbGVyUmVhZHl8fCF0aGlzLl9mZXRjaFF1ZXVlfHwhdGhpcy5fcGFyc2VRdWV1ZXx8dGhpcy5fZmV0Y2hRdWV1ZS51cGRhdGluZ3x8dGhpcy5fcGFyc2VRdWV1ZS51cGRhdGluZ3x8ZS5sZW5ndGg+MCYmZS5zb21lKChlPT5lLmludmFsaWRhdGluZykpfHx0aGlzLmZhZGluZ31hY3F1aXJlVGlsZShlKXtjb25zdCB0PXRoaXMuX2NyZWF0ZVZlY3RvclRpbGUoZSk7cmV0dXJuIHRoaXMuX3RpbGVIYW5kbGVyUHJvbWlzZT8udGhlbigoKCk9Pnt0aGlzLl9mZXRjaFF1ZXVlLnB1c2godC5rZXkpLnRoZW4oKGU9PnRoaXMuX3BhcnNlUXVldWUucHVzaCh7a2V5OnQua2V5LGRhdGE6ZX0pKSkudGhlbigoZT0+e3Qub25jZShcImF0dGFjaFwiLCgoKT0+dGhpcy5yZXF1ZXN0VXBkYXRlKCkpKSx0LnNldERhdGEoZSksdGhpcy5yZXF1ZXN0VXBkYXRlKCksdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKX0pKS5jYXRjaCgoZT0+e3RoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksYShlKXx8cy5nZXRMb2dnZXIodGhpcykuZXJyb3IoZSl9KSl9KSksdH1yZWxlYXNlVGlsZShlKXtjb25zdCB0PWUua2V5LmlkO3RoaXMuX2ZldGNoUXVldWUuYWJvcnQodCksdGhpcy5fcGFyc2VRdWV1ZS5hYm9ydCh0KSx0aGlzLnJlcXVlc3RVcGRhdGUoKX1fc3RhcnQoKXtpZih0aGlzLl9zdG9wKCksdGhpcy5fdGlsZU1hbmFnZXI9bmV3IGYoe2FjcXVpcmVUaWxlOmU9PnRoaXMuYWNxdWlyZVRpbGUoZSkscmVsZWFzZVRpbGU6ZT0+dGhpcy5yZWxlYXNlVGlsZShlKSx0aWxlSW5mb1ZpZXc6dGhpcy5fdGlsZUluZm9WaWV3fSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyKSwhdGhpcy5sYXllci5jdXJyZW50U3R5bGVJbmZvKXJldHVybjtjb25zdCBlPW5ldyBBYm9ydENvbnRyb2xsZXIsdD10aGlzLl90aWxlSGFuZGxlci5zdGFydCh7c2lnbmFsOmUuc2lnbmFsfSkudGhlbigoKCk9Pnt0aGlzLl9mZXRjaFF1ZXVlPW5ldyB3KHt0aWxlSW5mb1ZpZXc6dGhpcy5fdGlsZUluZm9WaWV3LHByb2Nlc3M6KGUsdCk9PnRoaXMuX2dldFRpbGVEYXRhKGUsdCksY29uY3VycmVuY3k6MTV9KSx0aGlzLl9wYXJzZVF1ZXVlPW5ldyB3KHt0aWxlSW5mb1ZpZXc6dGhpcy5fdGlsZUluZm9WaWV3LHByb2Nlc3M6KGUsdCk9PnRoaXMuX3BhcnNlVGlsZURhdGEoZSx0KSxjb25jdXJyZW5jeTo4fSksdGhpcy5yZXF1ZXN0VXBkYXRlKCksdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSEwfSkpO3RoaXMuX3RpbGVIYW5kbGVyLnNwcml0ZU1vc2FpYy50aGVuKChlPT57dGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5zZXRTdHlsZVJlc291cmNlcyhlLHRoaXMuX3RpbGVIYW5kbGVyLmdseXBoTW9zYWljLHRoaXMuX3N0eWxlUmVwb3NpdG9yeSksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9KSksdGhpcy5fdGlsZUhhbmRsZXJBYm9ydENvbnRyb2xsZXI9ZSx0aGlzLl90aWxlSGFuZGxlclByb21pc2U9dH1fc3RvcCgpe2lmKCF0aGlzLl90aWxlSGFuZGxlckFib3J0Q29udHJvbGxlcnx8IXRoaXMuX3ZlY3RvclRpbGVDb250YWluZXIpcmV0dXJuO2NvbnN0IGU9dGhpcy5fdGlsZUhhbmRsZXJBYm9ydENvbnRyb2xsZXI7ZSYmZS5hYm9ydCgpLHRoaXMuX3RpbGVIYW5kbGVyUHJvbWlzZT1udWxsLHRoaXMuX2lzVGlsZUhhbmRsZXJSZWFkeT0hMSx0aGlzLl9mZXRjaFF1ZXVlPXIodGhpcy5fZmV0Y2hRdWV1ZSksdGhpcy5fcGFyc2VRdWV1ZT1yKHRoaXMuX3BhcnNlUXVldWUpLHRoaXMuX3RpbGVNYW5hZ2VyPXIodGhpcy5fdGlsZU1hbmFnZXIpLHRoaXMuX3ZlY3RvclRpbGVDb250YWluZXIucmVtb3ZlQWxsQ2hpbGRyZW4oKX1hc3luYyBfZ2V0VGlsZURhdGEoZSx0KXtjb25zdCBpPWF3YWl0IHRoaXMuX3RpbGVIYW5kbGVyLmZldGNoVGlsZURhdGEoZSx0KTtyZXR1cm4gdGhpcy5ub3RpZnlDaGFuZ2UoXCJ1cGRhdGluZ1wiKSxpfWFzeW5jIF9wYXJzZVRpbGVEYXRhKGUsdCl7cmV0dXJuIHRoaXMuX3RpbGVIYW5kbGVyLnBhcnNlVGlsZURhdGEoZSx0KX1hc3luYyBfYXBwbHlTdHlsZUNoYW5nZXMoKXt0aGlzLl9pc1RpbGVIYW5kbGVyUmVhZHk9ITEsdGhpcy5fZmV0Y2hRdWV1ZS5wYXVzZSgpLHRoaXMuX3BhcnNlUXVldWUucGF1c2UoKSx0aGlzLl9mZXRjaFF1ZXVlLmNsZWFyKCksdGhpcy5fcGFyc2VRdWV1ZS5jbGVhcigpLHRoaXMuX3RpbGVNYW5hZ2VyLmNsZWFyQ2FjaGUoKTtjb25zdCBlPXRoaXMuX3N0eWxlQ2hhbmdlczt0cnl7YXdhaXQgdGhpcy5fdGlsZUhhbmRsZXIudXBkYXRlU3R5bGUoZSl9Y2F0Y2gobil7cy5nZXRMb2dnZXIodGhpcykuZXJyb3IoXCJlcnJvciBhcHBseWluZyB2ZWN0b3ItdGlsZXMgc3R5bGUgdXBkYXRlXCIsbi5tZXNzYWdlKSx0aGlzLl9mZXRjaFF1ZXVlLnJlc3VtZSgpLHRoaXMuX3BhcnNlUXVldWUucmVzdW1lKCksdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSEwfWNvbnN0IHQ9dGhpcy5fc3R5bGVSZXBvc2l0b3J5LGk9W107ZS5mb3JFYWNoKChlPT57aWYoZS50eXBlIT09ZC5MQVlFUl9SRU1PVkVEKXJldHVybjtjb25zdCBzPWUuZGF0YSxyPXQuZ2V0TGF5ZXJCeUlkKHMubGF5ZXIpO3ImJmkucHVzaChyLnVpZCl9KSk7Y29uc3Qgcj1bXTtsZXQgYTtlLmZvckVhY2goKGU9Pntjb25zdCBpPWUudHlwZSxzPWUuZGF0YTtzd2l0Y2goaSl7Y2FzZSBkLlBBSU5URVJfQ0hBTkdFRDp0LnNldFBhaW50UHJvcGVydGllcyhzLmxheWVyLHMucGFpbnQpLGE9cy5sYXllcjticmVhaztjYXNlIGQuTEFZT1VUX0NIQU5HRUQ6dC5zZXRMYXlvdXRQcm9wZXJ0aWVzKHMubGF5ZXIscy5sYXlvdXQpLGE9cy5sYXllcjticmVhaztjYXNlIGQuTEFZRVJfUkVNT1ZFRDpyZXR1cm4gdm9pZCB0LmRlbGV0ZVN0eWxlTGF5ZXIocy5sYXllcik7Y2FzZSBkLkxBWUVSX0NIQU5HRUQ6dC5zZXRTdHlsZUxheWVyKHMubGF5ZXIscy5pbmRleCksYT1zLmxheWVyLmlkO2JyZWFrO2Nhc2UgZC5TUFJJVEVTX0NIQU5HRUQ6dGhpcy5fdmVjdG9yVGlsZUNvbnRhaW5lci5zZXRTcHJpdGVNb3NhaWModGhpcy5fdGlsZUhhbmRsZXIuc2V0U3ByaXRlU291cmNlKHRoaXMuX25ld1Nwcml0ZVNvdXJjZSkpLHRoaXMuX25ld1Nwcml0ZVNvdXJjZT1udWxsLGE9bnVsbH1jb25zdCBsPXQuZ2V0TGF5ZXJCeUlkKGEpO2wmJnIucHVzaChsLnVpZCl9KSk7Y29uc3QgbD10aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLmNoaWxkcmVuO2lmKGkubGVuZ3RoPjApe3RoaXMuX3ZlY3RvclRpbGVDb250YWluZXIuZGVsZXRlU3R5bGVMYXllcnMoaSk7Zm9yKGNvbnN0IGUgb2YgbCllLmRlbGV0ZUxheWVyRGF0YShpKX1pZih0aGlzLl9mZXRjaFF1ZXVlLnJlc3VtZSgpLHRoaXMuX3BhcnNlUXVldWUucmVzdW1lKCksci5sZW5ndGg+MCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBvZiBsKXtjb25zdCBpPXRoaXMuX2ZldGNoUXVldWUucHVzaCh0LmtleSkudGhlbigoZT0+dGhpcy5fcGFyc2VRdWV1ZS5wdXNoKHtrZXk6dC5rZXksZGF0YTplLHN0eWxlTGF5ZXJVSURzOnJ9KSkpLnRoZW4oKGU9PnQuc2V0RGF0YShlKSkpO2UucHVzaChpKX1hd2FpdCBQcm9taXNlLmFsbChlKX10aGlzLl9zdHlsZUNoYW5nZXM9W10sdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9YXN5bmMgX2xvYWRTdHlsZSgpe2NvbnN0e3N0eWxlOmV9PXRoaXMubGF5ZXIuY3VycmVudFN0eWxlSW5mbyx0PWkoZSk7dGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSExLHRoaXMuX2ZldGNoUXVldWUucGF1c2UoKSx0aGlzLl9wYXJzZVF1ZXVlLnBhdXNlKCksdGhpcy5fZmV0Y2hRdWV1ZS5jbGVhcigpLHRoaXMuX3BhcnNlUXVldWUuY2xlYXIoKSx0aGlzLm5vdGlmeUNoYW5nZShcInVwZGF0aW5nXCIpLHRoaXMuX3N0eWxlUmVwb3NpdG9yeT1uZXcgVCh0KSx0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlTWFuYWdlci5jbGVhcigpLHRoaXMuX3RpbGVIYW5kbGVyQWJvcnRDb250cm9sbGVyLmFib3J0KCksdGhpcy5fdGlsZUhhbmRsZXJBYm9ydENvbnRyb2xsZXI9bmV3IEFib3J0Q29udHJvbGxlcjtjb25zdHtzaWduYWw6c309dGhpcy5fdGlsZUhhbmRsZXJBYm9ydENvbnRyb2xsZXI7dHJ5e3RoaXMuX3RpbGVIYW5kbGVyUHJvbWlzZT10aGlzLl90aWxlSGFuZGxlci5zZXRTdHlsZSh0aGlzLl9zdHlsZVJlcG9zaXRvcnksdCksYXdhaXQgdGhpcy5fdGlsZUhhbmRsZXJQcm9taXNlfWNhdGNoKGwpe2lmKCFhKGwpKXRocm93IGx9aWYocy5hYm9ydGVkKXJldHVybiB0aGlzLl9mZXRjaFF1ZXVlLnJlc3VtZSgpLHRoaXMuX3BhcnNlUXVldWUucmVzdW1lKCksdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdm9pZCB0aGlzLnJlcXVlc3RVcGRhdGUoKTtjb25zdCByPWF3YWl0IHRoaXMuX3RpbGVIYW5kbGVyLnNwcml0ZU1vc2FpYzt0aGlzLl92ZWN0b3JUaWxlQ29udGFpbmVyLnNldFN0eWxlUmVzb3VyY2VzKHIsdGhpcy5fdGlsZUhhbmRsZXIuZ2x5cGhNb3NhaWMsdGhpcy5fc3R5bGVSZXBvc2l0b3J5KSx0aGlzLl9mZXRjaFF1ZXVlLnJlc3VtZSgpLHRoaXMuX3BhcnNlUXVldWUucmVzdW1lKCksdGhpcy5faXNUaWxlSGFuZGxlclJlYWR5PSEwLHRoaXMubm90aWZ5Q2hhbmdlKFwidXBkYXRpbmdcIiksdGhpcy5yZXF1ZXN0VXBkYXRlKCl9X2NyZWF0ZVZlY3RvclRpbGUoZSl7Y29uc3QgdD10aGlzLl90aWxlSW5mb1ZpZXcuZ2V0VGlsZUJvdW5kcyh5KCksZSksaT10aGlzLl90aWxlSW5mb1ZpZXcuZ2V0VGlsZVJlc29sdXRpb24oZS5sZXZlbCk7cmV0dXJuIG5ldyBnKGUsaSx0WzBdLHRbM10sNTEyLDUxMix0aGlzLl9zdHlsZVJlcG9zaXRvcnkpfX07ZnVuY3Rpb24gUShlKXtpZihudWxsPT1lKXJldHVybiAwO3N3aXRjaChlLnR5cGUpe2Nhc2VcInBhcnRpYWxcIjpyZXR1cm4gT2JqZWN0LmtleXMoZS5kaWZmKS5sZW5ndGg7Y2FzZVwiY29tcGxldGVcIjpyZXR1cm4gTWF0aC5tYXgoT2JqZWN0LmtleXMoZS5vbGRWYWx1ZSkubGVuZ3RoLE9iamVjdC5rZXlzKGUubmV3VmFsdWUpLmxlbmd0aCk7Y2FzZVwiY29sbGVjdGlvblwiOnJldHVybiBPYmplY3Qua2V5cyhlLmFkZGVkKS5sZW5ndGgrT2JqZWN0LmtleXMoZS5jaGFuZ2VkKS5sZW5ndGgrT2JqZWN0LmtleXMoZS5yZW1vdmVkKS5sZW5ndGh9fWUoW28oKV0sRC5wcm90b3R5cGUsXCJfZmV0Y2hRdWV1ZVwiLHZvaWQgMCksZShbbygpXSxELnByb3RvdHlwZSxcIl9wYXJzZVF1ZXVlXCIsdm9pZCAwKSxlKFtvKCldLEQucHJvdG90eXBlLFwiX2lzVGlsZUhhbmRsZXJSZWFkeVwiLHZvaWQgMCksZShbbygpXSxELnByb3RvdHlwZSxcImZhZGluZ1wiLHZvaWQgMCksRD1lKFtoKFwiZXNyaS52aWV3cy4yZC5sYXllcnMuVmVjdG9yVGlsZUxheWVyVmlldzJEXCIpXSxEKTtjb25zdCBMPUQ7ZXhwb3J0e0wgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e2Rpc3Bvc2VNYXliZSBhcyBlfWZyb21cIi4uLy4uLy4uLy4uL2NvcmUvbWF5YmUuanNcIjtpbXBvcnR7ZyBhcyB0LGggYXMgcixkIGFzIHN9ZnJvbVwiLi4vLi4vLi4vLi4vY2h1bmtzL21hdDMuanNcIjtpbXBvcnR7YyBhcyBvfWZyb21cIi4uLy4uLy4uLy4uL2NodW5rcy9tYXQzZjMyLmpzXCI7aW1wb3J0e0J1ZmZlck9iamVjdCBhcyBhfWZyb21cIi4uLy4uLy4uL3dlYmdsL0J1ZmZlck9iamVjdC5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vd2ViZ2wvRnJhbWVidWZmZXJPYmplY3QuanNcIjtpbXBvcnRcIi4uLy4uLy4uLy4uL2NvcmUvYXJyYXlVdGlscy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnRcIi4uLy4uLy4uL3dlYmdsL2NoZWNrV2ViR0xFcnJvci5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vd2ViZ2wvY29udGV4dFV0aWxzLmpzXCI7aW1wb3J0e0RhdGFUeXBlIGFzIGksQmxlbmRGYWN0b3IgYXMgbixQcmltaXRpdmVUeXBlIGFzIG0sVXNhZ2UgYXMgZn1mcm9tXCIuLi8uLi8uLi93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydFwiLi4vLi4vLi4vLi4vY2h1bmtzL2J1aWx0aW5zLmpzXCI7aW1wb3J0XCIuLi8uLi8uLi93ZWJnbC9HTE9iamVjdFR5cGUuanNcIjtpbXBvcnRcIi4uLy4uLy4uL3dlYmdsL1RleHR1cmUuanNcIjtpbXBvcnR7VmVydGV4QXJyYXlPYmplY3QgYXMgY31mcm9tXCIuLi8uLi8uLi93ZWJnbC9WZXJ0ZXhBcnJheU9iamVjdC5qc1wiO2ltcG9ydHtEaXNwbGF5T2JqZWN0IGFzIGh9ZnJvbVwiLi4vLi4vZW5naW5lL0Rpc3BsYXlPYmplY3QuanNcIjtpbXBvcnR7VmVydGV4RWxlbWVudERlc2NyaXB0b3IgYXMgX31mcm9tXCIuLi8uLi8uLi93ZWJnbC9WZXJ0ZXhFbGVtZW50RGVzY3JpcHRvci5qc1wiO2NvbnN0IHU9e2dlb21ldHJ5OltuZXcgXyhcImFfUG9zaXRpb25BbmRGbGFnc1wiLDMsaS5TSE9SVCwwLDYpXX0scD1uZXcgTWFwO3Auc2V0KFwiYV9Qb3NpdGlvbkFuZEZsYWdzXCIsMCk7Y29uc3QgZz17dnNQYXRoOlwiZGVidWcvb3ZlcmxheVwiLGZzUGF0aDpcImRlYnVnL292ZXJsYXlcIixhdHRyaWJ1dGVzOnB9O2NsYXNzIGwgZXh0ZW5kcyBoe2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fY29uZj1lfXN0YXRpYyBtYWtlRmxhZ3MoZSx0KXtyZXR1cm4gZXx0PDwyfV9jcmVhdGVUcmFuc2Zvcm1zKCl7cmV0dXJue2R2czpvKCl9fWRvUmVuZGVyKGUpe3RoaXMuX3VwZGF0ZVRyYW5zZm9ybXMoZSksdGhpcy5fZW5zdXJlUmVzb3VyY2VzKGUpO2NvbnN0e2NvbnRleHQ6dH09ZTt0LnVzZVByb2dyYW0odGhpcy5fcHJvZ3JhbSksdGhpcy5fcHJvZ3JhbS5zZXRVbmlmb3JtTWF0cml4M2Z2KFwidV9kdnNNYXQzXCIsdGhpcy50cmFuc2Zvcm1zLmR2cyksdGhpcy5fcHJvZ3JhbS5zZXRVbmlmb3JtNGZ2KFwidV9jb2xvcnNcIix0aGlzLl9jb25mLmdldENvbG9ycyhlKSksdGhpcy5fcHJvZ3JhbS5zZXRVbmlmb3JtMWZ2KFwidV9vcGFjaXRpZXNcIix0aGlzLl9jb25mLmdldE9wYWNpdGllcyhlKSk7Y29uc3R7dmVydGV4RGF0YTpyLGluZGV4RGF0YTpzfT10aGlzLl9jb25mLmdldE1lc2goZSk7dGhpcy5fdmVydGV4QnVmZmVyLnNldERhdGEociksdGhpcy5faW5kZXhCdWZmZXIuc2V0RGF0YShzKSx0LmJpbmRWQU8odGhpcy5fdmVydGV4QXJyYXkpLHQuc2V0QmxlbmRpbmdFbmFibGVkKCEwKSx0LnNldEJsZW5kRnVuY3Rpb24obi5PTkUsbi5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0LnNldERlcHRoVGVzdEVuYWJsZWQoITEpLHQuc2V0U3RlbmNpbFRlc3RFbmFibGVkKCExKSx0LnNldENvbG9yTWFzayghMCwhMCwhMCwhMCksdC5kcmF3RWxlbWVudHMobS5UUklBTkdMRVMscy5sZW5ndGgsaS5VTlNJR05FRF9JTlQsMCl9b25EZXRhY2goKXt0aGlzLl92ZXJ0ZXhBcnJheT1lKHRoaXMuX3ZlcnRleEFycmF5KX1fdXBkYXRlVHJhbnNmb3JtcyhlKXt0KHRoaXMudHJhbnNmb3Jtcy5kdnMpLHIodGhpcy50cmFuc2Zvcm1zLmR2cyx0aGlzLnRyYW5zZm9ybXMuZHZzLFstMSwxXSkscyh0aGlzLnRyYW5zZm9ybXMuZHZzLHRoaXMudHJhbnNmb3Jtcy5kdnMsWzIvZS5zdGF0ZS5zaXplWzBdLC0yL2Uuc3RhdGUuc2l6ZVsxXSwxXSl9X2Vuc3VyZVJlc291cmNlcyhlKXtjb25zdHtjb250ZXh0OnR9PWU7dGhpcy5fcHJvZ3JhbXx8KHRoaXMuX3Byb2dyYW09ZS5wYWludGVyLm1hdGVyaWFsTWFuYWdlci5nZXRQcm9ncmFtKGcpKSx0aGlzLl92ZXJ0ZXhCdWZmZXJ8fCh0aGlzLl92ZXJ0ZXhCdWZmZXI9YS5jcmVhdGVWZXJ0ZXgodCxmLlNUUkVBTV9EUkFXKSksdGhpcy5faW5kZXhCdWZmZXJ8fCh0aGlzLl9pbmRleEJ1ZmZlcj1hLmNyZWF0ZUluZGV4KHQsZi5TVFJFQU1fRFJBVykpLHRoaXMuX3ZlcnRleEFycmF5fHwodGhpcy5fdmVydGV4QXJyYXk9bmV3IGModCxwLHUse2dlb21ldHJ5OnRoaXMuX3ZlcnRleEJ1ZmZlcn0sdGhpcy5faW5kZXhCdWZmZXIpKX19ZXhwb3J0e2wgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vLi4vbGF5ZXJzL3N1cHBvcnQvVGlsZUluZm8uanNcIjtpbXBvcnQgbCBmcm9tXCIuL1RpbGVJbmZvVmlldy5qc1wiO2ltcG9ydCBzIGZyb21cIi4vVGlsZUtleS5qc1wiO2NsYXNzIHQgZXh0ZW5kcyBse2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9mdWxsQ2FjaGVMb2RJbmZvcz1udWxsLHRoaXMuX2xldmVsQnlTY2FsZT17fX1nZXRUaWxlUGFyZW50SWQoZSl7Y29uc3QgbD1zLnBvb2wuYWNxdWlyZShlKSx0PTA9PT1sLmxldmVsP251bGw6cy5nZXRJZChsLmxldmVsLTEsbC5yb3c+PjEsbC5jb2w+PjEsbC53b3JsZCk7cmV0dXJuIHMucG9vbC5yZWxlYXNlKGwpLHR9Z2V0VGlsZUNvdmVyYWdlKGUsbCxzPSEwLHQpe2NvbnN0IG89c3VwZXIuZ2V0VGlsZUNvdmVyYWdlKGUsbCxzLHQpO2lmKCFvKXJldHVybiBvO2NvbnN0IGk9MTw8by5sb2RJbmZvLmxldmVsO3JldHVybiBvLnNwYW5zPW8uc3BhbnMuZmlsdGVyKChlPT5lLnJvdz49MCYmZS5yb3c8aSkpLG99c2NhbGVUb0xldmVsKGUpe2lmKHRoaXMuX2Z1bGxDYWNoZUxvZEluZm9zfHx0aGlzLl9pbml0aWFsaXplRnVsbENhY2hlTE9Ecyh0aGlzLl9sb2RJbmZvcyksdGhpcy5fbGV2ZWxCeVNjYWxlW2VdKXJldHVybiB0aGlzLl9sZXZlbEJ5U2NhbGVbZV07e2NvbnN0IGw9dGhpcy5fZnVsbENhY2hlTG9kSW5mb3M7aWYoZT5sWzBdLnNjYWxlKXJldHVybiBsWzBdLmxldmVsO2xldCBzLHQ7Zm9yKGxldCBvPTA7bzxsLmxlbmd0aC0xO28rKylpZih0PWxbbysxXSxlPnQuc2NhbGUpcmV0dXJuIHM9bFtvXSxzLmxldmVsKyhzLnNjYWxlLWUpLyhzLnNjYWxlLXQuc2NhbGUpO3JldHVybiBsW2wubGVuZ3RoLTFdLmxldmVsfX1faW5pdGlhbGl6ZUZ1bGxDYWNoZUxPRHMobCl7bGV0IHM7aWYoMD09PWxbMF0ubGV2ZWwpcz1sLm1hcCgoZT0+KHtsZXZlbDplLmxldmVsLHJlc29sdXRpb246ZS5yZXNvbHV0aW9uLHNjYWxlOmUuc2NhbGV9KSkpO2Vsc2V7Y29uc3QgbD10aGlzLnRpbGVJbmZvLnNpemVbMF0sdD10aGlzLnRpbGVJbmZvLnNwYXRpYWxSZWZlcmVuY2U7cz1lLmNyZWF0ZSh7c2l6ZTpsLHNwYXRpYWxSZWZlcmVuY2U6dH0pLmxvZHMubWFwKChlPT4oe2xldmVsOmUubGV2ZWwscmVzb2x1dGlvbjplLnJlc29sdXRpb24sc2NhbGU6ZS5zY2FsZX0pKSl9Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspdGhpcy5fbGV2ZWxCeVNjYWxlW3NbZV0uc2NhbGVdPXNbZV0ubGV2ZWw7dGhpcy5fZnVsbENhY2hlTG9kSW5mb3M9c319ZXhwb3J0e3QgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=