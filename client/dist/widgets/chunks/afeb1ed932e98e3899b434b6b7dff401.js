"use strict";
(self["webpackChunkexb_client"] = self["webpackChunkexb_client"] || []).push([["vendors-node_modules_arcgis_core_views_2d_engine_webgl_shaders_MaterialPrograms_js-node_modul-f226f9"],{

/***/ "./node_modules/@arcgis/core/core/NestedMap.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/NestedMap.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NestedMap": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}set(t,e,r){const s=this._outer.get(t);s?s.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/MaterialPrograms.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/MaterialPrograms.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createProgramTemplate": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sources/resolver.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/shaders/sources/resolver.js");
/* harmony import */ var _webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../webgl/programUtils.js */ "./node_modules/@arcgis/core/views/webgl/programUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e=r=>{let t="";t+=r[0].toUpperCase();for(let e=1;e<r.length;e++){const s=r[e];s===s.toUpperCase()?(t+="_",t+=s):t+=s.toUpperCase()}return t},s=r=>{const s={};for(const t in r){s[e(t)]=r[t]}return (0,_webgl_programUtils_js__WEBPACK_IMPORTED_MODULE_1__.glslifyDefineMap)(s)},o=(t,e,o,n)=>{const a=t+t.substring(t.lastIndexOf("/")),p=e+e.substring(e.lastIndexOf("/")),f=s(n);return{attributes:o,shaders:{vertexShader:f+(0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)(`${a}.vert`),fragmentShader:f+(0,_sources_resolver_js__WEBPACK_IMPORTED_MODULE_0__.resolveIncludes)(`${p}.frag`)}}};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/GraphicContainer.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../engine/webgl/enums.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/enums.js");
/* harmony import */ var _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseGraphicContainer.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/BaseGraphicContainer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i extends _BaseGraphicContainer_js__WEBPACK_IMPORTED_MODULE_1__["default"]{renderChildren(r){this.attributeView.update(),this.children.some((e=>e.hasData))&&(this.attributeView.bindTextures(r.context,!1),super.renderChildren(r),r.drawPhase===_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.MAP&&this._renderChildren(r),this.hasHighlight()&&r.drawPhase===_engine_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.WGLDrawPhase.HIGHLIGHT&&this._renderHighlight(r),this._boundsRenderer&&this._boundsRenderer.doRender(r))}_renderHighlight(e){const{painter:r}=e,i=r.effects.highlight;i.bind(e),this._renderChildren(e,i.defines),i.draw(e),i.unbind()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/support/AllocationTracer.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/AllocationTracer.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AllocationTracer": () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t){this._allocations=new Map,t?Error.stackTraceLimit=1/0:(this.add=()=>{},this.remove=()=>{})}add(t){this._allocations.set(t,(new Error).stack)}remove(t){this._allocations.delete(t)}get information(){let t="";if(this._allocations.size>0){t+=`${this._allocations.size} live object allocations:\n`;const s=new Map;this._allocations.forEach((t=>{s.set(t,(s.get(t)??0)+1)})),s.forEach(((s,o)=>{const i=o.split("\n");i.shift(),i.shift(),t+=`${s}: ${i.shift()}\n`,i.forEach((s=>t+=`   ${s}\n`))}))}return t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/AppleAmdDriverHelper.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/AppleAmdDriverHelper.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AppleAmdDriverHelper": () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class n{constructor(e){this._rctx=e,this._indexBuffer=this._createIndexbuffer(),this._program=this._createHelperProgram()}static getShaderSources(){return{vertex:"#version 300 es\n    precision highp float;\n\n    void main(void) {\n      gl_Position = vec4(0.0, 0.0, float(gl_VertexID)-2.0, 1.0);\n    }",fragment:"#version 300 es\n    precision highp float;\n\n    out vec4 fragColor;\n\n    void main(void) {\n      fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    }"}}_createHelperProgram(){const e=n.getShaderSources();return this._rctx.programCache.acquire(e.vertex,e.fragment,new Map([]))}_createIndexbuffer(){return _BufferObject_js__WEBPACK_IMPORTED_MODULE_0__.BufferObject.createIndex(this._rctx,_enums_js__WEBPACK_IMPORTED_MODULE_1__.Usage.STATIC_DRAW,new Uint32Array([0]))}resetIndicesType(){this._program.compiled&&this._indexBuffer&&(this._rctx.bindVAO(null),this._rctx.useProgram(this._program),this._rctx.bindBuffer(this._indexBuffer,_enums_js__WEBPACK_IMPORTED_MODULE_1__.BufferType.ELEMENT_ARRAY_BUFFER),this._rctx.drawElements(_enums_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveType.POINTS,1,_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.UNSIGNED_INT,0))}dispose(){this._program.dispose(),this._indexBuffer.dispose()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/ContextState.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/ContextState.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ContextState": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class h{constructor(){this.blend=!1,this.blendColor={r:0,g:0,b:0,a:0},this.blendFunction={srcRGB:_enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendFactor.ONE,dstRGB:_enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendFactor.ZERO,srcAlpha:_enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendFactor.ONE,dstAlpha:_enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendFactor.ZERO},this.blendEquation={mode:_enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendOperation.ADD,modeAlpha:_enums_js__WEBPACK_IMPORTED_MODULE_0__.BlendOperation.ADD},this.colorMask={r:!0,g:!0,b:!0,a:!0},this.faceCulling=!1,this.cullFace=_enums_js__WEBPACK_IMPORTED_MODULE_0__.Face.BACK,this.frontFace=_enums_js__WEBPACK_IMPORTED_MODULE_0__.CullMode.CCW,this.scissorTest=!1,this.scissorRect={x:0,y:0,width:0,height:0},this.depthTest=!1,this.depthFunction=_enums_js__WEBPACK_IMPORTED_MODULE_0__.CompareFunction.LESS,this.clearDepth=1,this.depthWrite=!0,this.depthRange={zNear:0,zFar:1},this.viewport=null,this.stencilTest=!1,this.polygonOffsetFill=!1,this.polygonOffset=[0,0],this.stencilFunction={face:_enums_js__WEBPACK_IMPORTED_MODULE_0__.Face.FRONT_AND_BACK,func:_enums_js__WEBPACK_IMPORTED_MODULE_0__.CompareFunction.ALWAYS,ref:0,mask:1},this.clearStencil=0,this.stencilWriteMask=1,this.stencilOperation={face:_enums_js__WEBPACK_IMPORTED_MODULE_0__.Face.FRONT_AND_BACK,fail:_enums_js__WEBPACK_IMPORTED_MODULE_0__.StencilOperation.KEEP,zFail:_enums_js__WEBPACK_IMPORTED_MODULE_0__.StencilOperation.KEEP,zPass:_enums_js__WEBPACK_IMPORTED_MODULE_0__.StencilOperation.KEEP},this.clearColor={r:0,g:0,b:0,a:0},this.program=null,this.vertexBuffer=null,this.indexBuffer=null,this.uniformBuffer=null,this.pixelPackBuffer=null,this.pixelUnpackBuffer=null,this.copyReadBuffer=null,this.copyWriteBuffer=null,this.uniformBufferBindingPoints=new Array,this.readFramebuffer=null,this.drawFramebuffer=null,this.renderbuffer=null,this.activeTexture=0,this.textureUnitMap=new Array,this.vertexArrayObject=null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/InstanceCounter.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/InstanceCounter.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InstanceCounter": () => (/* binding */ s),
/* harmony export */   "test": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _support_AllocationTracer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../support/AllocationTracer.js */ "./node_modules/@arcgis/core/views/support/AllocationTracer.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e={RECORD_ALLOCATIONS:!1};class s{constructor(){for(this._current=new Array,this._max=new Array,this._allocations=new _support_AllocationTracer_js__WEBPACK_IMPORTED_MODULE_0__.AllocationTracer(e.RECORD_ALLOCATIONS);this._current.length<_enums_js__WEBPACK_IMPORTED_MODULE_1__.ResourceType.COUNT;)this._current.push(0),this._max.push(0)}resetMax(){for(this._max.length=0;this._max.length<this._current.length;)this._max.push(0)}increment(t,r){const e=++this._current[t];this._max[t]=Math.max(e,this._max[t]),this._allocations.add(r)}decrement(t,r){--this._current[t],this._allocations.remove(r)}get max(){return this._max}get current(){return this._current}get total(){return this.current.reduce(((t,r)=>t+r),0)}get resourceInformation(){let t="";if(this.total>0){t+="Live objects:\n";for(let e=0;e<_enums_js__WEBPACK_IMPORTED_MODULE_1__.ResourceType.COUNT;++e){const s=this._current[e];s>0&&(t+=`${_enums_js__WEBPACK_IMPORTED_MODULE_1__.ResourceType[e]}: ${s}\n`)}}return t+=this._allocations.information,t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/Parameters.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/Parameters.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Parameters": () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./capabilities/isWebGL2Context.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t{constructor(t,r,a){const i=r.textureFilterAnisotropic,m=a.maxAnisotropy??1/0;this.versionString=t.getParameter(t.VERSION),this.maxVertexTextureImageUnits=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxVertexAttributes=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.maxMaxAnisotropy=i?Math.min(t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY),m):1,this.maxTextureImageUnits=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxRenderbufferSize=t.getParameter(t.MAX_RENDERBUFFER_SIZE),this.maxViewportDims=t.getParameter(t.MAX_VIEWPORT_DIMS),(0,_capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(t)?(this.maxUniformBufferBindings=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS),this.maxVertexUniformBlocks=t.getParameter(t.MAX_VERTEX_UNIFORM_BLOCKS),this.maxFragmentUniformBlocks=t.getParameter(t.MAX_FRAGMENT_UNIFORM_BLOCKS),this.maxUniformBlockSize=t.getParameter(t.MAX_UNIFORM_BLOCK_SIZE),this.uniformBufferOffsetAlignment=t.getParameter(t.UNIFORM_BUFFER_OFFSET_ALIGNMENT),this.maxArrayTextureLayers=t.getParameter(t.MAX_ARRAY_TEXTURE_LAYERS),this.maxSamples=t.getParameter(t.MAX_SAMPLES)):(this.maxUniformBufferBindings=0,this.maxVertexUniformBlocks=0,this.maxFragmentUniformBlocks=0,this.maxUniformBlockSize=0,this.uniformBufferOffsetAlignment=1,this.maxArrayTextureLayers=1,this.maxSamples=1)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/ProgramCache.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/ProgramCache.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProgramCache": () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/NestedMap.js */ "./node_modules/@arcgis/core/core/NestedMap.js");
/* harmony import */ var _Program_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Program.js */ "./node_modules/@arcgis/core/views/webgl/Program.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e{constructor(r){this._rctx=r,this._store=new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_0__.NestedMap}dispose(){this._store.forEach((t=>t.forEach((t=>t.dispose())))),this._store.clear()}acquire(t,e,s,o){const c=this._store.get(t,e);if(null!=c)return c.ref(),c;const h=new _Program_js__WEBPACK_IMPORTED_MODULE_1__.Program(this._rctx,t,e,s,o);return h.ref(),this._store.set(t,e,h),h}get test(){let t=0;return this._store.forEach((r=>r.forEach((r=>t+=r.hasGLName?2:1)))),{cachedWebGLObjects:t}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/RenderingContext.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/RenderingContext.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RenderingContext": () => (/* binding */ P)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/time.js */ "./node_modules/@arcgis/core/core/time.js");
/* harmony import */ var _checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./checkWebGLError.js */ "./node_modules/@arcgis/core/views/webgl/checkWebGLError.js");
/* harmony import */ var _ContextState_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ContextState.js */ "./node_modules/@arcgis/core/views/webgl/ContextState.js");
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _InstanceCounter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./InstanceCounter.js */ "./node_modules/@arcgis/core/views/webgl/InstanceCounter.js");
/* harmony import */ var _Parameters_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Parameters.js */ "./node_modules/@arcgis/core/views/webgl/Parameters.js");
/* harmony import */ var _ProgramCache_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProgramCache.js */ "./node_modules/@arcgis/core/views/webgl/ProgramCache.js");
/* harmony import */ var _renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/* harmony import */ var _Texture_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/webgl/Util.js");
/* harmony import */ var _WebGLDriverTest_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./WebGLDriverTest.js */ "./node_modules/@arcgis/core/views/webgl/WebGLDriverTest.js");
/* harmony import */ var _capabilities_Capabilities_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./capabilities/Capabilities.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/Capabilities.js");
/* harmony import */ var _capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./capabilities/isWebGL2Context.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let P=class{constructor(t,e){this.gl=t,this.instanceCounter=new _InstanceCounter_js__WEBPACK_IMPORTED_MODULE_7__.InstanceCounter,this.programCache=new _ProgramCache_js__WEBPACK_IMPORTED_MODULE_9__.ProgramCache(this),this._state=new _ContextState_js__WEBPACK_IMPORTED_MODULE_4__.ContextState,this._numOfDrawCalls=0,this._numOfTriangles=0,this.type=(0,_capabilities_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_15__["default"])(t)?_contextUtils_js__WEBPACK_IMPORTED_MODULE_5__.ContextType.WEBGL2:_contextUtils_js__WEBPACK_IMPORTED_MODULE_5__.ContextType.WEBGL1,this._loadExtensions(),this.configure(e)}get gl2(){return this.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_5__.ContextType.WEBGL1?null:this.gl}configure(e){this._capabilities=new _capabilities_Capabilities_js__WEBPACK_IMPORTED_MODULE_14__.Capabilities(this.gl,e),this._parameters=new _Parameters_js__WEBPACK_IMPORTED_MODULE_8__.Parameters(this.gl,this._capabilities,e),_Texture_js__WEBPACK_IMPORTED_MODULE_11__.Texture.TEXTURE_UNIT_FOR_UPDATES=this._parameters.maxTextureImageUnits-1;const s=this.gl.getParameter(this.gl.VIEWPORT);this._state=new _ContextState_js__WEBPACK_IMPORTED_MODULE_4__.ContextState,this._state.viewport={x:s[0],y:s[1],width:s[2],height:s[3]},this._stateTracker=new _renderState_js__WEBPACK_IMPORTED_MODULE_10__.StateTracker({setBlending:t=>{if(t){this.setBlendingEnabled(!0),this.setBlendEquationSeparate(t.opRgb,t.opAlpha),this.setBlendFunctionSeparate(t.srcRgb,t.dstRgb,t.srcAlpha,t.dstAlpha);const e=t.color;this.setBlendColor(e.r,e.g,e.b,e.a)}else this.setBlendingEnabled(!1)},setCulling:t=>{t?(this.setFaceCullingEnabled(!0),this.setCullFace(t.face),this.setFrontFace(t.mode)):this.setFaceCullingEnabled(!1)},setPolygonOffset:t=>{t?(this.setPolygonOffsetFillEnabled(!0),this.setPolygonOffset(t.factor,t.units)):this.setPolygonOffsetFillEnabled(!1)},setDepthTest:t=>{t?(this.setDepthTestEnabled(!0),this.setDepthFunction(t.func)):this.setDepthTestEnabled(!1)},setStencilTest:t=>{if(t){this.setStencilTestEnabled(!0);const e=t.function;this.setStencilFunction(e.func,e.ref,e.mask);const s=t.operation;this.setStencilOp(s.fail,s.zFail,s.zPass)}else this.setStencilTestEnabled(!1)},setDepthWrite:t=>{t?(this.setDepthWriteEnabled(!0),this.setDepthRange(t.zNear,t.zFar)):this.setDepthWriteEnabled(!1)},setColorWrite:t=>{t?this.setColorMask(t.r,t.g,t.b,t.a):this.setColorMask(!1,!1,!1,!1)},setStencilWrite:t=>{t?this.setStencilWriteMask(t.mask):this.setStencilWriteMask(0)}}),this.enforceState(),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._driverTest),this._driverTest=new _WebGLDriverTest_js__WEBPACK_IMPORTED_MODULE_13__.WebGLDriverTest(this)}dispose(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.disposeMaybe)(this._driverTest),this.programCache.dispose(),this.bindVAO(null),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ARRAY_BUFFER),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ELEMENT_ARRAY_BUFFER),this.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_5__.ContextType.WEBGL2&&(this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER),this._state.uniformBufferBindingPoints.length=0,this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_PACK_BUFFER),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_UNPACK_BUFFER),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_READ_BUFFER),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_WRITE_BUFFER)),this._state.textureUnitMap.length=0,(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.webglDebugEnabled)()&&console.log(this.instanceCounter.resourceInformation)}get driverTest(){return this._driverTest}get contextAttributes(){return this.gl.getContextAttributes()}get parameters(){return this._parameters}setPipelineState(t){this._stateTracker.setPipeline(t)}setBlendingEnabled(t){this._state.blend!==t&&(!0===t?this.gl.enable(this.gl.BLEND):this.gl.disable(this.gl.BLEND),this._state.blend=t,this._stateTracker.invalidateBlending())}externalProgramUpdate(){this._state.program?.stop(),this._state.program=null}externalTextureUnitUpdate(t,e){for(let s=0;s<t.length;++s)this._state.textureUnitMap[t[s]]=null;e>=0&&(this._state.activeTexture=e)}externalVertexArrayObjectUpdate(){const t=this.capabilities.vao;t&&(t.bindVertexArray(null),this._state.vertexArrayObject=null),this._state.vertexBuffer=null,this._state.indexBuffer=null}externalVertexBufferUpdate(){this._state.vertexBuffer=null}externalIndexBufferUpdate(){this._state.indexBuffer=null}setBlendColor(t,e,s,i){t===this._state.blendColor.r&&e===this._state.blendColor.g&&s===this._state.blendColor.b&&i===this._state.blendColor.a||(this.gl.blendColor(t,e,s,i),this._state.blendColor.r=t,this._state.blendColor.g=e,this._state.blendColor.b=s,this._state.blendColor.a=i,this._stateTracker.invalidateBlending())}setBlendFunction(t,e){t===this._state.blendFunction.srcRGB&&e===this._state.blendFunction.dstRGB||(this.gl.blendFunc(t,e),this._state.blendFunction.srcRGB=t,this._state.blendFunction.srcAlpha=t,this._state.blendFunction.dstRGB=e,this._state.blendFunction.dstAlpha=e,this._stateTracker.invalidateBlending())}setBlendFunctionSeparate(t,e,s,i){this._state.blendFunction.srcRGB===t&&this._state.blendFunction.srcAlpha===s&&this._state.blendFunction.dstRGB===e&&this._state.blendFunction.dstAlpha===i||(this.gl.blendFuncSeparate(t,e,s,i),this._state.blendFunction.srcRGB=t,this._state.blendFunction.srcAlpha=s,this._state.blendFunction.dstRGB=e,this._state.blendFunction.dstAlpha=i,this._stateTracker.invalidateBlending())}setBlendEquation(t){this._state.blendEquation.mode!==t&&(this.gl.blendEquation(t),this._state.blendEquation.mode=t,this._state.blendEquation.modeAlpha=t,this._stateTracker.invalidateBlending())}setBlendEquationSeparate(t,e){this._state.blendEquation.mode===t&&this._state.blendEquation.modeAlpha===e||(this.gl.blendEquationSeparate(t,e),this._state.blendEquation.mode=t,this._state.blendEquation.modeAlpha=e,this._stateTracker.invalidateBlending())}setColorMask(t,e,s,i){this._state.colorMask.r===t&&this._state.colorMask.g===e&&this._state.colorMask.b===s&&this._state.colorMask.a===i||(this.gl.colorMask(t,e,s,i),this._state.colorMask.r=t,this._state.colorMask.g=e,this._state.colorMask.b=s,this._state.colorMask.a=i,this._stateTracker.invalidateColorWrite())}setClearColor(t,e,s,i){this._state.clearColor.r===t&&this._state.clearColor.g===e&&this._state.clearColor.b===s&&this._state.clearColor.a===i||(this.gl.clearColor(t,e,s,i),this._state.clearColor.r=t,this._state.clearColor.g=e,this._state.clearColor.b=s,this._state.clearColor.a=i)}setFaceCullingEnabled(t){this._state.faceCulling!==t&&(!0===t?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this._state.faceCulling=t,this._stateTracker.invalidateCulling())}setPolygonOffsetFillEnabled(t){this._state.polygonOffsetFill!==t&&(!0===t?this.gl.enable(this.gl.POLYGON_OFFSET_FILL):this.gl.disable(this.gl.POLYGON_OFFSET_FILL),this._state.polygonOffsetFill=t,this._stateTracker.invalidatePolygonOffset())}setPolygonOffset(t,e){this._state.polygonOffset[0]===t&&this._state.polygonOffset[1]===e||(this._state.polygonOffset[0]=t,this._state.polygonOffset[1]=e,this.gl.polygonOffset(t,e),this._stateTracker.invalidatePolygonOffset())}setCullFace(t){this._state.cullFace!==t&&(this.gl.cullFace(t),this._state.cullFace=t,this._stateTracker.invalidateCulling())}setFrontFace(t){this._state.frontFace!==t&&(this.gl.frontFace(t),this._state.frontFace=t,this._stateTracker.invalidateCulling())}setScissorTestEnabled(t){this._state.scissorTest!==t&&(!0===t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this._state.scissorTest=t)}setScissorRect(t,e,s,i){this._state.scissorRect.x===t&&this._state.scissorRect.y===e&&this._state.scissorRect.width===s&&this._state.scissorRect.height===i||(this.gl.scissor(t,e,s,i),this._state.scissorRect.x=t,this._state.scissorRect.y=e,this._state.scissorRect.width=s,this._state.scissorRect.height=i)}setDepthTestEnabled(t){this._state.depthTest!==t&&(!0===t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST),this._state.depthTest=t,this._stateTracker.invalidateDepthTest())}setClearDepth(t){this._state.clearDepth!==t&&(this.gl.clearDepth(t),this._state.clearDepth=t)}setDepthFunction(t){this._state.depthFunction!==t&&(this.gl.depthFunc(t),this._state.depthFunction=t,this._stateTracker.invalidateDepthTest())}setDepthWriteEnabled(t){this._state.depthWrite!==t&&(this.gl.depthMask(t),this._state.depthWrite=t,this._stateTracker.invalidateDepthWrite())}setDepthRange(t,e){this._state.depthRange.zNear===t&&this._state.depthRange.zFar===e||(this.gl.depthRange(t,e),this._state.depthRange.zNear=t,this._state.depthRange.zFar=e,this._stateTracker.invalidateDepthWrite())}setStencilTestEnabled(t){this._state.stencilTest!==t&&(!0===t?this.gl.enable(this.gl.STENCIL_TEST):this.gl.disable(this.gl.STENCIL_TEST),this._state.stencilTest=t,this._stateTracker.invalidateStencilTest())}setClearStencil(t){t!==this._state.clearStencil&&(this.gl.clearStencil(t),this._state.clearStencil=t)}setStencilFunction(t,e,s){this._state.stencilFunction.func===t&&this._state.stencilFunction.ref===e&&this._state.stencilFunction.mask===s||(this.gl.stencilFunc(t,e,s),this._state.stencilFunction.face=_enums_js__WEBPACK_IMPORTED_MODULE_6__.Face.FRONT_AND_BACK,this._state.stencilFunction.func=t,this._state.stencilFunction.ref=e,this._state.stencilFunction.mask=s,this._stateTracker.invalidateStencilTest())}setStencilFunctionSeparate(t,e,s,i){this._state.stencilFunction.face===t&&this._state.stencilFunction.func===e&&this._state.stencilFunction.ref===s&&this._state.stencilFunction.mask===i||(this.gl.stencilFuncSeparate(t,e,s,i),this._state.stencilFunction.face=t,this._state.stencilFunction.func=e,this._state.stencilFunction.ref=s,this._state.stencilFunction.mask=i,this._stateTracker.invalidateStencilTest())}setStencilWriteMask(t){this._state.stencilWriteMask!==t&&(this.gl.stencilMask(t),this._state.stencilWriteMask=t,this._stateTracker.invalidateStencilWrite())}setStencilOp(t,e,s){this._state.stencilOperation.face===_enums_js__WEBPACK_IMPORTED_MODULE_6__.Face.FRONT_AND_BACK&&this._state.stencilOperation.fail===t&&this._state.stencilOperation.zFail===e&&this._state.stencilOperation.zPass===s||(this.gl.stencilOp(t,e,s),this._state.stencilOperation.face=_enums_js__WEBPACK_IMPORTED_MODULE_6__.Face.FRONT_AND_BACK,this._state.stencilOperation.fail=t,this._state.stencilOperation.zFail=e,this._state.stencilOperation.zPass=s,this._stateTracker.invalidateStencilTest())}setStencilOpSeparate(t,e,s,i){this._state.stencilOperation.face===t&&this._state.stencilOperation.fail===e&&this._state.stencilOperation.zFail===s&&this._state.stencilOperation.zPass===i||(this.gl.stencilOpSeparate(t,e,s,i),this._state.stencilOperation.face=t,this._state.stencilOperation.fail=e,this._state.stencilOperation.zFail=s,this._state.stencilOperation.zPass=i,this._stateTracker.invalidateStencilTest())}setActiveTexture(t,e=!1){const s=this._state.activeTexture;return t>=0&&(e||t!==this._state.activeTexture)&&(this.gl.activeTexture(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BASE_TEXTURE_UNIT+t),this._state.activeTexture=t),s}clear(t){t&&this.gl.clear(t)}clearSafe(t,e=255){t&&(t&_enums_js__WEBPACK_IMPORTED_MODULE_6__.ClearBufferBit.COLOR_BUFFER_BIT&&this.setColorMask(!0,!0,!0,!0),t&_enums_js__WEBPACK_IMPORTED_MODULE_6__.ClearBufferBit.DEPTH_BUFFER_BIT&&this.setDepthWriteEnabled(!0),t&_enums_js__WEBPACK_IMPORTED_MODULE_6__.ClearBufferBit.STENCIL_BUFFER_BIT&&this.setStencilWriteMask(e),this.gl.clear(t))}drawArrays(t,e,s){if((0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.webglDebugEnabled)()&&(this._numOfDrawCalls++,this._numOfTriangles+=N(t,s)),this.gl.drawArrays(t,e,s),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.webglDebugEnabled)()){const t=(0,_Util_js__WEBPACK_IMPORTED_MODULE_12__.getErrorString)(this);t&&console.error("drawArrays:",t)}}drawElements(t,e,s,a){if((0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.webglDebugEnabled)()&&(this._numOfDrawCalls++,this._numOfTriangles+=N(t,e)),this.gl.drawElements(t,e,s,a),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.webglDebugEnabled)()){const i=(0,_Util_js__WEBPACK_IMPORTED_MODULE_12__.getErrorString)(this);if(i){const r=this.getBoundVAO(),n=r?.indexBuffer,l=r?.vertexBuffers,h={indexBuffer:n,vertexBuffers:l},f={mode:t,count:e,type:s,offset:a},o=n?.size??0,u=a+e,c=o<u?`. Buffer is too small. Attempted to draw index ${u} of ${o}`:"";console.error(`drawElements: ${i}${c}`,{args:f,vao:h})}}}logInfo(){(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.webglDebugEnabled)()&&console.log(`DrawCalls: ${this._numOfDrawCalls}, Triangles: ${this._numOfTriangles}`)}resetInfo(){(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.webglDebugEnabled)()&&(this._numOfDrawCalls=0,this._numOfTriangles=0)}get capabilities(){return this._capabilities}setViewport(t,e,s,i){s=Math.max(Math.round(s),1),i=Math.max(Math.round(i),1);const a=this._state.viewport;a.x===t&&a.y===e&&a.width===s&&a.height===i||(a.x=t,a.y=e,a.width=s,a.height=i,this.gl.viewport(t,e,s,i))}getViewport(){const t=this._state.viewport;return{x:t.x,y:t.y,width:t.width,height:t.height}}useProgram(t){this._state.program!==t&&(this._state.program?.stop(),this._state.program=t,this.gl.useProgram(t?.glName??null))}bindTexture(t,e,s=!1){(e>=this.parameters.maxTextureImageUnits||e<0)&&console.error("Input texture unit is out of range of available units!");const i=this._state.textureUnitMap[e];return null==t||null==t.glName?(null!=i&&(this.setActiveTexture(e,s),this.gl.bindTexture(i.descriptor.target,null)),this._state.textureUnitMap[e]=null,i):s||i!==t?(this.setActiveTexture(e,s),this.gl.bindTexture(t.descriptor.target,t.glName),t.applyChanges(),this._state.textureUnitMap[e]=t,i):(t.isDirty&&(this.setActiveTexture(e,s),t.applyChanges()),i)}unbindTexture(t){if(null!=t)for(let e=0;e<this.parameters.maxTextureImageUnits;e++)this._state.textureUnitMap[e]===t&&(this.bindTexture(null,e),this._state.textureUnitMap[e]=null)}bindFramebuffer(t,e=!1){if(e||this._state.readFramebuffer!==t||this._state.drawFramebuffer!==t){if(null==t)return this.gl.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.FRAMEBUFFER,null),this._state.readFramebuffer=null,void(this._state.drawFramebuffer=null);t.initializeAndBind(_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.FRAMEBUFFER),this._state.readFramebuffer=t,this._state.drawFramebuffer=t}}bindFramebufferSeparate(t,e,s=!1){const i=e===_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.READ_FRAMEBUFFER,a=i?this._state.readFramebuffer:this._state.drawFramebuffer;(s||a!==t)&&(null==t?this.gl.bindFramebuffer(e,null):t.initializeAndBind(e),i?this._state.readFramebuffer=t??null:this._state.drawFramebuffer=t??null)}blitFramebuffer(t,e,s=0,i=0,a=t.width,r=t.height,n=0,l=0,h=e.width,c=e.height,_=_enums_js__WEBPACK_IMPORTED_MODULE_6__.ClearBufferBit.COLOR_BUFFER_BIT,d=_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureSamplingMode.NEAREST){this.bindFramebufferSeparate(t,_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.READ_FRAMEBUFFER),this.bindFramebufferSeparate(e,_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.DRAW_FRAMEBUFFER);this.gl.blitFramebuffer(s,i,a,r,n,l,h,c,_,d)}bindBuffer(t,e){if(t)switch(e??=t.bufferType,e){case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ARRAY_BUFFER:this._state.vertexBuffer=v(this.gl,t,e,this._state.vertexBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ELEMENT_ARRAY_BUFFER:this._state.indexBuffer=v(this.gl,t,e,this._state.indexBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER:this._state.uniformBuffer=v(this.gl,t,e,this._state.uniformBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_PACK_BUFFER:this._state.pixelPackBuffer=v(this.gl,t,e,this._state.pixelPackBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_UNPACK_BUFFER:this._state.pixelUnpackBuffer=v(this.gl,t,e,this._state.pixelUnpackBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_READ_BUFFER:this._state.copyReadBuffer=v(this.gl,t,e,this._state.copyReadBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_WRITE_BUFFER:this._state.copyWriteBuffer=v(this.gl,t,e,this._state.copyWriteBuffer)}}bindRenderbuffer(t){const e=this.gl;t||(e.bindRenderbuffer(e.RENDERBUFFER,null),this._state.renderbuffer=null),this._state.renderbuffer!==t&&(e.bindRenderbuffer(e.RENDERBUFFER,t.glName),this._state.renderbuffer=t)}_getBufferBinding(t,e){if(e>=this.parameters.maxUniformBufferBindings||e<0)return console.error("Uniform buffer binding point is out of range!"),null;const s=this._state.uniformBufferBindingPoints;let i=s[e];return null==i&&(i={buffer:null,offset:0,size:0},s[e]=i),i}bindBufferBase(t,e,s){const i=this._getBufferBinding(t,e);if(null==i)return;if(i.buffer===s&&0===i.offset&&0===i.size)return;this.gl.bindBufferBase(t,e,s?s.glName:null),i.buffer=s,i.offset=0,i.size=0}bindBufferRange(t,e,s,i,a){const r=this._getBufferBinding(t,e);if(null==r)return;if(r.buffer===s&&r.offset===i&&r.size===a)return;if(i%this._parameters.uniformBufferOffsetAlignment!=0)return void console.error("Uniform buffer binding offset is not a multiple of the context offset alignment");this.gl.bindBufferRange(t,e,s.glName,i,a),r.buffer=s,r.offset=i,r.size=a}bindUBO(t,e,s,a){null!=e?((0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__.webglDebugEnabled)()&&(a??e.byteLength)>this._parameters.maxUniformBlockSize&&console.error("Attempting to bind more data than the maximum uniform block size"),e.initialize(),void 0!==s&&void 0!==a?this.bindBufferRange(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER,t,e.buffer,s,a):this.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER,t,e.buffer)):this.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER,t,null)}unbindUBO(t){for(let e=0,s=this._state.uniformBufferBindingPoints.length;e<s;e++){const s=this._state.uniformBufferBindingPoints[e];null!=s&&s.buffer===t.buffer&&this.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER,e,null)}}unbindBuffer(t){switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ARRAY_BUFFER:this._state.vertexBuffer=v(this.gl,null,t,this._state.vertexBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ELEMENT_ARRAY_BUFFER:this._state.indexBuffer=v(this.gl,null,t,this._state.indexBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER:this._state.uniformBuffer=v(this.gl,null,t,this._state.uniformBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_PACK_BUFFER:this._state.pixelPackBuffer=v(this.gl,null,t,this._state.pixelPackBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_UNPACK_BUFFER:this._state.pixelUnpackBuffer=v(this.gl,null,t,this._state.pixelUnpackBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_READ_BUFFER:this._state.copyReadBuffer=v(this.gl,null,t,this._state.copyReadBuffer);break;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_WRITE_BUFFER:this._state.copyWriteBuffer=v(this.gl,null,t,this._state.copyWriteBuffer)}}bindVAO(t=null){null!=t?this._state.vertexArrayObject!==t&&(t.bind(),this._state.vertexArrayObject=t):this._state.vertexArrayObject&&(this._state.vertexArrayObject.unbind(),this._state.vertexArrayObject=null)}async clientWaitAsync(t=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_2__.Milliseconds)(10)){const i=this.gl,a=i.fenceSync(_enums_js__WEBPACK_IMPORTED_MODULE_6__.SyncCondition.SYNC_GPU_COMMANDS_COMPLETE,0);if(!a)throw new Error("Client wait failed, could not create sync object");let r;this.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ResourceType.Sync,a),i.flush();do{await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.after)(t),r=i.clientWaitSync(a,0,0)}while(r===_enums_js__WEBPACK_IMPORTED_MODULE_6__.ClientWaitSyncStatus.TIMEOUT_EXPIRED);if(this.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ResourceType.Sync,a),i.deleteSync(a),r===_enums_js__WEBPACK_IMPORTED_MODULE_6__.ClientWaitSyncStatus.WAIT_FAILED)throw new Error("Client wait failed")}getBoundFramebufferObject(t=_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.FRAMEBUFFER){return t===_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.READ_FRAMEBUFFER?this._state.readFramebuffer:this._state.drawFramebuffer}getBoundVAO(){return this._state.vertexArrayObject}resetState(){this.useProgram(null),this.bindVAO(null),this.bindFramebuffer(null,!0),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ARRAY_BUFFER),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ELEMENT_ARRAY_BUFFER),this.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_5__.ContextType.WEBGL2&&(this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER),this._state.uniformBufferBindingPoints.length=0,this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_PACK_BUFFER),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_UNPACK_BUFFER),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_READ_BUFFER),this.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_WRITE_BUFFER));for(let t=0;t<this.parameters.maxTextureImageUnits;++t)this.bindTexture(null,t);this.setBlendingEnabled(!1),this.setBlendFunction(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BlendFactor.ONE,_enums_js__WEBPACK_IMPORTED_MODULE_6__.BlendFactor.ZERO),this.setBlendEquation(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BlendOperation.ADD),this.setBlendColor(0,0,0,0),this.setFaceCullingEnabled(!1),this.setCullFace(_enums_js__WEBPACK_IMPORTED_MODULE_6__.Face.BACK),this.setFrontFace(_enums_js__WEBPACK_IMPORTED_MODULE_6__.CullMode.CCW),this.setPolygonOffsetFillEnabled(!1),this.setPolygonOffset(0,0),this.setScissorTestEnabled(!1),this.setScissorRect(0,0,this.gl.canvas.width,this.gl.canvas.height),this.setDepthTestEnabled(!1),this.setDepthFunction(_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.LESS),this.setDepthRange(0,1),this.setStencilTestEnabled(!1),this.setStencilFunction(_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.ALWAYS,0,0),this.setStencilOp(_enums_js__WEBPACK_IMPORTED_MODULE_6__.StencilOperation.KEEP,_enums_js__WEBPACK_IMPORTED_MODULE_6__.StencilOperation.KEEP,_enums_js__WEBPACK_IMPORTED_MODULE_6__.StencilOperation.KEEP),this.setClearColor(0,0,0,0),this.setClearDepth(1),this.setClearStencil(0),this.setColorMask(!0,!0,!0,!0),this.setStencilWriteMask(4294967295),this.setDepthWriteEnabled(!0),this.setViewport(0,0,this.gl.canvas.width,this.gl.canvas.height)}enforceState(){const t=this.capabilities.vao;t&&t.bindVertexArray(null);const{gl:e,gl2:s}=this;for(let a=0;a<this.parameters.maxVertexAttributes;a++)e.disableVertexAttribArray(a);if(this._state.vertexBuffer?e.bindBuffer(this._state.vertexBuffer.bufferType,this._state.vertexBuffer.glName):e.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ARRAY_BUFFER,null),this._state.indexBuffer?e.bindBuffer(this._state.indexBuffer.bufferType,this._state.indexBuffer.glName):e.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.ELEMENT_ARRAY_BUFFER,null),null!=s){this._state.uniformBuffer?s.bindBuffer(this._state.uniformBuffer.bufferType,this._state.uniformBuffer.glName):s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER,null);for(let t=0;t<this._parameters.maxUniformBufferBindings;t++){const e=this._state.uniformBufferBindingPoints[t];if(null!=e){const{buffer:i,offset:a,size:r}=e;null!==i?0===a&&0===r?s.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER,t,i.glName):s.bindBufferRange(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER,t,i.glName,a,r):s.bindBufferBase(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.UNIFORM_BUFFER,t,null)}}this._state.pixelPackBuffer?s.bindBuffer(this._state.pixelPackBuffer.bufferType,this._state.pixelPackBuffer.glName):s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_PACK_BUFFER,null),this._state.pixelUnpackBuffer?s.bindBuffer(this._state.pixelUnpackBuffer.bufferType,this._state.pixelUnpackBuffer.glName):s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.PIXEL_UNPACK_BUFFER,null),this._state.copyReadBuffer?s.bindBuffer(this._state.copyReadBuffer.bufferType,this._state.copyReadBuffer.glName):s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_READ_BUFFER,null),this._state.copyWriteBuffer?s.bindBuffer(this._state.copyWriteBuffer.bufferType,this._state.copyWriteBuffer.glName):s.bindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BufferType.COPY_WRITE_BUFFER,null),s.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.READ_FRAMEBUFFER,null),s.readBuffer(s.BACK),this._state.readFramebuffer&&(s.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.READ_FRAMEBUFFER,this._state.readFramebuffer.glName),s.readBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.ColorAttachment.COLOR_ATTACHMENT0)),s.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.DRAW_FRAMEBUFFER,this._state.drawFramebuffer?.glName??null)}else this._state.readFramebuffer=this._state.drawFramebuffer,e.bindFramebuffer(_enums_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferTarget.FRAMEBUFFER,this._state.drawFramebuffer?.glName??null);if(t&&this._state.vertexArrayObject){const t=this._state.vertexArrayObject;this._state.vertexArrayObject&&(this._state.vertexArrayObject.unbind(),this._state.vertexArrayObject=null),this.bindVAO(t)}e.useProgram(this._state.program?.glName??null),e.blendColor(this._state.blendColor.r,this._state.blendColor.g,this._state.blendColor.b,this._state.blendColor.a),e.bindRenderbuffer(e.RENDERBUFFER,this._state.renderbuffer?this._state.renderbuffer.glName:null),!0===this._state.blend?e.enable(this.gl.BLEND):e.disable(this.gl.BLEND),e.blendEquationSeparate(this._state.blendEquation.mode,this._state.blendEquation.modeAlpha),e.blendFuncSeparate(this._state.blendFunction.srcRGB,this._state.blendFunction.dstRGB,this._state.blendFunction.srcAlpha,this._state.blendFunction.dstAlpha),e.clearColor(this._state.clearColor.r,this._state.clearColor.g,this._state.clearColor.b,this._state.clearColor.a),e.clearDepth(this._state.clearDepth),e.clearStencil(this._state.clearStencil),e.colorMask(this._state.colorMask.r,this._state.colorMask.g,this._state.colorMask.b,this._state.colorMask.a),e.cullFace(this._state.cullFace),e.depthFunc(this._state.depthFunction),e.depthRange(this._state.depthRange.zNear,this._state.depthRange.zFar),!0===this._state.depthTest?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),e.depthMask(this._state.depthWrite),e.frontFace(this._state.frontFace),e.lineWidth(1),!0===this._state.faceCulling?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),e.polygonOffset(this._state.polygonOffset[0],this._state.polygonOffset[1]),!0===this._state.polygonOffsetFill?e.enable(e.POLYGON_OFFSET_FILL):e.disable(e.POLYGON_OFFSET_FILL),e.scissor(this._state.scissorRect.x,this._state.scissorRect.y,this._state.scissorRect.width,this._state.scissorRect.height),!0===this._state.scissorTest?e.enable(e.SCISSOR_TEST):e.disable(e.SCISSOR_TEST),e.stencilFunc(this._state.stencilFunction.func,this._state.stencilFunction.ref,this._state.stencilFunction.mask),e.stencilOpSeparate(this._state.stencilOperation.face,this._state.stencilOperation.fail,this._state.stencilOperation.zFail,this._state.stencilOperation.zPass),!0===this._state.stencilTest?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),e.stencilMask(this._state.stencilWriteMask);for(let a=0;a<this.parameters.maxTextureImageUnits;a++){e.activeTexture(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BASE_TEXTURE_UNIT+a),e.bindTexture(_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_2D,null),e.bindTexture(_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_CUBE_MAP,null),this.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_5__.ContextType.WEBGL2&&(e.bindTexture(_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_3D,null),e.bindTexture(_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureType.TEXTURE_2D_ARRAY,null));const t=this._state.textureUnitMap[a];null!=t&&e.bindTexture(t.descriptor.target,t.glName)}e.activeTexture(_enums_js__WEBPACK_IMPORTED_MODULE_6__.BASE_TEXTURE_UNIT+this._state.activeTexture);const i=this._state.viewport;e.viewport(i.x,i.y,i.width,i.height),this.resetInfo()}_loadExtensions(){this.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_5__.ContextType.WEBGL1&&this.gl.getExtension("OES_element_index_uint"),this.gl.getExtension("KHR_parallel_shader_compile")}};function v(t,e,s,i){return e?i!==e&&t.bindBuffer(s,e.glName):t.bindBuffer(s,null),e}function N(t,e){switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.POINTS:return 2*e;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLES:return e/3;case _enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLE_STRIP:case _enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLE_FAN:return e-2;default:return 0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/WebGLDriverTest.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/WebGLDriverTest.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebGLDriverTest": () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _testAppleAmdDrawArrays_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./testAppleAmdDrawArrays.js */ "./node_modules/@arcgis/core/views/webgl/testAppleAmdDrawArrays.js");
/* harmony import */ var _testDoublePrecisionArithmetic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./testDoublePrecisionArithmetic.js */ "./node_modules/@arcgis/core/views/webgl/testDoublePrecisionArithmetic.js");
/* harmony import */ var _testFloatBufferBlend_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./testFloatBufferBlend.js */ "./node_modules/@arcgis/core/views/webgl/testFloatBufferBlend.js");
/* harmony import */ var _testSamplerPrecision_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./testSamplerPrecision.js */ "./node_modules/@arcgis/core/views/webgl/testSamplerPrecision.js");
/* harmony import */ var _testSVGPremultipliedAlpha_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./testSVGPremultipliedAlpha.js */ "./node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o{constructor(o){this.rctx=o,this.floatBufferBlend=new _testFloatBufferBlend_js__WEBPACK_IMPORTED_MODULE_2__.FloatBufferBlend(o),this.svgPremultipliesAlpha=new _testSVGPremultipliedAlpha_js__WEBPACK_IMPORTED_MODULE_4__.SVGPremultipliedAlpha(o),this.doublePrecisionRequiresObfuscation=new _testDoublePrecisionArithmetic_js__WEBPACK_IMPORTED_MODULE_1__.DoublePrecisionRequiresObfuscation(o),this.ignoresSamplerPrecision=new _testSamplerPrecision_js__WEBPACK_IMPORTED_MODULE_3__.IgnoresSamplerPrecision(o),this.drawArraysRequiresIndicesTypeReset=new _testAppleAmdDrawArrays_js__WEBPACK_IMPORTED_MODULE_0__.DrawArraysRequiresIndicesTypeReset(o)}dispose(){this.ignoresSamplerPrecision.dispose(),this.doublePrecisionRequiresObfuscation.dispose(),this.svgPremultipliesAlpha.dispose(),this.floatBufferBlend.dispose(),this.drawArraysRequiresIndicesTypeReset.dispose()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/capabilities/Capabilities.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/Capabilities.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Capabilities": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _DisjointTimerQuery_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DisjointTimerQuery.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/DisjointTimerQuery.js");
/* harmony import */ var _DrawBuffers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DrawBuffers.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/DrawBuffers.js");
/* harmony import */ var _Instancing_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Instancing.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/Instancing.js");
/* harmony import */ var _load_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./load.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/load.js");
/* harmony import */ var _LoseContext_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LoseContext.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/LoseContext.js");
/* harmony import */ var _VertexArrayObjects_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./VertexArrayObjects.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/VertexArrayObjects.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class d{constructor(t,e){this._gl=t,this._instancing=null,this._vertexArrayObject=null,this._compressedTextureETC=null,this._compressedTextureS3TC=null,this._textureFilterAnisotropic=null,this._textureFloat=null,this._colorBufferFloat=null,this._minMaxBlending=null,this._loseContext=null,this._drawBuffers=null,this._textureNorm16=null,this._depthTexture=null,this._textureFloatLinear=null,this._disabledExtensions=e.disabledExtensions||{},this._debugWebGLExtensions=e.debugWebGLExtensions||{}}get drawBuffers(){return this._drawBuffers||(this._drawBuffers=(0,_DrawBuffers_js__WEBPACK_IMPORTED_MODULE_1__.load)(this._gl,this._disabledExtensions)),this._drawBuffers}get instancing(){return this._instancing||(this._instancing=(0,_Instancing_js__WEBPACK_IMPORTED_MODULE_2__.load)(this._gl)),this._instancing}get vao(){return this._vertexArrayObject||(this._vertexArrayObject=(0,_VertexArrayObjects_js__WEBPACK_IMPORTED_MODULE_5__.load)(this._gl,this._disabledExtensions)),this._vertexArrayObject}get compressedTextureETC(){return this._compressedTextureETC||(this._compressedTextureETC=(0,_load_js__WEBPACK_IMPORTED_MODULE_3__.loadCompressedTextureETC)(this._gl,this._disabledExtensions)),this._compressedTextureETC}get compressedTextureS3TC(){return this._compressedTextureS3TC||(this._compressedTextureS3TC=(0,_load_js__WEBPACK_IMPORTED_MODULE_3__.loadCompressedTextureS3TC)(this._gl,this._disabledExtensions)),this._compressedTextureS3TC}get textureFilterAnisotropic(){return this._textureFilterAnisotropic||(this._textureFilterAnisotropic=(0,_load_js__WEBPACK_IMPORTED_MODULE_3__.loadTextureFilterAnisotropicCapability)(this._gl,this._disabledExtensions)),this._textureFilterAnisotropic}get disjointTimerQuery(){return this._disjointTimerQuery||(this._disjointTimerQuery=(0,_DisjointTimerQuery_js__WEBPACK_IMPORTED_MODULE_0__.createDisjointTimerQuery)(this._gl,this._disabledExtensions)),this._disjointTimerQuery}get textureFloat(){return this._textureFloat||(this._textureFloat=(0,_load_js__WEBPACK_IMPORTED_MODULE_3__.loadTextureFloat)(this._gl,this._disabledExtensions)),this._textureFloat}get colorBufferFloat(){return this._colorBufferFloat||(this._colorBufferFloat=(0,_load_js__WEBPACK_IMPORTED_MODULE_3__.loadColorBufferFloat)(this._gl,this._disabledExtensions)),this._colorBufferFloat}get blendMinMax(){return this._minMaxBlending||(this._minMaxBlending=(0,_load_js__WEBPACK_IMPORTED_MODULE_3__.loadMinMaxBlending)(this._gl,this._disabledExtensions)),this._minMaxBlending}get depthTexture(){return null===this._depthTexture&&(this._depthTexture=(0,_load_js__WEBPACK_IMPORTED_MODULE_3__.loadBooleanExtension)(this._gl,this._disabledExtensions,"depthTexture",!0,["WEBGL_depth_texture","MOZ_WEBGL_depth_texture","WEBKIT_WEBGL_depth_texture"])),this._depthTexture}get loseContext(){return this._loseContext||(this._loseContext=(0,_LoseContext_js__WEBPACK_IMPORTED_MODULE_4__.load)(this._gl,this._debugWebGLExtensions)),this._loseContext}get textureNorm16(){return this._textureNorm16||(this._textureNorm16=(0,_load_js__WEBPACK_IMPORTED_MODULE_3__.loadTextureNorm16)(this._gl,this._disabledExtensions)),this._textureNorm16}get textureFloatLinear(){return null===this._textureFloatLinear&&(this._textureFloatLinear=(0,_load_js__WEBPACK_IMPORTED_MODULE_3__.loadBooleanExtension)(this._gl,this._disabledExtensions,"textureFloatLinear",!1,["OES_texture_float_linear"])),this._textureFloatLinear}enable(t){return this[t]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/capabilities/DrawBuffers.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/DrawBuffers.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "load": () => (/* binding */ A)
/* harmony export */ });
/* harmony import */ var _isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isWebGL2Context.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function A(A,_){if(_.disjointTimerQuery)return null;if((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(A))return{drawBuffers:A.drawBuffers.bind(A),MAX_DRAW_BUFFERS:A.MAX_DRAW_BUFFERS,MAX_COLOR_ATTACHMENTS:A.MAX_COLOR_ATTACHMENTS};if(_.drawBuffers)return null;const e=A.getExtension("WEBGL_draw_buffers");return e?{drawBuffers:e.drawBuffersWEBGL.bind(e),MAX_DRAW_BUFFERS:e.MAX_DRAW_BUFFERS_WEBGL,MAX_COLOR_ATTACHMENTS:e.MAX_COLOR_ATTACHMENTS_WEBGL}:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/capabilities/Instancing.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/Instancing.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "load": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isWebGL2Context.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(r){if((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(r))return r;const t=r.getExtension("ANGLE_instanced_arrays");return t?{drawArraysInstanced:t.drawArraysInstancedANGLE.bind(t),drawElementsInstanced:t.drawElementsInstancedANGLE.bind(t),vertexAttribDivisor:t.vertexAttribDivisorANGLE.bind(t)}:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/capabilities/LoseContext.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/LoseContext.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "load": () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(e,t){const n=t.loseContext&&e.getExtension("WEBGL_lose_context");return n?{loseRenderingContext:()=>n.loseContext()}:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/capabilities/VertexArrayObjects.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/VertexArrayObjects.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "load": () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isWebGL2Context.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r(r,t){if((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(r))return{createVertexArray:r.createVertexArray.bind(r),deleteVertexArray:r.deleteVertexArray.bind(r),bindVertexArray:r.bindVertexArray.bind(r)};if(t.vao)return null;const n=r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object");return n?{createVertexArray:n.createVertexArrayOES.bind(n),deleteVertexArray:n.deleteVertexArrayOES.bind(n),bindVertexArray:n.bindVertexArrayOES.bind(n)}:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/capabilities/load.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/capabilities/load.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "loadBooleanExtension": () => (/* binding */ o),
/* harmony export */   "loadColorBufferFloat": () => (/* binding */ r),
/* harmony export */   "loadCompressedTextureETC": () => (/* binding */ _),
/* harmony export */   "loadCompressedTextureS3TC": () => (/* binding */ e),
/* harmony export */   "loadMinMaxBlending": () => (/* binding */ E),
/* harmony export */   "loadTextureFilterAnisotropicCapability": () => (/* binding */ n),
/* harmony export */   "loadTextureFloat": () => (/* binding */ R),
/* harmony export */   "loadTextureNorm16": () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isWebGL2Context.js */ "./node_modules/@arcgis/core/views/webgl/capabilities/isWebGL2Context.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function _(t,_){if(_.compressedTextureETC)return null;const e=t.getExtension("WEBGL_compressed_texture_etc");return e?{COMPRESSED_R11_EAC:e.COMPRESSED_R11_EAC,COMPRESSED_SIGNED_R11_EAC:e.COMPRESSED_SIGNED_R11_EAC,COMPRESSED_RG11_EAC:e.COMPRESSED_RG11_EAC,COMPRESSED_SIGNED_RG11_EAC:e.COMPRESSED_SIGNED_RG11_EAC,COMPRESSED_RGB8_ETC2:e.COMPRESSED_RGB8_ETC2,COMPRESSED_SRGB8_ETC2:e.COMPRESSED_SRGB8_ETC2,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,COMPRESSED_RGBA8_ETC2_EAC:e.COMPRESSED_RGBA8_ETC2_EAC,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC}:null}function e(t,_){if(_.compressedTextureS3TC)return null;const e=t.getExtension("WEBGL_compressed_texture_s3tc");return e?{COMPRESSED_RGB_S3TC_DXT1:e.COMPRESSED_RGB_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT1:e.COMPRESSED_RGBA_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT3:e.COMPRESSED_RGBA_S3TC_DXT3_EXT,COMPRESSED_RGBA_S3TC_DXT5:e.COMPRESSED_RGBA_S3TC_DXT5_EXT}:null}function E(_,e){if((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_))return{MIN:_.MIN,MAX:_.MAX};if(e.blendMinMax)return null;{const t=_.getExtension("EXT_blend_minmax");return t?{MIN:t.MIN_EXT,MAX:t.MAX_EXT}:null}}function n(t,_){if(_.textureFilterAnisotropic)return null;const e=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");return e?{MAX_TEXTURE_MAX_ANISOTROPY:e.MAX_TEXTURE_MAX_ANISOTROPY_EXT,TEXTURE_MAX_ANISOTROPY:e.TEXTURE_MAX_ANISOTROPY_EXT}:null}function R(_,e){if((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_))return{textureFloat:!0,textureFloatLinear:!e.textureFloatLinear&&!!_.getExtension("OES_texture_float_linear"),textureHalfFloat:!0,textureHalfFloatLinear:!0,HALF_FLOAT:_.HALF_FLOAT,R16F:_.R16F,RG16F:_.RG16F,RGBA16F:_.RGBA16F,R32F:_.R32F,RG32F:_.RG32F,RGBA32F:_.RGBA32F,R11F_G11F_B10F:_.R11F_G11F_B10F,RGB16F:_.RGB16F};if(_ instanceof WebGLRenderingContext){const t=!e.textureHalfFloat&&_.getExtension("OES_texture_half_float");return{textureFloat:!e.textureFloat&&!!_.getExtension("OES_texture_float"),textureFloatLinear:!e.textureFloatLinear&&!!_.getExtension("OES_texture_float_linear"),textureHalfFloat:!!t,textureHalfFloatLinear:!e.textureHalfFloatLinear&&!!_.getExtension("OES_texture_half_float_linear"),HALF_FLOAT:t?t.HALF_FLOAT_OES:void 0}}return null}function r(_,e){if((0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_)){const t=!e.colorBufferHalfFloat&&_.getExtension("EXT_color_buffer_half_float")||!e.colorBufferFloat&&_.getExtension("EXT_color_buffer_float"),E=!e.colorBufferFloat&&_.getExtension("EXT_color_buffer_float"),n=!e.floatBlend&&!e.colorBufferFloat&&_.getExtension("EXT_float_blend");return t||E||n?{textureFloat:!!E,textureHalfFloat:!!t,floatBlend:!!n,R16F:_.R16F,RG16F:_.RG16F,RGBA16F:_.RGBA16F,R32F:_.R32F,RG32F:_.RG32F,RGBA32F:_.RGBA32F,R11F_G11F_B10F:_.R11F_G11F_B10F,RGB16F:_.RGB16F}:null}if(_ instanceof WebGLRenderingContext){const t=!e.colorBufferHalfFloat&&_.getExtension("EXT_color_buffer_half_float"),E=!e.colorBufferFloat&&_.getExtension("WEBGL_color_buffer_float"),n=!e.floatBlend&&!e.colorBufferFloat&&_.getExtension("EXT_float_blend");return t||E||n?{textureFloat:!!E,textureHalfFloat:!!t,floatBlend:!!n,RGBA16F:t?t.RGBA16F_EXT:void 0,RGB16F:t?t.RGB16F_EXT:void 0,RGBA32F:E?E.RGBA32F_EXT:void 0}:null}return null}function o(_,e,E,n,R){if(n&&(0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_))return!0;if(e[E])return!1;for(const t of R)if(_.getExtension(t))return!0;return!1}function l(_,e){if(!(0,_isWebGL2Context_js__WEBPACK_IMPORTED_MODULE_0__["default"])(_))return null;if(e.textureNorm16)return null;const E=_.getExtension("EXT_texture_norm16");return E?{R16:E.R16_EXT,RG16:E.RG16_EXT,RGB16:E.RGB16_EXT,RGBA16:E.RGBA16_EXT,R16_SNORM:E.R16_SNORM_EXT,RG16_SNORM:E.RG16_SNORM_EXT,RGB16_SNORM:E.RGB16_SNORM_EXT,RGBA16_SNORM:E.RGBA16_SNORM_EXT}:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/doublePrecisionUtils.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/doublePrecisionUtils.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "decodeDoubleArray": () => (/* binding */ n),
/* harmony export */   "encodeDoubleArray": () => (/* binding */ t),
/* harmony export */   "encodeDoubleHi": () => (/* binding */ o),
/* harmony export */   "encodeDoubleLo": () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t(t,n,o){for(let r=0;r<o;++r)n[2*r]=t[r],n[2*r+1]=t[r]-n[2*r]}function n(t,n,o){for(let r=0;r<o;++r)n[r]=t[2*r]+t[2*r+1]}function o(t,n){const o=t.length;for(let r=0;r<o;++r)e[0]=t[r],n[r]=e[0];return n}function r(t,n){const o=t.length;for(let r=0;r<o;++r)e[0]=t[r],e[1]=t[r]-e[0],n[r]=e[1];return n}const e=new Float32Array(2);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/programUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/programUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "glslifyDefineMap": () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e(e){const{options:n,value:o}=e;return"number"==typeof n[o]}function n(n){let o="";for(const t in n){const i=n[t];if("boolean"==typeof i)i&&(o+=`#define ${t}\n`);else if("number"==typeof i)o+=`#define ${t} ${i.toFixed()}\n`;else if("object"==typeof i)if(e(i)){const{value:e,options:n,namespace:f}=i,s=f?`${f}_`:"";for(const t in n)o+=`#define ${s}${t} ${n[t].toFixed()}\n`;o+=`#define ${t} ${s}${e}\n`}else{const e=i.options;let n=0;for(const t in e)o+=`#define ${e[t]} ${(n++).toFixed()}\n`;o+=`#define ${t} ${e[i.value]}\n`}}return o}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/testAppleAmdDrawArrays.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/testAppleAmdDrawArrays.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DrawArraysRequiresIndicesTypeReset": () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _AppleAmdDriverHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AppleAmdDriverHelper.js */ "./node_modules/@arcgis/core/views/webgl/AppleAmdDriverHelper.js");
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/* harmony import */ var _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WebGLDriverTestModule.js */ "./node_modules/@arcgis/core/views/webgl/WebGLDriverTestModule.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class h extends _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_8__.WebGLDriverTestModule{constructor(r){super(),this._rctx=r,this._helperProgram=null,this._rctx.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__.ContextType.WEBGL2&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("mac")&&(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("chrome")&&(this._program=this._prepareProgram(),this._helperProgram=this._prepareHelperProgram())}dispose(){super.dispose(),this._helperProgram?.dispose(),this._helperProgram=null}_test(r){const e=this._rctx;e.resetState();const o=new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_7__.TextureDescriptor(1);o.wrapMode=_enums_js__WEBPACK_IMPORTED_MODULE_5__.TextureWrapMode.CLAMP_TO_EDGE,o.samplingMode=_enums_js__WEBPACK_IMPORTED_MODULE_5__.TextureSamplingMode.NEAREST;const d=new _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_6__.FramebufferObject(e,o),h=_BufferObject_js__WEBPACK_IMPORTED_MODULE_3__.BufferObject.createIndex(this._rctx,_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,new Uint8Array([0]));e.bindFramebuffer(d),e.setViewport(0,0,1,1),e.useProgram(this._helperProgram),e.bindBuffer(h,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER),e.drawElements(_enums_js__WEBPACK_IMPORTED_MODULE_5__.PrimitiveType.POINTS,1,_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_BYTE,0),e.useProgram(r),e.bindVAO(null),e.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_5__.PrimitiveType.TRIANGLES,0,258);const _=new Uint8Array(4);return d.readPixels(0,0,1,1,_enums_js__WEBPACK_IMPORTED_MODULE_5__.PixelFormat.RGBA,_enums_js__WEBPACK_IMPORTED_MODULE_5__.PixelType.UNSIGNED_BYTE,_),d.dispose(),h.dispose(),255===_[0]}_prepareProgram(){const e=85,t=`#version 300 es\n    precision highp float;\n\n    out float triangleId;\n\n    const vec3 triangleVertices[3] = vec3[3](vec3(-0.5, -0.5, 0.0), vec3(0.5, -0.5, 0.0), vec3(0.0, 0.5, 0.0));\n\n    void main(void) {\n      triangleId = floor(float(gl_VertexID)/3.0);\n\n      vec3 position = triangleVertices[gl_VertexID % 3];\n      float offset = triangleId / ${_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.float(e)};\n      position.z = 0.5 - offset;\n\n      gl_Position = vec4(position, 1.0);\n    }\n    `,o=`#version 300 es\n    precision highp float;\n\n    in float triangleId;\n\n    out vec4 fragColor;\n\n    void main(void) {\n      fragColor = triangleId == ${_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl.float(e)} ? vec4(0.0, 1.0, 0.0, 1.0) : vec4(1.0, 0.0, 0.0, 1.0);\n    }\n    `;return this._rctx.programCache.acquire(t,o,new Map([]))}_prepareHelperProgram(){const r=_AppleAmdDriverHelper_js__WEBPACK_IMPORTED_MODULE_2__.AppleAmdDriverHelper.getShaderSources();return this._rctx.programCache.acquire(r.vertex,r.fragment,new Map([]))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/testDoublePrecisionArithmetic.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/testDoublePrecisionArithmetic.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DoublePrecisionRequiresObfuscation": () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/floatRGBA.js */ "./node_modules/@arcgis/core/core/floatRGBA.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ "./node_modules/@arcgis/core/chunks/vec3f64.js");
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./doublePrecisionUtils.js */ "./node_modules/@arcgis/core/views/webgl/doublePrecisionUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/* harmony import */ var _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/* harmony import */ var _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/* harmony import */ var _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./WebGLDriverTestModule.js */ "./node_modules/@arcgis/core/views/webgl/WebGLDriverTestModule.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class d extends _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_11__.WebGLDriverTestModule{constructor(e){super(),this._rctx=e,this._program=A(this._rctx,!1),this._obfuscated=A(this._rctx,!0)}dispose(){super.dispose(),this._obfuscated=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.disposeMaybe)(this._obfuscated)}_test(e){if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("force-double-precision-obfuscation"))return!0;if(null==this._obfuscated)return!1;const n=this._runProgram(e),o=this._runProgram(this._obfuscated);return 0!==n&&(0===o||n/o>5)}_runProgram(n){const _=this._rctx;_.resetState();const d=new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_8__.TextureDescriptor(1);d.wrapMode=_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureWrapMode.CLAMP_TO_EDGE,d.samplingMode=_enums_js__WEBPACK_IMPORTED_MODULE_6__.TextureSamplingMode.NEAREST;const A=new _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_7__.FramebufferObject(_,d),b=_BufferObject_js__WEBPACK_IMPORTED_MODULE_4__.BufferObject.createVertex(_,_enums_js__WEBPACK_IMPORTED_MODULE_6__.Usage.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),g=new _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_9__.VertexArrayObject(_,new Map([["position",0]]),{geometry:[new _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_10__.VertexElementDescriptor("position",2,_enums_js__WEBPACK_IMPORTED_MODULE_6__.DataType.UNSIGNED_SHORT,0,4)]},{geometry:b}),B=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(5633261.287538229,2626832.878767164,1434988.0495278358),F=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(5633271.46742708,2626873.6381334523,1434963.231608387),w=new Float32Array(6);(0,_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_5__.encodeDoubleArray)(B,w,3);const E=new Float32Array(6);(0,_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_5__.encodeDoubleArray)(F,E,3),_.useProgram(n),n.setUniform3f("u_highA",w[0],w[2],w[4]),n.setUniform3f("u_lowA",w[1],w[3],w[5]),n.setUniform3f("u_highB",E[0],E[2],E[4]),n.setUniform3f("u_lowB",E[1],E[3],E[5]),_.bindFramebuffer(A),_.setViewport(0,0,1,1),_.bindVAO(g),_.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLE_STRIP,0,4);const O=new Uint8Array(4);A.readPixels(0,0,1,1,_enums_js__WEBPACK_IMPORTED_MODULE_6__.PixelFormat.RGBA,_enums_js__WEBPACK_IMPORTED_MODULE_6__.PixelType.UNSIGNED_BYTE,O),g.dispose(),A.dispose();const I=(B[2]-F[2])/25,U=(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__.unpackFloatRGBA)(O);return Math.abs(I-U)}}function A(e,n){const o=`\n\n  precision highp float;\n\n  attribute vec2 position;\n\n  uniform vec3 u_highA;\n  uniform vec3 u_lowA;\n  uniform vec3 u_highB;\n  uniform vec3 u_lowB;\n\n  varying vec4 v_color;\n\n  ${n?"#define DOUBLE_PRECISION_REQUIRES_OBFUSCATION":""}\n\n  #ifdef DOUBLE_PRECISION_REQUIRES_OBFUSCATION\n\n  vec3 dpPlusFrc(vec3 a, vec3 b) {\n    return mix(a, a + b, vec3(notEqual(b, vec3(0))));\n  }\n\n  vec3 dpMinusFrc(vec3 a, vec3 b) {\n    return mix(vec3(0), a - b, vec3(notEqual(a, b)));\n  }\n\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n    vec3 t1 = dpPlusFrc(hiA, hiB);\n    vec3 e = dpMinusFrc(t1, hiA);\n    vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;\n    return t1 + t2;\n  }\n\n  #else\n\n  vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {\n    vec3 t1 = hiA + hiB;\n    vec3 e = t1 - hiA;\n    vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;\n    return t1 + t2;\n  }\n\n  #endif\n\n  const float MAX_RGBA_FLOAT =\n    255.0 / 256.0 +\n    255.0 / 256.0 / 256.0 +\n    255.0 / 256.0 / 256.0 / 256.0 +\n    255.0 / 256.0 / 256.0 / 256.0 / 256.0;\n\n  const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);\n\n  vec4 float2rgba(const float value) {\n    // Make sure value is in the domain we can represent\n    float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);\n\n    // Decompose value in 32bit fixed point parts represented as\n    // uint8 rgba components. Decomposition uses the fractional part after multiplying\n    // by a power of 256 (this removes the bits that are represented in the previous\n    // component) and then converts the fractional part to 8bits.\n    vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);\n\n    // Convert uint8 values (from 0 to 255) to floating point representation for\n    // the shader\n    const float toU8AsFloat = 1.0 / 255.0;\n\n    return fixedPointU8 * toU8AsFloat;\n  }\n\n  void main() {\n    vec3 val = dpAdd(u_highA, u_lowA, -u_highB, -u_lowB);\n\n    v_color = float2rgba(val.z / 25.0);\n\n    gl_Position = vec4(position * 2.0 - 1.0, 0.0, 1.0);\n  }\n  `,t="\n  precision highp float;\n\n  varying vec4 v_color;\n\n  void main() {\n    gl_FragColor = v_color;\n  }\n  ";return e.programCache.acquire(o,t,new Map([["position",0]]))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/testFloatBufferBlend.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/testFloatBufferBlend.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FloatBufferBlend": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _3d_webgl_engine_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../3d/webgl-engine/lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contextUtils.js */ "./node_modules/@arcgis/core/views/webgl/contextUtils.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _renderState_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/* harmony import */ var _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/* harmony import */ var _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/* harmony import */ var _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/* harmony import */ var _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./WebGLDriverTestModule.js */ "./node_modules/@arcgis/core/views/webgl/WebGLDriverTestModule.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class g extends _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_9__.WebGLDriverTestModule{constructor(e){if(super(),this._rctx=e,!e.gl)return;if(e.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_2__.ContextType.WEBGL1)return void(this._result=!(!e.capabilities.textureFloat?.textureFloat||!e.capabilities.colorBufferFloat?.textureFloat));if(!(e.capabilities.textureFloat?.textureFloat&&e.capabilities.colorBufferFloat?.textureFloat&&e.capabilities.colorBufferFloat?.floatBlend))return;const t="\n    precision highp float;\n    attribute vec2 a_pos;\n\n    void main() {\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\n    }\n    ",o="\n     precision highp float;\n\n     void main() {\n      gl_FragColor = vec4(0.5, 0.5, 0.5, 0.5);\n     }\n    ";this._program=e.programCache.acquire(t,o,new Map([["a_pos",0]]))}_test(r){const d=this._rctx,g=new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_6__.TextureDescriptor(1);g.wrapMode=_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureWrapMode.CLAMP_TO_EDGE,g.dataType=_enums_js__WEBPACK_IMPORTED_MODULE_3__.PixelType.FLOAT,g.internalFormat=_enums_js__WEBPACK_IMPORTED_MODULE_3__.SizedPixelFormat.RGBA32F,g.samplingMode=_enums_js__WEBPACK_IMPORTED_MODULE_3__.TextureSamplingMode.NEAREST;const _=new _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_4__.FramebufferObject(d,g),x=_BufferObject_js__WEBPACK_IMPORTED_MODULE_1__.BufferObject.createVertex(d,_enums_js__WEBPACK_IMPORTED_MODULE_3__.Usage.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),F=new _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__.VertexArrayObject(d,new Map([["a_pos",0]]),{geometry:[new _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_8__.VertexElementDescriptor("a_pos",2,_enums_js__WEBPACK_IMPORTED_MODULE_3__.DataType.UNSIGNED_SHORT,0,4)]},{geometry:x});d.useProgram(r);const w=d.getBoundFramebufferObject(),{x:j,y:T,width:A,height:h}=d.getViewport();d.bindFramebuffer(_),d.setViewport(0,0,1,1),d.bindVAO(F),d.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLE_STRIP,0,4);const y=(0,_renderState_js__WEBPACK_IMPORTED_MODULE_5__.makePipelineState)({blending:_3d_webgl_engine_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_0__.blendingAlpha});d.setPipelineState(y),d.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_3__.PrimitiveType.TRIANGLE_STRIP,0,4);const E=d.gl.getError();return d.setViewport(j,T,A,h),d.bindFramebuffer(w),F.dispose(),_.dispose(),1282!==E||(console.warn("Device claims support for WebGL extension EXT_float_blend but does not support it. Using fall back."),!1)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/testSamplerPrecision.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/testSamplerPrecision.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IgnoresSamplerPrecision": () => (/* binding */ g)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FramebufferObject.js */ "./node_modules/@arcgis/core/views/webgl/FramebufferObject.js");
/* harmony import */ var _Texture_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/* harmony import */ var _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/* harmony import */ var _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/* harmony import */ var _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WebGLDriverTestModule.js */ "./node_modules/@arcgis/core/views/webgl/WebGLDriverTestModule.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class g extends _WebGLDriverTestModule_js__WEBPACK_IMPORTED_MODULE_8__.WebGLDriverTestModule{constructor(e){super(),this._rctx=e;const r="\n      precision highp float;\n      attribute vec2 a_pos;\n      uniform highp sampler2D u_texture;\n      varying vec4 v_color;\n\n      float getBit(in float bitset, in int bitIndex) {\n        float offset = pow(2.0, float(bitIndex));\n        return mod(floor(bitset / offset), 2.0);\n      }\n\n      void main() {\n        vec4 value = texture2D(u_texture, vec2(0.0));\n        float bit = getBit(value.x * 255.0, 1);\n\n        v_color = bit * vec4(1.0);\n        gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\n      }\n      ",t="\n      precision highp float;\n      varying vec4 v_color;\n\n      void main() {\n        gl_FragColor = v_color;\n      }\n      ";this._program=e.programCache.acquire(r,t,new Map([["a_pos",0]]))}_test(d){const g=this._rctx,b=new _TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_5__.TextureDescriptor(1);b.wrapMode=_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureWrapMode.CLAMP_TO_EDGE,b.samplingMode=_enums_js__WEBPACK_IMPORTED_MODULE_2__.TextureSamplingMode.NEAREST;const w=new _FramebufferObject_js__WEBPACK_IMPORTED_MODULE_3__.FramebufferObject(g,b),v=new Uint8Array(4),_=_BufferObject_js__WEBPACK_IMPORTED_MODULE_1__.BufferObject.createVertex(g,_enums_js__WEBPACK_IMPORTED_MODULE_2__.Usage.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),h=new _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(g,new Map([["a_position",0]]),{geometry:[new _VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_7__.VertexElementDescriptor("a_position",2,_enums_js__WEBPACK_IMPORTED_MODULE_2__.DataType.SHORT,0,4)]},{geometry:_});g.useProgram(d);const x=new _Texture_js__WEBPACK_IMPORTED_MODULE_4__.Texture(g,b,new Uint8Array([2,255,0,0]));d.setUniform1i("u_texture",0),g.bindTexture(x,0);const y=g.getBoundFramebufferObject();g.bindFramebuffer(w),g.useProgram(d);const{x:A,y:j,width:T,height:D}=g.getViewport();g.setViewport(0,0,1,1),g.bindVAO(h),g.drawArrays(_enums_js__WEBPACK_IMPORTED_MODULE_2__.PrimitiveType.TRIANGLE_STRIP,0,4),g.setViewport(A,j,T,D),w.readPixels(0,0,1,1,_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelFormat.RGBA,_enums_js__WEBPACK_IMPORTED_MODULE_2__.PixelType.UNSIGNED_BYTE,v),h.dispose(),w.dispose();const E=255!==v[0]||255!==v[1]||255!==v[2]||255!==v[3];return E&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.webgl.testSamplerPrecision").warn(`A problem was detected with your graphics driver. Your driver does not appear to honor sampler precision specifiers, which may result in rendering issues due to numerical instability. We recommend ensuring that your drivers have been updated to the latest version. Applying lowp sampler workaround. [${v[0]}.${v[1]}.${v[2]}.${v[3]}]`),g.bindFramebuffer(y),E}}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9jaHVua3MvYWZlYjFlZDkzMmU5OGUzODk5YjQzNGI2YjdkZmY0MDEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxjQUFjLG9CQUFvQixRQUFRLG9CQUFvQixZQUFZLDRCQUE0QixTQUFTLGtDQUFrQyxXQUFXLDJCQUEyQixpREFBaUQsWUFBWSwyQkFBMkIsbURBQW1ELFdBQVcsc0NBQTZEOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0psWjtBQUNBO0FBQ0E7QUFDQTtBQUM2SCxZQUFZLFNBQVMsc0JBQXNCLFlBQVksV0FBVyxLQUFLLGFBQWEscURBQXFELFNBQVMsT0FBTyxXQUFXLGtCQUFrQixhQUFhLE9BQU8sd0VBQUMsSUFBSSxlQUFlLHFGQUFxRixPQUFPLHNCQUFzQixlQUFlLHFFQUFDLElBQUksRUFBRSx5QkFBeUIscUVBQUMsSUFBSSxFQUFFLFdBQThDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0pqakI7QUFDQTtBQUNBO0FBQ0E7QUFDb0csZ0JBQWdCLGdFQUFDLENBQUMsa0JBQWtCLHFKQUFxSixvRUFBSyw2REFBNkQsMEVBQVcsbUZBQW1GLG9CQUFvQixNQUFNLFVBQVUseUJBQXlCLGtFQUF1Rjs7Ozs7Ozs7Ozs7Ozs7O0FDSmpsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZUFBZSxzRUFBc0UsbUJBQW1CLEVBQUUsT0FBTywyQ0FBMkMsVUFBVSw0QkFBNEIsa0JBQWtCLFNBQVMsNkJBQTZCLE1BQU0sd0JBQXdCLDRCQUE0QixnQkFBZ0IsK0JBQStCLHlCQUF5QixzQkFBc0Isc0JBQXNCLDBCQUEwQixFQUFFLElBQUksVUFBVSwyQkFBMkIsRUFBRSxNQUFNLEdBQUcsVUFBd0M7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSnhpQjtBQUNBO0FBQ0E7QUFDQTtBQUNxSSxRQUFRLGVBQWUsbUdBQW1HLDBCQUEwQixPQUFPLG1EQUFtRCx5QkFBeUIsa0VBQWtFLE9BQU8sdURBQXVELDJCQUEyQix5QkFBeUIs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QyxvRUFBQywyQkFBMkIsY0FBYyxnRkFBQyxXQUFXLDhEQUFnQixPQUFPLEVBQUUsV0FBVyxFQUFFLGdCQUFnQix1Q0FBdUMseUJBQXlCLGlCQUFpQixzRUFBc0UsbUVBQWdCLE1BQU0sUUFBUSxrRUFBQyxFQUFFLFNBQVMsK0ZBQUMsQ0FBQyxFQUFFLG1DQUFtQyxtRUFBZ0IsTUFBTSx3QkFBd0IsK01BQTZPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNKOXNFO0FBQ0E7QUFDQTtBQUNBO0FBQ3lrQixnQkFBZ0IsNEVBQUMsQ0FBQyxlQUFlLHFCQUFxQix1Q0FBdUMsNkJBQTZCLDBDQUEwQyw2QkFBNkIsMERBQTBELG1EQUFtRCxrREFBa0QsU0FBUyx1QkFBdUIsdURBQXVELGlEQUFpRCxzQ0FBc0MsMERBQTBELFNBQVMsMkNBQTJDLDZCQUE2Qix1QkFBdUIsaUNBQWlDLFNBQVMsVUFBVSxpRUFBaUUsU0FBUyx5QkFBeUIsb0VBQUMsSUFBSSxXQUFXLG9FQUFlLGdCQUFnQixrRUFBUyxDQUFDLFlBQVksb0VBQUMsNEJBQTRCLHVFQUFjLEdBQUcsd0RBQWEsMkNBQTJDLG9FQUFDLGdDQUFnQyxjQUFjLGdGQUFDLGdCQUFnQixxREFBTyxPQUFPLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixZQUFZLGdEQUFDLGtDQUFrQyxpREFBaUQsc0NBQXNDLHFDQUFxQyxNQUFNLHlCQUF5QixpQkFBaUIsaURBQWlELG1FQUFnQixrREFBa0QsdURBQU0sQ0FBQyw4REFBZSw0QkFBNEIsdURBQXVELFVBQVUsaUVBQVcsOFZBQThWLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssNEJBQWlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvY29yZS9OZXN0ZWRNYXAuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3MvMmQvZW5naW5lL3dlYmdsL3NoYWRlcnMvTWF0ZXJpYWxQcm9ncmFtcy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy8yZC9sYXllcnMvZ3JhcGhpY3MvR3JhcGhpY0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy9zdXBwb3J0L0FsbG9jYXRpb25UcmFjZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3Mvd2ViZ2wvQXBwbGVBbWREcml2ZXJIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3Mvd2ViZ2wvQ29udGV4dFN0YXRlLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3dlYmdsL0luc3RhbmNlQ291bnRlci5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9QYXJhbWV0ZXJzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3dlYmdsL1Byb2dyYW1DYWNoZS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9SZW5kZXJpbmdDb250ZXh0LmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3dlYmdsL1dlYkdMRHJpdmVyVGVzdC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9jYXBhYmlsaXRpZXMvQ2FwYWJpbGl0aWVzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGFyY2dpcy9jb3JlL3ZpZXdzL3dlYmdsL2NhcGFiaWxpdGllcy9EcmF3QnVmZmVycy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9jYXBhYmlsaXRpZXMvSW5zdGFuY2luZy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9jYXBhYmlsaXRpZXMvTG9zZUNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3Mvd2ViZ2wvY2FwYWJpbGl0aWVzL1ZlcnRleEFycmF5T2JqZWN0cy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9jYXBhYmlsaXRpZXMvbG9hZC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9kb3VibGVQcmVjaXNpb25VdGlscy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC9wcm9ncmFtVXRpbHMuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYXJjZ2lzL2NvcmUvdmlld3Mvd2ViZ2wvdGVzdEFwcGxlQW1kRHJhd0FycmF5cy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC90ZXN0RG91YmxlUHJlY2lzaW9uQXJpdGhtZXRpYy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC90ZXN0RmxvYXRCdWZmZXJCbGVuZC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BhcmNnaXMvY29yZS92aWV3cy93ZWJnbC90ZXN0U2FtcGxlclByZWNpc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcigpe3RoaXMuX291dGVyPW5ldyBNYXB9Y2xlYXIoKXt0aGlzLl9vdXRlci5jbGVhcigpfWdldCBlbXB0eSgpe3JldHVybiAwPT09dGhpcy5fb3V0ZXIuc2l6ZX1nZXQodCxlKXtyZXR1cm4gdGhpcy5fb3V0ZXIuZ2V0KHQpPy5nZXQoZSl9c2V0KHQsZSxyKXtjb25zdCBzPXRoaXMuX291dGVyLmdldCh0KTtzP3Muc2V0KGUscik6dGhpcy5fb3V0ZXIuc2V0KHQsbmV3IE1hcChbW2Uscl1dKSl9ZGVsZXRlKHQsZSl7Y29uc3Qgcj10aGlzLl9vdXRlci5nZXQodCk7ciYmKHIuZGVsZXRlKGUpLDA9PT1yLnNpemUmJnRoaXMuX291dGVyLmRlbGV0ZSh0KSl9Zm9yRWFjaCh0KXt0aGlzLl9vdXRlci5mb3JFYWNoKCgoZSxyKT0+dChlLHIpKSl9fWV4cG9ydHt0IGFzIE5lc3RlZE1hcH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e3Jlc29sdmVJbmNsdWRlcyBhcyByfWZyb21cIi4vc291cmNlcy9yZXNvbHZlci5qc1wiO2ltcG9ydHtnbHNsaWZ5RGVmaW5lTWFwIGFzIHR9ZnJvbVwiLi4vLi4vLi4vLi4vd2ViZ2wvcHJvZ3JhbVV0aWxzLmpzXCI7Y29uc3QgZT1yPT57bGV0IHQ9XCJcIjt0Kz1yWzBdLnRvVXBwZXJDYXNlKCk7Zm9yKGxldCBlPTE7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IHM9cltlXTtzPT09cy50b1VwcGVyQ2FzZSgpPyh0Kz1cIl9cIix0Kz1zKTp0Kz1zLnRvVXBwZXJDYXNlKCl9cmV0dXJuIHR9LHM9cj0+e2NvbnN0IHM9e307Zm9yKGNvbnN0IHQgaW4gcil7c1tlKHQpXT1yW3RdfXJldHVybiB0KHMpfSxvPSh0LGUsbyxuKT0+e2NvbnN0IGE9dCt0LnN1YnN0cmluZyh0Lmxhc3RJbmRleE9mKFwiL1wiKSkscD1lK2Uuc3Vic3RyaW5nKGUubGFzdEluZGV4T2YoXCIvXCIpKSxmPXMobik7cmV0dXJue2F0dHJpYnV0ZXM6byxzaGFkZXJzOnt2ZXJ0ZXhTaGFkZXI6ZityKGAke2F9LnZlcnRgKSxmcmFnbWVudFNoYWRlcjpmK3IoYCR7cH0uZnJhZ2ApfX19O2V4cG9ydHtvIGFzIGNyZWF0ZVByb2dyYW1UZW1wbGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e1dHTERyYXdQaGFzZSBhcyBlfWZyb21cIi4uLy4uL2VuZ2luZS93ZWJnbC9lbnVtcy5qc1wiO2ltcG9ydCByIGZyb21cIi4vQmFzZUdyYXBoaWNDb250YWluZXIuanNcIjtjbGFzcyBpIGV4dGVuZHMgcntyZW5kZXJDaGlsZHJlbihyKXt0aGlzLmF0dHJpYnV0ZVZpZXcudXBkYXRlKCksdGhpcy5jaGlsZHJlbi5zb21lKChlPT5lLmhhc0RhdGEpKSYmKHRoaXMuYXR0cmlidXRlVmlldy5iaW5kVGV4dHVyZXMoci5jb250ZXh0LCExKSxzdXBlci5yZW5kZXJDaGlsZHJlbihyKSxyLmRyYXdQaGFzZT09PWUuTUFQJiZ0aGlzLl9yZW5kZXJDaGlsZHJlbihyKSx0aGlzLmhhc0hpZ2hsaWdodCgpJiZyLmRyYXdQaGFzZT09PWUuSElHSExJR0hUJiZ0aGlzLl9yZW5kZXJIaWdobGlnaHQociksdGhpcy5fYm91bmRzUmVuZGVyZXImJnRoaXMuX2JvdW5kc1JlbmRlcmVyLmRvUmVuZGVyKHIpKX1fcmVuZGVySGlnaGxpZ2h0KGUpe2NvbnN0e3BhaW50ZXI6cn09ZSxpPXIuZWZmZWN0cy5oaWdobGlnaHQ7aS5iaW5kKGUpLHRoaXMuX3JlbmRlckNoaWxkcmVuKGUsaS5kZWZpbmVzKSxpLmRyYXcoZSksaS51bmJpbmQoKX19ZXhwb3J0e2kgYXMgZGVmYXVsdH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuY2xhc3MgdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9hbGxvY2F0aW9ucz1uZXcgTWFwLHQ/RXJyb3Iuc3RhY2tUcmFjZUxpbWl0PTEvMDoodGhpcy5hZGQ9KCk9Pnt9LHRoaXMucmVtb3ZlPSgpPT57fSl9YWRkKHQpe3RoaXMuX2FsbG9jYXRpb25zLnNldCh0LChuZXcgRXJyb3IpLnN0YWNrKX1yZW1vdmUodCl7dGhpcy5fYWxsb2NhdGlvbnMuZGVsZXRlKHQpfWdldCBpbmZvcm1hdGlvbigpe2xldCB0PVwiXCI7aWYodGhpcy5fYWxsb2NhdGlvbnMuc2l6ZT4wKXt0Kz1gJHt0aGlzLl9hbGxvY2F0aW9ucy5zaXplfSBsaXZlIG9iamVjdCBhbGxvY2F0aW9uczpcXG5gO2NvbnN0IHM9bmV3IE1hcDt0aGlzLl9hbGxvY2F0aW9ucy5mb3JFYWNoKCh0PT57cy5zZXQodCwocy5nZXQodCk/PzApKzEpfSkpLHMuZm9yRWFjaCgoKHMsbyk9Pntjb25zdCBpPW8uc3BsaXQoXCJcXG5cIik7aS5zaGlmdCgpLGkuc2hpZnQoKSx0Kz1gJHtzfTogJHtpLnNoaWZ0KCl9XFxuYCxpLmZvckVhY2goKHM9PnQrPWAgICAke3N9XFxuYCkpfSkpfXJldHVybiB0fX1leHBvcnR7dCBhcyBBbGxvY2F0aW9uVHJhY2VyfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7QnVmZmVyT2JqZWN0IGFzIGV9ZnJvbVwiLi9CdWZmZXJPYmplY3QuanNcIjtpbXBvcnR7VXNhZ2UgYXMgcixCdWZmZXJUeXBlIGFzIHQsUHJpbWl0aXZlVHlwZSBhcyBpLERhdGFUeXBlIGFzIHN9ZnJvbVwiLi9lbnVtcy5qc1wiO2NsYXNzIG57Y29uc3RydWN0b3IoZSl7dGhpcy5fcmN0eD1lLHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX2NyZWF0ZUluZGV4YnVmZmVyKCksdGhpcy5fcHJvZ3JhbT10aGlzLl9jcmVhdGVIZWxwZXJQcm9ncmFtKCl9c3RhdGljIGdldFNoYWRlclNvdXJjZXMoKXtyZXR1cm57dmVydGV4OlwiI3ZlcnNpb24gMzAwIGVzXFxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG4gICAgdm9pZCBtYWluKHZvaWQpIHtcXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoMC4wLCAwLjAsIGZsb2F0KGdsX1ZlcnRleElEKS0yLjAsIDEuMCk7XFxuICAgIH1cIixmcmFnbWVudDpcIiN2ZXJzaW9uIDMwMCBlc1xcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxuICAgIG91dCB2ZWM0IGZyYWdDb2xvcjtcXG5cXG4gICAgdm9pZCBtYWluKHZvaWQpIHtcXG4gICAgICBmcmFnQ29sb3IgPSB2ZWM0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XFxuICAgIH1cIn19X2NyZWF0ZUhlbHBlclByb2dyYW0oKXtjb25zdCBlPW4uZ2V0U2hhZGVyU291cmNlcygpO3JldHVybiB0aGlzLl9yY3R4LnByb2dyYW1DYWNoZS5hY3F1aXJlKGUudmVydGV4LGUuZnJhZ21lbnQsbmV3IE1hcChbXSkpfV9jcmVhdGVJbmRleGJ1ZmZlcigpe3JldHVybiBlLmNyZWF0ZUluZGV4KHRoaXMuX3JjdHgsci5TVEFUSUNfRFJBVyxuZXcgVWludDMyQXJyYXkoWzBdKSl9cmVzZXRJbmRpY2VzVHlwZSgpe3RoaXMuX3Byb2dyYW0uY29tcGlsZWQmJnRoaXMuX2luZGV4QnVmZmVyJiYodGhpcy5fcmN0eC5iaW5kVkFPKG51bGwpLHRoaXMuX3JjdHgudXNlUHJvZ3JhbSh0aGlzLl9wcm9ncmFtKSx0aGlzLl9yY3R4LmJpbmRCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIsdC5FTEVNRU5UX0FSUkFZX0JVRkZFUiksdGhpcy5fcmN0eC5kcmF3RWxlbWVudHMoaS5QT0lOVFMsMSxzLlVOU0lHTkVEX0lOVCwwKSl9ZGlzcG9zZSgpe3RoaXMuX3Byb2dyYW0uZGlzcG9zZSgpLHRoaXMuX2luZGV4QnVmZmVyLmRpc3Bvc2UoKX19ZXhwb3J0e24gYXMgQXBwbGVBbWREcml2ZXJIZWxwZXJ9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtCbGVuZEZhY3RvciBhcyB0LEJsZW5kT3BlcmF0aW9uIGFzIGUsRmFjZSBhcyBpLEN1bGxNb2RlIGFzIHMsQ29tcGFyZUZ1bmN0aW9uIGFzIHIsU3RlbmNpbE9wZXJhdGlvbiBhcyBsfWZyb21cIi4vZW51bXMuanNcIjtjbGFzcyBoe2NvbnN0cnVjdG9yKCl7dGhpcy5ibGVuZD0hMSx0aGlzLmJsZW5kQ29sb3I9e3I6MCxnOjAsYjowLGE6MH0sdGhpcy5ibGVuZEZ1bmN0aW9uPXtzcmNSR0I6dC5PTkUsZHN0UkdCOnQuWkVSTyxzcmNBbHBoYTp0Lk9ORSxkc3RBbHBoYTp0LlpFUk99LHRoaXMuYmxlbmRFcXVhdGlvbj17bW9kZTplLkFERCxtb2RlQWxwaGE6ZS5BRER9LHRoaXMuY29sb3JNYXNrPXtyOiEwLGc6ITAsYjohMCxhOiEwfSx0aGlzLmZhY2VDdWxsaW5nPSExLHRoaXMuY3VsbEZhY2U9aS5CQUNLLHRoaXMuZnJvbnRGYWNlPXMuQ0NXLHRoaXMuc2Npc3NvclRlc3Q9ITEsdGhpcy5zY2lzc29yUmVjdD17eDowLHk6MCx3aWR0aDowLGhlaWdodDowfSx0aGlzLmRlcHRoVGVzdD0hMSx0aGlzLmRlcHRoRnVuY3Rpb249ci5MRVNTLHRoaXMuY2xlYXJEZXB0aD0xLHRoaXMuZGVwdGhXcml0ZT0hMCx0aGlzLmRlcHRoUmFuZ2U9e3pOZWFyOjAsekZhcjoxfSx0aGlzLnZpZXdwb3J0PW51bGwsdGhpcy5zdGVuY2lsVGVzdD0hMSx0aGlzLnBvbHlnb25PZmZzZXRGaWxsPSExLHRoaXMucG9seWdvbk9mZnNldD1bMCwwXSx0aGlzLnN0ZW5jaWxGdW5jdGlvbj17ZmFjZTppLkZST05UX0FORF9CQUNLLGZ1bmM6ci5BTFdBWVMscmVmOjAsbWFzazoxfSx0aGlzLmNsZWFyU3RlbmNpbD0wLHRoaXMuc3RlbmNpbFdyaXRlTWFzaz0xLHRoaXMuc3RlbmNpbE9wZXJhdGlvbj17ZmFjZTppLkZST05UX0FORF9CQUNLLGZhaWw6bC5LRUVQLHpGYWlsOmwuS0VFUCx6UGFzczpsLktFRVB9LHRoaXMuY2xlYXJDb2xvcj17cjowLGc6MCxiOjAsYTowfSx0aGlzLnByb2dyYW09bnVsbCx0aGlzLnZlcnRleEJ1ZmZlcj1udWxsLHRoaXMuaW5kZXhCdWZmZXI9bnVsbCx0aGlzLnVuaWZvcm1CdWZmZXI9bnVsbCx0aGlzLnBpeGVsUGFja0J1ZmZlcj1udWxsLHRoaXMucGl4ZWxVbnBhY2tCdWZmZXI9bnVsbCx0aGlzLmNvcHlSZWFkQnVmZmVyPW51bGwsdGhpcy5jb3B5V3JpdGVCdWZmZXI9bnVsbCx0aGlzLnVuaWZvcm1CdWZmZXJCaW5kaW5nUG9pbnRzPW5ldyBBcnJheSx0aGlzLnJlYWRGcmFtZWJ1ZmZlcj1udWxsLHRoaXMuZHJhd0ZyYW1lYnVmZmVyPW51bGwsdGhpcy5yZW5kZXJidWZmZXI9bnVsbCx0aGlzLmFjdGl2ZVRleHR1cmU9MCx0aGlzLnRleHR1cmVVbml0TWFwPW5ldyBBcnJheSx0aGlzLnZlcnRleEFycmF5T2JqZWN0PW51bGx9fWV4cG9ydHtoIGFzIENvbnRleHRTdGF0ZX07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0e0FsbG9jYXRpb25UcmFjZXIgYXMgdH1mcm9tXCIuLi9zdXBwb3J0L0FsbG9jYXRpb25UcmFjZXIuanNcIjtpbXBvcnR7UmVzb3VyY2VUeXBlIGFzIHJ9ZnJvbVwiLi9lbnVtcy5qc1wiO2NvbnN0IGU9e1JFQ09SRF9BTExPQ0FUSU9OUzohMX07Y2xhc3Mgc3tjb25zdHJ1Y3Rvcigpe2Zvcih0aGlzLl9jdXJyZW50PW5ldyBBcnJheSx0aGlzLl9tYXg9bmV3IEFycmF5LHRoaXMuX2FsbG9jYXRpb25zPW5ldyB0KGUuUkVDT1JEX0FMTE9DQVRJT05TKTt0aGlzLl9jdXJyZW50Lmxlbmd0aDxyLkNPVU5UOyl0aGlzLl9jdXJyZW50LnB1c2goMCksdGhpcy5fbWF4LnB1c2goMCl9cmVzZXRNYXgoKXtmb3IodGhpcy5fbWF4Lmxlbmd0aD0wO3RoaXMuX21heC5sZW5ndGg8dGhpcy5fY3VycmVudC5sZW5ndGg7KXRoaXMuX21heC5wdXNoKDApfWluY3JlbWVudCh0LHIpe2NvbnN0IGU9Kyt0aGlzLl9jdXJyZW50W3RdO3RoaXMuX21heFt0XT1NYXRoLm1heChlLHRoaXMuX21heFt0XSksdGhpcy5fYWxsb2NhdGlvbnMuYWRkKHIpfWRlY3JlbWVudCh0LHIpey0tdGhpcy5fY3VycmVudFt0XSx0aGlzLl9hbGxvY2F0aW9ucy5yZW1vdmUocil9Z2V0IG1heCgpe3JldHVybiB0aGlzLl9tYXh9Z2V0IGN1cnJlbnQoKXtyZXR1cm4gdGhpcy5fY3VycmVudH1nZXQgdG90YWwoKXtyZXR1cm4gdGhpcy5jdXJyZW50LnJlZHVjZSgoKHQscik9PnQrciksMCl9Z2V0IHJlc291cmNlSW5mb3JtYXRpb24oKXtsZXQgdD1cIlwiO2lmKHRoaXMudG90YWw+MCl7dCs9XCJMaXZlIG9iamVjdHM6XFxuXCI7Zm9yKGxldCBlPTA7ZTxyLkNPVU5UOysrZSl7Y29uc3Qgcz10aGlzLl9jdXJyZW50W2VdO3M+MCYmKHQrPWAke3JbZV19OiAke3N9XFxuYCl9fXJldHVybiB0Kz10aGlzLl9hbGxvY2F0aW9ucy5pbmZvcm1hdGlvbix0fX1leHBvcnR7cyBhcyBJbnN0YW5jZUNvdW50ZXIsZSBhcyB0ZXN0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnQgZSBmcm9tXCIuL2NhcGFiaWxpdGllcy9pc1dlYkdMMkNvbnRleHQuanNcIjtjbGFzcyB0e2NvbnN0cnVjdG9yKHQscixhKXtjb25zdCBpPXIudGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLG09YS5tYXhBbmlzb3Ryb3B5Pz8xLzA7dGhpcy52ZXJzaW9uU3RyaW5nPXQuZ2V0UGFyYW1ldGVyKHQuVkVSU0lPTiksdGhpcy5tYXhWZXJ0ZXhUZXh0dXJlSW1hZ2VVbml0cz10LmdldFBhcmFtZXRlcih0Lk1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUUyksdGhpcy5tYXhWZXJ0ZXhBdHRyaWJ1dGVzPXQuZ2V0UGFyYW1ldGVyKHQuTUFYX1ZFUlRFWF9BVFRSSUJTKSx0aGlzLm1heE1heEFuaXNvdHJvcHk9aT9NYXRoLm1pbih0LmdldFBhcmFtZXRlcihpLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZKSxtKToxLHRoaXMubWF4VGV4dHVyZUltYWdlVW5pdHM9dC5nZXRQYXJhbWV0ZXIodC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksdGhpcy5tYXhUZXh0dXJlU2l6ZT10LmdldFBhcmFtZXRlcih0Lk1BWF9URVhUVVJFX1NJWkUpLHRoaXMubWF4UmVuZGVyYnVmZmVyU2l6ZT10LmdldFBhcmFtZXRlcih0Lk1BWF9SRU5ERVJCVUZGRVJfU0laRSksdGhpcy5tYXhWaWV3cG9ydERpbXM9dC5nZXRQYXJhbWV0ZXIodC5NQVhfVklFV1BPUlRfRElNUyksZSh0KT8odGhpcy5tYXhVbmlmb3JtQnVmZmVyQmluZGluZ3M9dC5nZXRQYXJhbWV0ZXIodC5NQVhfVU5JRk9STV9CVUZGRVJfQklORElOR1MpLHRoaXMubWF4VmVydGV4VW5pZm9ybUJsb2Nrcz10LmdldFBhcmFtZXRlcih0Lk1BWF9WRVJURVhfVU5JRk9STV9CTE9DS1MpLHRoaXMubWF4RnJhZ21lbnRVbmlmb3JtQmxvY2tzPXQuZ2V0UGFyYW1ldGVyKHQuTUFYX0ZSQUdNRU5UX1VOSUZPUk1fQkxPQ0tTKSx0aGlzLm1heFVuaWZvcm1CbG9ja1NpemU9dC5nZXRQYXJhbWV0ZXIodC5NQVhfVU5JRk9STV9CTE9DS19TSVpFKSx0aGlzLnVuaWZvcm1CdWZmZXJPZmZzZXRBbGlnbm1lbnQ9dC5nZXRQYXJhbWV0ZXIodC5VTklGT1JNX0JVRkZFUl9PRkZTRVRfQUxJR05NRU5UKSx0aGlzLm1heEFycmF5VGV4dHVyZUxheWVycz10LmdldFBhcmFtZXRlcih0Lk1BWF9BUlJBWV9URVhUVVJFX0xBWUVSUyksdGhpcy5tYXhTYW1wbGVzPXQuZ2V0UGFyYW1ldGVyKHQuTUFYX1NBTVBMRVMpKToodGhpcy5tYXhVbmlmb3JtQnVmZmVyQmluZGluZ3M9MCx0aGlzLm1heFZlcnRleFVuaWZvcm1CbG9ja3M9MCx0aGlzLm1heEZyYWdtZW50VW5pZm9ybUJsb2Nrcz0wLHRoaXMubWF4VW5pZm9ybUJsb2NrU2l6ZT0wLHRoaXMudW5pZm9ybUJ1ZmZlck9mZnNldEFsaWdubWVudD0xLHRoaXMubWF4QXJyYXlUZXh0dXJlTGF5ZXJzPTEsdGhpcy5tYXhTYW1wbGVzPTEpfX1leHBvcnR7dCBhcyBQYXJhbWV0ZXJzfTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7TmVzdGVkTWFwIGFzIHR9ZnJvbVwiLi4vLi4vY29yZS9OZXN0ZWRNYXAuanNcIjtpbXBvcnR7UHJvZ3JhbSBhcyByfWZyb21cIi4vUHJvZ3JhbS5qc1wiO2NsYXNzIGV7Y29uc3RydWN0b3Iocil7dGhpcy5fcmN0eD1yLHRoaXMuX3N0b3JlPW5ldyB0fWRpc3Bvc2UoKXt0aGlzLl9zdG9yZS5mb3JFYWNoKCh0PT50LmZvckVhY2goKHQ9PnQuZGlzcG9zZSgpKSkpKSx0aGlzLl9zdG9yZS5jbGVhcigpfWFjcXVpcmUodCxlLHMsbyl7Y29uc3QgYz10aGlzLl9zdG9yZS5nZXQodCxlKTtpZihudWxsIT1jKXJldHVybiBjLnJlZigpLGM7Y29uc3QgaD1uZXcgcih0aGlzLl9yY3R4LHQsZSxzLG8pO3JldHVybiBoLnJlZigpLHRoaXMuX3N0b3JlLnNldCh0LGUsaCksaH1nZXQgdGVzdCgpe2xldCB0PTA7cmV0dXJuIHRoaXMuX3N0b3JlLmZvckVhY2goKHI9PnIuZm9yRWFjaCgocj0+dCs9ci5oYXNHTE5hbWU/MjoxKSkpKSx7Y2FjaGVkV2ViR0xPYmplY3RzOnR9fX1leHBvcnR7ZSBhcyBQcm9ncmFtQ2FjaGV9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtkaXNwb3NlTWF5YmUgYXMgdH1mcm9tXCIuLi8uLi9jb3JlL21heWJlLmpzXCI7aW1wb3J0e2FmdGVyIGFzIGV9ZnJvbVwiLi4vLi4vY29yZS9wcm9taXNlVXRpbHMuanNcIjtpbXBvcnR7TWlsbGlzZWNvbmRzIGFzIHN9ZnJvbVwiLi4vLi4vY29yZS90aW1lLmpzXCI7aW1wb3J0e3dlYmdsRGVidWdFbmFibGVkIGFzIGl9ZnJvbVwiLi9jaGVja1dlYkdMRXJyb3IuanNcIjtpbXBvcnR7Q29udGV4dFN0YXRlIGFzIGF9ZnJvbVwiLi9Db250ZXh0U3RhdGUuanNcIjtpbXBvcnR7Q29udGV4dFR5cGUgYXMgcn1mcm9tXCIuL2NvbnRleHRVdGlscy5qc1wiO2ltcG9ydHtCdWZmZXJUeXBlIGFzIG4sRmFjZSBhcyBsLEJBU0VfVEVYVFVSRV9VTklUIGFzIGgsQ2xlYXJCdWZmZXJCaXQgYXMgZixGcmFtZWJ1ZmZlclRhcmdldCBhcyBvLFRleHR1cmVTYW1wbGluZ01vZGUgYXMgdSxTeW5jQ29uZGl0aW9uIGFzIGMsUmVzb3VyY2VUeXBlIGFzIF8sQ2xpZW50V2FpdFN5bmNTdGF0dXMgYXMgZCxCbGVuZEZhY3RvciBhcyBiLEJsZW5kT3BlcmF0aW9uIGFzIEYsQ3VsbE1vZGUgYXMgZyxDb21wYXJlRnVuY3Rpb24gYXMgcCxTdGVuY2lsT3BlcmF0aW9uIGFzIEIsQ29sb3JBdHRhY2htZW50IGFzIEUsVGV4dHVyZVR5cGUgYXMgUixQcmltaXRpdmVUeXBlIGFzIG19ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtJbnN0YW5jZUNvdW50ZXIgYXMgVH1mcm9tXCIuL0luc3RhbmNlQ291bnRlci5qc1wiO2ltcG9ydHtQYXJhbWV0ZXJzIGFzIE99ZnJvbVwiLi9QYXJhbWV0ZXJzLmpzXCI7aW1wb3J0e1Byb2dyYW1DYWNoZSBhcyBBfWZyb21cIi4vUHJvZ3JhbUNhY2hlLmpzXCI7aW1wb3J0e1N0YXRlVHJhY2tlciBhcyB4fWZyb21cIi4vcmVuZGVyU3RhdGUuanNcIjtpbXBvcnR7VGV4dHVyZSBhcyBDfWZyb21cIi4vVGV4dHVyZS5qc1wiO2ltcG9ydHtnZXRFcnJvclN0cmluZyBhcyBVfWZyb21cIi4vVXRpbC5qc1wiO2ltcG9ydHtXZWJHTERyaXZlclRlc3QgYXMgU31mcm9tXCIuL1dlYkdMRHJpdmVyVGVzdC5qc1wiO2ltcG9ydHtDYXBhYmlsaXRpZXMgYXMga31mcm9tXCIuL2NhcGFiaWxpdGllcy9DYXBhYmlsaXRpZXMuanNcIjtpbXBvcnQgeSBmcm9tXCIuL2NhcGFiaWxpdGllcy9pc1dlYkdMMkNvbnRleHQuanNcIjtsZXQgUD1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZ2w9dCx0aGlzLmluc3RhbmNlQ291bnRlcj1uZXcgVCx0aGlzLnByb2dyYW1DYWNoZT1uZXcgQSh0aGlzKSx0aGlzLl9zdGF0ZT1uZXcgYSx0aGlzLl9udW1PZkRyYXdDYWxscz0wLHRoaXMuX251bU9mVHJpYW5nbGVzPTAsdGhpcy50eXBlPXkodCk/ci5XRUJHTDI6ci5XRUJHTDEsdGhpcy5fbG9hZEV4dGVuc2lvbnMoKSx0aGlzLmNvbmZpZ3VyZShlKX1nZXQgZ2wyKCl7cmV0dXJuIHRoaXMudHlwZT09PXIuV0VCR0wxP251bGw6dGhpcy5nbH1jb25maWd1cmUoZSl7dGhpcy5fY2FwYWJpbGl0aWVzPW5ldyBrKHRoaXMuZ2wsZSksdGhpcy5fcGFyYW1ldGVycz1uZXcgTyh0aGlzLmdsLHRoaXMuX2NhcGFiaWxpdGllcyxlKSxDLlRFWFRVUkVfVU5JVF9GT1JfVVBEQVRFUz10aGlzLl9wYXJhbWV0ZXJzLm1heFRleHR1cmVJbWFnZVVuaXRzLTE7Y29uc3Qgcz10aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmdsLlZJRVdQT1JUKTt0aGlzLl9zdGF0ZT1uZXcgYSx0aGlzLl9zdGF0ZS52aWV3cG9ydD17eDpzWzBdLHk6c1sxXSx3aWR0aDpzWzJdLGhlaWdodDpzWzNdfSx0aGlzLl9zdGF0ZVRyYWNrZXI9bmV3IHgoe3NldEJsZW5kaW5nOnQ9PntpZih0KXt0aGlzLnNldEJsZW5kaW5nRW5hYmxlZCghMCksdGhpcy5zZXRCbGVuZEVxdWF0aW9uU2VwYXJhdGUodC5vcFJnYix0Lm9wQWxwaGEpLHRoaXMuc2V0QmxlbmRGdW5jdGlvblNlcGFyYXRlKHQuc3JjUmdiLHQuZHN0UmdiLHQuc3JjQWxwaGEsdC5kc3RBbHBoYSk7Y29uc3QgZT10LmNvbG9yO3RoaXMuc2V0QmxlbmRDb2xvcihlLnIsZS5nLGUuYixlLmEpfWVsc2UgdGhpcy5zZXRCbGVuZGluZ0VuYWJsZWQoITEpfSxzZXRDdWxsaW5nOnQ9Pnt0Pyh0aGlzLnNldEZhY2VDdWxsaW5nRW5hYmxlZCghMCksdGhpcy5zZXRDdWxsRmFjZSh0LmZhY2UpLHRoaXMuc2V0RnJvbnRGYWNlKHQubW9kZSkpOnRoaXMuc2V0RmFjZUN1bGxpbmdFbmFibGVkKCExKX0sc2V0UG9seWdvbk9mZnNldDp0PT57dD8odGhpcy5zZXRQb2x5Z29uT2Zmc2V0RmlsbEVuYWJsZWQoITApLHRoaXMuc2V0UG9seWdvbk9mZnNldCh0LmZhY3Rvcix0LnVuaXRzKSk6dGhpcy5zZXRQb2x5Z29uT2Zmc2V0RmlsbEVuYWJsZWQoITEpfSxzZXREZXB0aFRlc3Q6dD0+e3Q/KHRoaXMuc2V0RGVwdGhUZXN0RW5hYmxlZCghMCksdGhpcy5zZXREZXB0aEZ1bmN0aW9uKHQuZnVuYykpOnRoaXMuc2V0RGVwdGhUZXN0RW5hYmxlZCghMSl9LHNldFN0ZW5jaWxUZXN0OnQ9PntpZih0KXt0aGlzLnNldFN0ZW5jaWxUZXN0RW5hYmxlZCghMCk7Y29uc3QgZT10LmZ1bmN0aW9uO3RoaXMuc2V0U3RlbmNpbEZ1bmN0aW9uKGUuZnVuYyxlLnJlZixlLm1hc2spO2NvbnN0IHM9dC5vcGVyYXRpb247dGhpcy5zZXRTdGVuY2lsT3Aocy5mYWlsLHMuekZhaWwscy56UGFzcyl9ZWxzZSB0aGlzLnNldFN0ZW5jaWxUZXN0RW5hYmxlZCghMSl9LHNldERlcHRoV3JpdGU6dD0+e3Q/KHRoaXMuc2V0RGVwdGhXcml0ZUVuYWJsZWQoITApLHRoaXMuc2V0RGVwdGhSYW5nZSh0LnpOZWFyLHQuekZhcikpOnRoaXMuc2V0RGVwdGhXcml0ZUVuYWJsZWQoITEpfSxzZXRDb2xvcldyaXRlOnQ9Pnt0P3RoaXMuc2V0Q29sb3JNYXNrKHQucix0LmcsdC5iLHQuYSk6dGhpcy5zZXRDb2xvck1hc2soITEsITEsITEsITEpfSxzZXRTdGVuY2lsV3JpdGU6dD0+e3Q/dGhpcy5zZXRTdGVuY2lsV3JpdGVNYXNrKHQubWFzayk6dGhpcy5zZXRTdGVuY2lsV3JpdGVNYXNrKDApfX0pLHRoaXMuZW5mb3JjZVN0YXRlKCksdCh0aGlzLl9kcml2ZXJUZXN0KSx0aGlzLl9kcml2ZXJUZXN0PW5ldyBTKHRoaXMpfWRpc3Bvc2UoKXt0KHRoaXMuX2RyaXZlclRlc3QpLHRoaXMucHJvZ3JhbUNhY2hlLmRpc3Bvc2UoKSx0aGlzLmJpbmRWQU8obnVsbCksdGhpcy51bmJpbmRCdWZmZXIobi5BUlJBWV9CVUZGRVIpLHRoaXMudW5iaW5kQnVmZmVyKG4uRUxFTUVOVF9BUlJBWV9CVUZGRVIpLHRoaXMudHlwZT09PXIuV0VCR0wyJiYodGhpcy51bmJpbmRCdWZmZXIobi5VTklGT1JNX0JVRkZFUiksdGhpcy5fc3RhdGUudW5pZm9ybUJ1ZmZlckJpbmRpbmdQb2ludHMubGVuZ3RoPTAsdGhpcy51bmJpbmRCdWZmZXIobi5QSVhFTF9QQUNLX0JVRkZFUiksdGhpcy51bmJpbmRCdWZmZXIobi5QSVhFTF9VTlBBQ0tfQlVGRkVSKSx0aGlzLnVuYmluZEJ1ZmZlcihuLkNPUFlfUkVBRF9CVUZGRVIpLHRoaXMudW5iaW5kQnVmZmVyKG4uQ09QWV9XUklURV9CVUZGRVIpKSx0aGlzLl9zdGF0ZS50ZXh0dXJlVW5pdE1hcC5sZW5ndGg9MCxpKCkmJmNvbnNvbGUubG9nKHRoaXMuaW5zdGFuY2VDb3VudGVyLnJlc291cmNlSW5mb3JtYXRpb24pfWdldCBkcml2ZXJUZXN0KCl7cmV0dXJuIHRoaXMuX2RyaXZlclRlc3R9Z2V0IGNvbnRleHRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKX1nZXQgcGFyYW1ldGVycygpe3JldHVybiB0aGlzLl9wYXJhbWV0ZXJzfXNldFBpcGVsaW5lU3RhdGUodCl7dGhpcy5fc3RhdGVUcmFja2VyLnNldFBpcGVsaW5lKHQpfXNldEJsZW5kaW5nRW5hYmxlZCh0KXt0aGlzLl9zdGF0ZS5ibGVuZCE9PXQmJighMD09PXQ/dGhpcy5nbC5lbmFibGUodGhpcy5nbC5CTEVORCk6dGhpcy5nbC5kaXNhYmxlKHRoaXMuZ2wuQkxFTkQpLHRoaXMuX3N0YXRlLmJsZW5kPXQsdGhpcy5fc3RhdGVUcmFja2VyLmludmFsaWRhdGVCbGVuZGluZygpKX1leHRlcm5hbFByb2dyYW1VcGRhdGUoKXt0aGlzLl9zdGF0ZS5wcm9ncmFtPy5zdG9wKCksdGhpcy5fc3RhdGUucHJvZ3JhbT1udWxsfWV4dGVybmFsVGV4dHVyZVVuaXRVcGRhdGUodCxlKXtmb3IobGV0IHM9MDtzPHQubGVuZ3RoOysrcyl0aGlzLl9zdGF0ZS50ZXh0dXJlVW5pdE1hcFt0W3NdXT1udWxsO2U+PTAmJih0aGlzLl9zdGF0ZS5hY3RpdmVUZXh0dXJlPWUpfWV4dGVybmFsVmVydGV4QXJyYXlPYmplY3RVcGRhdGUoKXtjb25zdCB0PXRoaXMuY2FwYWJpbGl0aWVzLnZhbzt0JiYodC5iaW5kVmVydGV4QXJyYXkobnVsbCksdGhpcy5fc3RhdGUudmVydGV4QXJyYXlPYmplY3Q9bnVsbCksdGhpcy5fc3RhdGUudmVydGV4QnVmZmVyPW51bGwsdGhpcy5fc3RhdGUuaW5kZXhCdWZmZXI9bnVsbH1leHRlcm5hbFZlcnRleEJ1ZmZlclVwZGF0ZSgpe3RoaXMuX3N0YXRlLnZlcnRleEJ1ZmZlcj1udWxsfWV4dGVybmFsSW5kZXhCdWZmZXJVcGRhdGUoKXt0aGlzLl9zdGF0ZS5pbmRleEJ1ZmZlcj1udWxsfXNldEJsZW5kQ29sb3IodCxlLHMsaSl7dD09PXRoaXMuX3N0YXRlLmJsZW5kQ29sb3IuciYmZT09PXRoaXMuX3N0YXRlLmJsZW5kQ29sb3IuZyYmcz09PXRoaXMuX3N0YXRlLmJsZW5kQ29sb3IuYiYmaT09PXRoaXMuX3N0YXRlLmJsZW5kQ29sb3IuYXx8KHRoaXMuZ2wuYmxlbmRDb2xvcih0LGUscyxpKSx0aGlzLl9zdGF0ZS5ibGVuZENvbG9yLnI9dCx0aGlzLl9zdGF0ZS5ibGVuZENvbG9yLmc9ZSx0aGlzLl9zdGF0ZS5ibGVuZENvbG9yLmI9cyx0aGlzLl9zdGF0ZS5ibGVuZENvbG9yLmE9aSx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZUJsZW5kaW5nKCkpfXNldEJsZW5kRnVuY3Rpb24odCxlKXt0PT09dGhpcy5fc3RhdGUuYmxlbmRGdW5jdGlvbi5zcmNSR0ImJmU9PT10aGlzLl9zdGF0ZS5ibGVuZEZ1bmN0aW9uLmRzdFJHQnx8KHRoaXMuZ2wuYmxlbmRGdW5jKHQsZSksdGhpcy5fc3RhdGUuYmxlbmRGdW5jdGlvbi5zcmNSR0I9dCx0aGlzLl9zdGF0ZS5ibGVuZEZ1bmN0aW9uLnNyY0FscGhhPXQsdGhpcy5fc3RhdGUuYmxlbmRGdW5jdGlvbi5kc3RSR0I9ZSx0aGlzLl9zdGF0ZS5ibGVuZEZ1bmN0aW9uLmRzdEFscGhhPWUsdGhpcy5fc3RhdGVUcmFja2VyLmludmFsaWRhdGVCbGVuZGluZygpKX1zZXRCbGVuZEZ1bmN0aW9uU2VwYXJhdGUodCxlLHMsaSl7dGhpcy5fc3RhdGUuYmxlbmRGdW5jdGlvbi5zcmNSR0I9PT10JiZ0aGlzLl9zdGF0ZS5ibGVuZEZ1bmN0aW9uLnNyY0FscGhhPT09cyYmdGhpcy5fc3RhdGUuYmxlbmRGdW5jdGlvbi5kc3RSR0I9PT1lJiZ0aGlzLl9zdGF0ZS5ibGVuZEZ1bmN0aW9uLmRzdEFscGhhPT09aXx8KHRoaXMuZ2wuYmxlbmRGdW5jU2VwYXJhdGUodCxlLHMsaSksdGhpcy5fc3RhdGUuYmxlbmRGdW5jdGlvbi5zcmNSR0I9dCx0aGlzLl9zdGF0ZS5ibGVuZEZ1bmN0aW9uLnNyY0FscGhhPXMsdGhpcy5fc3RhdGUuYmxlbmRGdW5jdGlvbi5kc3RSR0I9ZSx0aGlzLl9zdGF0ZS5ibGVuZEZ1bmN0aW9uLmRzdEFscGhhPWksdGhpcy5fc3RhdGVUcmFja2VyLmludmFsaWRhdGVCbGVuZGluZygpKX1zZXRCbGVuZEVxdWF0aW9uKHQpe3RoaXMuX3N0YXRlLmJsZW5kRXF1YXRpb24ubW9kZSE9PXQmJih0aGlzLmdsLmJsZW5kRXF1YXRpb24odCksdGhpcy5fc3RhdGUuYmxlbmRFcXVhdGlvbi5tb2RlPXQsdGhpcy5fc3RhdGUuYmxlbmRFcXVhdGlvbi5tb2RlQWxwaGE9dCx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZUJsZW5kaW5nKCkpfXNldEJsZW5kRXF1YXRpb25TZXBhcmF0ZSh0LGUpe3RoaXMuX3N0YXRlLmJsZW5kRXF1YXRpb24ubW9kZT09PXQmJnRoaXMuX3N0YXRlLmJsZW5kRXF1YXRpb24ubW9kZUFscGhhPT09ZXx8KHRoaXMuZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKHQsZSksdGhpcy5fc3RhdGUuYmxlbmRFcXVhdGlvbi5tb2RlPXQsdGhpcy5fc3RhdGUuYmxlbmRFcXVhdGlvbi5tb2RlQWxwaGE9ZSx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZUJsZW5kaW5nKCkpfXNldENvbG9yTWFzayh0LGUscyxpKXt0aGlzLl9zdGF0ZS5jb2xvck1hc2sucj09PXQmJnRoaXMuX3N0YXRlLmNvbG9yTWFzay5nPT09ZSYmdGhpcy5fc3RhdGUuY29sb3JNYXNrLmI9PT1zJiZ0aGlzLl9zdGF0ZS5jb2xvck1hc2suYT09PWl8fCh0aGlzLmdsLmNvbG9yTWFzayh0LGUscyxpKSx0aGlzLl9zdGF0ZS5jb2xvck1hc2sucj10LHRoaXMuX3N0YXRlLmNvbG9yTWFzay5nPWUsdGhpcy5fc3RhdGUuY29sb3JNYXNrLmI9cyx0aGlzLl9zdGF0ZS5jb2xvck1hc2suYT1pLHRoaXMuX3N0YXRlVHJhY2tlci5pbnZhbGlkYXRlQ29sb3JXcml0ZSgpKX1zZXRDbGVhckNvbG9yKHQsZSxzLGkpe3RoaXMuX3N0YXRlLmNsZWFyQ29sb3Iucj09PXQmJnRoaXMuX3N0YXRlLmNsZWFyQ29sb3IuZz09PWUmJnRoaXMuX3N0YXRlLmNsZWFyQ29sb3IuYj09PXMmJnRoaXMuX3N0YXRlLmNsZWFyQ29sb3IuYT09PWl8fCh0aGlzLmdsLmNsZWFyQ29sb3IodCxlLHMsaSksdGhpcy5fc3RhdGUuY2xlYXJDb2xvci5yPXQsdGhpcy5fc3RhdGUuY2xlYXJDb2xvci5nPWUsdGhpcy5fc3RhdGUuY2xlYXJDb2xvci5iPXMsdGhpcy5fc3RhdGUuY2xlYXJDb2xvci5hPWkpfXNldEZhY2VDdWxsaW5nRW5hYmxlZCh0KXt0aGlzLl9zdGF0ZS5mYWNlQ3VsbGluZyE9PXQmJighMD09PXQ/dGhpcy5nbC5lbmFibGUodGhpcy5nbC5DVUxMX0ZBQ0UpOnRoaXMuZ2wuZGlzYWJsZSh0aGlzLmdsLkNVTExfRkFDRSksdGhpcy5fc3RhdGUuZmFjZUN1bGxpbmc9dCx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZUN1bGxpbmcoKSl9c2V0UG9seWdvbk9mZnNldEZpbGxFbmFibGVkKHQpe3RoaXMuX3N0YXRlLnBvbHlnb25PZmZzZXRGaWxsIT09dCYmKCEwPT09dD90aGlzLmdsLmVuYWJsZSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpOnRoaXMuZ2wuZGlzYWJsZSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLHRoaXMuX3N0YXRlLnBvbHlnb25PZmZzZXRGaWxsPXQsdGhpcy5fc3RhdGVUcmFja2VyLmludmFsaWRhdGVQb2x5Z29uT2Zmc2V0KCkpfXNldFBvbHlnb25PZmZzZXQodCxlKXt0aGlzLl9zdGF0ZS5wb2x5Z29uT2Zmc2V0WzBdPT09dCYmdGhpcy5fc3RhdGUucG9seWdvbk9mZnNldFsxXT09PWV8fCh0aGlzLl9zdGF0ZS5wb2x5Z29uT2Zmc2V0WzBdPXQsdGhpcy5fc3RhdGUucG9seWdvbk9mZnNldFsxXT1lLHRoaXMuZ2wucG9seWdvbk9mZnNldCh0LGUpLHRoaXMuX3N0YXRlVHJhY2tlci5pbnZhbGlkYXRlUG9seWdvbk9mZnNldCgpKX1zZXRDdWxsRmFjZSh0KXt0aGlzLl9zdGF0ZS5jdWxsRmFjZSE9PXQmJih0aGlzLmdsLmN1bGxGYWNlKHQpLHRoaXMuX3N0YXRlLmN1bGxGYWNlPXQsdGhpcy5fc3RhdGVUcmFja2VyLmludmFsaWRhdGVDdWxsaW5nKCkpfXNldEZyb250RmFjZSh0KXt0aGlzLl9zdGF0ZS5mcm9udEZhY2UhPT10JiYodGhpcy5nbC5mcm9udEZhY2UodCksdGhpcy5fc3RhdGUuZnJvbnRGYWNlPXQsdGhpcy5fc3RhdGVUcmFja2VyLmludmFsaWRhdGVDdWxsaW5nKCkpfXNldFNjaXNzb3JUZXN0RW5hYmxlZCh0KXt0aGlzLl9zdGF0ZS5zY2lzc29yVGVzdCE9PXQmJighMD09PXQ/dGhpcy5nbC5lbmFibGUodGhpcy5nbC5TQ0lTU09SX1RFU1QpOnRoaXMuZ2wuZGlzYWJsZSh0aGlzLmdsLlNDSVNTT1JfVEVTVCksdGhpcy5fc3RhdGUuc2Npc3NvclRlc3Q9dCl9c2V0U2Npc3NvclJlY3QodCxlLHMsaSl7dGhpcy5fc3RhdGUuc2Npc3NvclJlY3QueD09PXQmJnRoaXMuX3N0YXRlLnNjaXNzb3JSZWN0Lnk9PT1lJiZ0aGlzLl9zdGF0ZS5zY2lzc29yUmVjdC53aWR0aD09PXMmJnRoaXMuX3N0YXRlLnNjaXNzb3JSZWN0LmhlaWdodD09PWl8fCh0aGlzLmdsLnNjaXNzb3IodCxlLHMsaSksdGhpcy5fc3RhdGUuc2Npc3NvclJlY3QueD10LHRoaXMuX3N0YXRlLnNjaXNzb3JSZWN0Lnk9ZSx0aGlzLl9zdGF0ZS5zY2lzc29yUmVjdC53aWR0aD1zLHRoaXMuX3N0YXRlLnNjaXNzb3JSZWN0LmhlaWdodD1pKX1zZXREZXB0aFRlc3RFbmFibGVkKHQpe3RoaXMuX3N0YXRlLmRlcHRoVGVzdCE9PXQmJighMD09PXQ/dGhpcy5nbC5lbmFibGUodGhpcy5nbC5ERVBUSF9URVNUKTp0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5ERVBUSF9URVNUKSx0aGlzLl9zdGF0ZS5kZXB0aFRlc3Q9dCx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZURlcHRoVGVzdCgpKX1zZXRDbGVhckRlcHRoKHQpe3RoaXMuX3N0YXRlLmNsZWFyRGVwdGghPT10JiYodGhpcy5nbC5jbGVhckRlcHRoKHQpLHRoaXMuX3N0YXRlLmNsZWFyRGVwdGg9dCl9c2V0RGVwdGhGdW5jdGlvbih0KXt0aGlzLl9zdGF0ZS5kZXB0aEZ1bmN0aW9uIT09dCYmKHRoaXMuZ2wuZGVwdGhGdW5jKHQpLHRoaXMuX3N0YXRlLmRlcHRoRnVuY3Rpb249dCx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZURlcHRoVGVzdCgpKX1zZXREZXB0aFdyaXRlRW5hYmxlZCh0KXt0aGlzLl9zdGF0ZS5kZXB0aFdyaXRlIT09dCYmKHRoaXMuZ2wuZGVwdGhNYXNrKHQpLHRoaXMuX3N0YXRlLmRlcHRoV3JpdGU9dCx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZURlcHRoV3JpdGUoKSl9c2V0RGVwdGhSYW5nZSh0LGUpe3RoaXMuX3N0YXRlLmRlcHRoUmFuZ2Uuek5lYXI9PT10JiZ0aGlzLl9zdGF0ZS5kZXB0aFJhbmdlLnpGYXI9PT1lfHwodGhpcy5nbC5kZXB0aFJhbmdlKHQsZSksdGhpcy5fc3RhdGUuZGVwdGhSYW5nZS56TmVhcj10LHRoaXMuX3N0YXRlLmRlcHRoUmFuZ2UuekZhcj1lLHRoaXMuX3N0YXRlVHJhY2tlci5pbnZhbGlkYXRlRGVwdGhXcml0ZSgpKX1zZXRTdGVuY2lsVGVzdEVuYWJsZWQodCl7dGhpcy5fc3RhdGUuc3RlbmNpbFRlc3QhPT10JiYoITA9PT10P3RoaXMuZ2wuZW5hYmxlKHRoaXMuZ2wuU1RFTkNJTF9URVNUKTp0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5TVEVOQ0lMX1RFU1QpLHRoaXMuX3N0YXRlLnN0ZW5jaWxUZXN0PXQsdGhpcy5fc3RhdGVUcmFja2VyLmludmFsaWRhdGVTdGVuY2lsVGVzdCgpKX1zZXRDbGVhclN0ZW5jaWwodCl7dCE9PXRoaXMuX3N0YXRlLmNsZWFyU3RlbmNpbCYmKHRoaXMuZ2wuY2xlYXJTdGVuY2lsKHQpLHRoaXMuX3N0YXRlLmNsZWFyU3RlbmNpbD10KX1zZXRTdGVuY2lsRnVuY3Rpb24odCxlLHMpe3RoaXMuX3N0YXRlLnN0ZW5jaWxGdW5jdGlvbi5mdW5jPT09dCYmdGhpcy5fc3RhdGUuc3RlbmNpbEZ1bmN0aW9uLnJlZj09PWUmJnRoaXMuX3N0YXRlLnN0ZW5jaWxGdW5jdGlvbi5tYXNrPT09c3x8KHRoaXMuZ2wuc3RlbmNpbEZ1bmModCxlLHMpLHRoaXMuX3N0YXRlLnN0ZW5jaWxGdW5jdGlvbi5mYWNlPWwuRlJPTlRfQU5EX0JBQ0ssdGhpcy5fc3RhdGUuc3RlbmNpbEZ1bmN0aW9uLmZ1bmM9dCx0aGlzLl9zdGF0ZS5zdGVuY2lsRnVuY3Rpb24ucmVmPWUsdGhpcy5fc3RhdGUuc3RlbmNpbEZ1bmN0aW9uLm1hc2s9cyx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZVN0ZW5jaWxUZXN0KCkpfXNldFN0ZW5jaWxGdW5jdGlvblNlcGFyYXRlKHQsZSxzLGkpe3RoaXMuX3N0YXRlLnN0ZW5jaWxGdW5jdGlvbi5mYWNlPT09dCYmdGhpcy5fc3RhdGUuc3RlbmNpbEZ1bmN0aW9uLmZ1bmM9PT1lJiZ0aGlzLl9zdGF0ZS5zdGVuY2lsRnVuY3Rpb24ucmVmPT09cyYmdGhpcy5fc3RhdGUuc3RlbmNpbEZ1bmN0aW9uLm1hc2s9PT1pfHwodGhpcy5nbC5zdGVuY2lsRnVuY1NlcGFyYXRlKHQsZSxzLGkpLHRoaXMuX3N0YXRlLnN0ZW5jaWxGdW5jdGlvbi5mYWNlPXQsdGhpcy5fc3RhdGUuc3RlbmNpbEZ1bmN0aW9uLmZ1bmM9ZSx0aGlzLl9zdGF0ZS5zdGVuY2lsRnVuY3Rpb24ucmVmPXMsdGhpcy5fc3RhdGUuc3RlbmNpbEZ1bmN0aW9uLm1hc2s9aSx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZVN0ZW5jaWxUZXN0KCkpfXNldFN0ZW5jaWxXcml0ZU1hc2sodCl7dGhpcy5fc3RhdGUuc3RlbmNpbFdyaXRlTWFzayE9PXQmJih0aGlzLmdsLnN0ZW5jaWxNYXNrKHQpLHRoaXMuX3N0YXRlLnN0ZW5jaWxXcml0ZU1hc2s9dCx0aGlzLl9zdGF0ZVRyYWNrZXIuaW52YWxpZGF0ZVN0ZW5jaWxXcml0ZSgpKX1zZXRTdGVuY2lsT3AodCxlLHMpe3RoaXMuX3N0YXRlLnN0ZW5jaWxPcGVyYXRpb24uZmFjZT09PWwuRlJPTlRfQU5EX0JBQ0smJnRoaXMuX3N0YXRlLnN0ZW5jaWxPcGVyYXRpb24uZmFpbD09PXQmJnRoaXMuX3N0YXRlLnN0ZW5jaWxPcGVyYXRpb24uekZhaWw9PT1lJiZ0aGlzLl9zdGF0ZS5zdGVuY2lsT3BlcmF0aW9uLnpQYXNzPT09c3x8KHRoaXMuZ2wuc3RlbmNpbE9wKHQsZSxzKSx0aGlzLl9zdGF0ZS5zdGVuY2lsT3BlcmF0aW9uLmZhY2U9bC5GUk9OVF9BTkRfQkFDSyx0aGlzLl9zdGF0ZS5zdGVuY2lsT3BlcmF0aW9uLmZhaWw9dCx0aGlzLl9zdGF0ZS5zdGVuY2lsT3BlcmF0aW9uLnpGYWlsPWUsdGhpcy5fc3RhdGUuc3RlbmNpbE9wZXJhdGlvbi56UGFzcz1zLHRoaXMuX3N0YXRlVHJhY2tlci5pbnZhbGlkYXRlU3RlbmNpbFRlc3QoKSl9c2V0U3RlbmNpbE9wU2VwYXJhdGUodCxlLHMsaSl7dGhpcy5fc3RhdGUuc3RlbmNpbE9wZXJhdGlvbi5mYWNlPT09dCYmdGhpcy5fc3RhdGUuc3RlbmNpbE9wZXJhdGlvbi5mYWlsPT09ZSYmdGhpcy5fc3RhdGUuc3RlbmNpbE9wZXJhdGlvbi56RmFpbD09PXMmJnRoaXMuX3N0YXRlLnN0ZW5jaWxPcGVyYXRpb24uelBhc3M9PT1pfHwodGhpcy5nbC5zdGVuY2lsT3BTZXBhcmF0ZSh0LGUscyxpKSx0aGlzLl9zdGF0ZS5zdGVuY2lsT3BlcmF0aW9uLmZhY2U9dCx0aGlzLl9zdGF0ZS5zdGVuY2lsT3BlcmF0aW9uLmZhaWw9ZSx0aGlzLl9zdGF0ZS5zdGVuY2lsT3BlcmF0aW9uLnpGYWlsPXMsdGhpcy5fc3RhdGUuc3RlbmNpbE9wZXJhdGlvbi56UGFzcz1pLHRoaXMuX3N0YXRlVHJhY2tlci5pbnZhbGlkYXRlU3RlbmNpbFRlc3QoKSl9c2V0QWN0aXZlVGV4dHVyZSh0LGU9ITEpe2NvbnN0IHM9dGhpcy5fc3RhdGUuYWN0aXZlVGV4dHVyZTtyZXR1cm4gdD49MCYmKGV8fHQhPT10aGlzLl9zdGF0ZS5hY3RpdmVUZXh0dXJlKSYmKHRoaXMuZ2wuYWN0aXZlVGV4dHVyZShoK3QpLHRoaXMuX3N0YXRlLmFjdGl2ZVRleHR1cmU9dCksc31jbGVhcih0KXt0JiZ0aGlzLmdsLmNsZWFyKHQpfWNsZWFyU2FmZSh0LGU9MjU1KXt0JiYodCZmLkNPTE9SX0JVRkZFUl9CSVQmJnRoaXMuc2V0Q29sb3JNYXNrKCEwLCEwLCEwLCEwKSx0JmYuREVQVEhfQlVGRkVSX0JJVCYmdGhpcy5zZXREZXB0aFdyaXRlRW5hYmxlZCghMCksdCZmLlNURU5DSUxfQlVGRkVSX0JJVCYmdGhpcy5zZXRTdGVuY2lsV3JpdGVNYXNrKGUpLHRoaXMuZ2wuY2xlYXIodCkpfWRyYXdBcnJheXModCxlLHMpe2lmKGkoKSYmKHRoaXMuX251bU9mRHJhd0NhbGxzKyssdGhpcy5fbnVtT2ZUcmlhbmdsZXMrPU4odCxzKSksdGhpcy5nbC5kcmF3QXJyYXlzKHQsZSxzKSxpKCkpe2NvbnN0IHQ9VSh0aGlzKTt0JiZjb25zb2xlLmVycm9yKFwiZHJhd0FycmF5czpcIix0KX19ZHJhd0VsZW1lbnRzKHQsZSxzLGEpe2lmKGkoKSYmKHRoaXMuX251bU9mRHJhd0NhbGxzKyssdGhpcy5fbnVtT2ZUcmlhbmdsZXMrPU4odCxlKSksdGhpcy5nbC5kcmF3RWxlbWVudHModCxlLHMsYSksaSgpKXtjb25zdCBpPVUodGhpcyk7aWYoaSl7Y29uc3Qgcj10aGlzLmdldEJvdW5kVkFPKCksbj1yPy5pbmRleEJ1ZmZlcixsPXI/LnZlcnRleEJ1ZmZlcnMsaD17aW5kZXhCdWZmZXI6bix2ZXJ0ZXhCdWZmZXJzOmx9LGY9e21vZGU6dCxjb3VudDplLHR5cGU6cyxvZmZzZXQ6YX0sbz1uPy5zaXplPz8wLHU9YStlLGM9bzx1P2AuIEJ1ZmZlciBpcyB0b28gc21hbGwuIEF0dGVtcHRlZCB0byBkcmF3IGluZGV4ICR7dX0gb2YgJHtvfWA6XCJcIjtjb25zb2xlLmVycm9yKGBkcmF3RWxlbWVudHM6ICR7aX0ke2N9YCx7YXJnczpmLHZhbzpofSl9fX1sb2dJbmZvKCl7aSgpJiZjb25zb2xlLmxvZyhgRHJhd0NhbGxzOiAke3RoaXMuX251bU9mRHJhd0NhbGxzfSwgVHJpYW5nbGVzOiAke3RoaXMuX251bU9mVHJpYW5nbGVzfWApfXJlc2V0SW5mbygpe2koKSYmKHRoaXMuX251bU9mRHJhd0NhbGxzPTAsdGhpcy5fbnVtT2ZUcmlhbmdsZXM9MCl9Z2V0IGNhcGFiaWxpdGllcygpe3JldHVybiB0aGlzLl9jYXBhYmlsaXRpZXN9c2V0Vmlld3BvcnQodCxlLHMsaSl7cz1NYXRoLm1heChNYXRoLnJvdW5kKHMpLDEpLGk9TWF0aC5tYXgoTWF0aC5yb3VuZChpKSwxKTtjb25zdCBhPXRoaXMuX3N0YXRlLnZpZXdwb3J0O2EueD09PXQmJmEueT09PWUmJmEud2lkdGg9PT1zJiZhLmhlaWdodD09PWl8fChhLng9dCxhLnk9ZSxhLndpZHRoPXMsYS5oZWlnaHQ9aSx0aGlzLmdsLnZpZXdwb3J0KHQsZSxzLGkpKX1nZXRWaWV3cG9ydCgpe2NvbnN0IHQ9dGhpcy5fc3RhdGUudmlld3BvcnQ7cmV0dXJue3g6dC54LHk6dC55LHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fX11c2VQcm9ncmFtKHQpe3RoaXMuX3N0YXRlLnByb2dyYW0hPT10JiYodGhpcy5fc3RhdGUucHJvZ3JhbT8uc3RvcCgpLHRoaXMuX3N0YXRlLnByb2dyYW09dCx0aGlzLmdsLnVzZVByb2dyYW0odD8uZ2xOYW1lPz9udWxsKSl9YmluZFRleHR1cmUodCxlLHM9ITEpeyhlPj10aGlzLnBhcmFtZXRlcnMubWF4VGV4dHVyZUltYWdlVW5pdHN8fGU8MCkmJmNvbnNvbGUuZXJyb3IoXCJJbnB1dCB0ZXh0dXJlIHVuaXQgaXMgb3V0IG9mIHJhbmdlIG9mIGF2YWlsYWJsZSB1bml0cyFcIik7Y29uc3QgaT10aGlzLl9zdGF0ZS50ZXh0dXJlVW5pdE1hcFtlXTtyZXR1cm4gbnVsbD09dHx8bnVsbD09dC5nbE5hbWU/KG51bGwhPWkmJih0aGlzLnNldEFjdGl2ZVRleHR1cmUoZSxzKSx0aGlzLmdsLmJpbmRUZXh0dXJlKGkuZGVzY3JpcHRvci50YXJnZXQsbnVsbCkpLHRoaXMuX3N0YXRlLnRleHR1cmVVbml0TWFwW2VdPW51bGwsaSk6c3x8aSE9PXQ/KHRoaXMuc2V0QWN0aXZlVGV4dHVyZShlLHMpLHRoaXMuZ2wuYmluZFRleHR1cmUodC5kZXNjcmlwdG9yLnRhcmdldCx0LmdsTmFtZSksdC5hcHBseUNoYW5nZXMoKSx0aGlzLl9zdGF0ZS50ZXh0dXJlVW5pdE1hcFtlXT10LGkpOih0LmlzRGlydHkmJih0aGlzLnNldEFjdGl2ZVRleHR1cmUoZSxzKSx0LmFwcGx5Q2hhbmdlcygpKSxpKX11bmJpbmRUZXh0dXJlKHQpe2lmKG51bGwhPXQpZm9yKGxldCBlPTA7ZTx0aGlzLnBhcmFtZXRlcnMubWF4VGV4dHVyZUltYWdlVW5pdHM7ZSsrKXRoaXMuX3N0YXRlLnRleHR1cmVVbml0TWFwW2VdPT09dCYmKHRoaXMuYmluZFRleHR1cmUobnVsbCxlKSx0aGlzLl9zdGF0ZS50ZXh0dXJlVW5pdE1hcFtlXT1udWxsKX1iaW5kRnJhbWVidWZmZXIodCxlPSExKXtpZihlfHx0aGlzLl9zdGF0ZS5yZWFkRnJhbWVidWZmZXIhPT10fHx0aGlzLl9zdGF0ZS5kcmF3RnJhbWVidWZmZXIhPT10KXtpZihudWxsPT10KXJldHVybiB0aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcihvLkZSQU1FQlVGRkVSLG51bGwpLHRoaXMuX3N0YXRlLnJlYWRGcmFtZWJ1ZmZlcj1udWxsLHZvaWQodGhpcy5fc3RhdGUuZHJhd0ZyYW1lYnVmZmVyPW51bGwpO3QuaW5pdGlhbGl6ZUFuZEJpbmQoby5GUkFNRUJVRkZFUiksdGhpcy5fc3RhdGUucmVhZEZyYW1lYnVmZmVyPXQsdGhpcy5fc3RhdGUuZHJhd0ZyYW1lYnVmZmVyPXR9fWJpbmRGcmFtZWJ1ZmZlclNlcGFyYXRlKHQsZSxzPSExKXtjb25zdCBpPWU9PT1vLlJFQURfRlJBTUVCVUZGRVIsYT1pP3RoaXMuX3N0YXRlLnJlYWRGcmFtZWJ1ZmZlcjp0aGlzLl9zdGF0ZS5kcmF3RnJhbWVidWZmZXI7KHN8fGEhPT10KSYmKG51bGw9PXQ/dGhpcy5nbC5iaW5kRnJhbWVidWZmZXIoZSxudWxsKTp0LmluaXRpYWxpemVBbmRCaW5kKGUpLGk/dGhpcy5fc3RhdGUucmVhZEZyYW1lYnVmZmVyPXQ/P251bGw6dGhpcy5fc3RhdGUuZHJhd0ZyYW1lYnVmZmVyPXQ/P251bGwpfWJsaXRGcmFtZWJ1ZmZlcih0LGUscz0wLGk9MCxhPXQud2lkdGgscj10LmhlaWdodCxuPTAsbD0wLGg9ZS53aWR0aCxjPWUuaGVpZ2h0LF89Zi5DT0xPUl9CVUZGRVJfQklULGQ9dS5ORUFSRVNUKXt0aGlzLmJpbmRGcmFtZWJ1ZmZlclNlcGFyYXRlKHQsby5SRUFEX0ZSQU1FQlVGRkVSKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlclNlcGFyYXRlKGUsby5EUkFXX0ZSQU1FQlVGRkVSKTt0aGlzLmdsLmJsaXRGcmFtZWJ1ZmZlcihzLGksYSxyLG4sbCxoLGMsXyxkKX1iaW5kQnVmZmVyKHQsZSl7aWYodClzd2l0Y2goZT8/PXQuYnVmZmVyVHlwZSxlKXtjYXNlIG4uQVJSQVlfQlVGRkVSOnRoaXMuX3N0YXRlLnZlcnRleEJ1ZmZlcj12KHRoaXMuZ2wsdCxlLHRoaXMuX3N0YXRlLnZlcnRleEJ1ZmZlcik7YnJlYWs7Y2FzZSBuLkVMRU1FTlRfQVJSQVlfQlVGRkVSOnRoaXMuX3N0YXRlLmluZGV4QnVmZmVyPXYodGhpcy5nbCx0LGUsdGhpcy5fc3RhdGUuaW5kZXhCdWZmZXIpO2JyZWFrO2Nhc2Ugbi5VTklGT1JNX0JVRkZFUjp0aGlzLl9zdGF0ZS51bmlmb3JtQnVmZmVyPXYodGhpcy5nbCx0LGUsdGhpcy5fc3RhdGUudW5pZm9ybUJ1ZmZlcik7YnJlYWs7Y2FzZSBuLlBJWEVMX1BBQ0tfQlVGRkVSOnRoaXMuX3N0YXRlLnBpeGVsUGFja0J1ZmZlcj12KHRoaXMuZ2wsdCxlLHRoaXMuX3N0YXRlLnBpeGVsUGFja0J1ZmZlcik7YnJlYWs7Y2FzZSBuLlBJWEVMX1VOUEFDS19CVUZGRVI6dGhpcy5fc3RhdGUucGl4ZWxVbnBhY2tCdWZmZXI9dih0aGlzLmdsLHQsZSx0aGlzLl9zdGF0ZS5waXhlbFVucGFja0J1ZmZlcik7YnJlYWs7Y2FzZSBuLkNPUFlfUkVBRF9CVUZGRVI6dGhpcy5fc3RhdGUuY29weVJlYWRCdWZmZXI9dih0aGlzLmdsLHQsZSx0aGlzLl9zdGF0ZS5jb3B5UmVhZEJ1ZmZlcik7YnJlYWs7Y2FzZSBuLkNPUFlfV1JJVEVfQlVGRkVSOnRoaXMuX3N0YXRlLmNvcHlXcml0ZUJ1ZmZlcj12KHRoaXMuZ2wsdCxlLHRoaXMuX3N0YXRlLmNvcHlXcml0ZUJ1ZmZlcil9fWJpbmRSZW5kZXJidWZmZXIodCl7Y29uc3QgZT10aGlzLmdsO3R8fChlLmJpbmRSZW5kZXJidWZmZXIoZS5SRU5ERVJCVUZGRVIsbnVsbCksdGhpcy5fc3RhdGUucmVuZGVyYnVmZmVyPW51bGwpLHRoaXMuX3N0YXRlLnJlbmRlcmJ1ZmZlciE9PXQmJihlLmJpbmRSZW5kZXJidWZmZXIoZS5SRU5ERVJCVUZGRVIsdC5nbE5hbWUpLHRoaXMuX3N0YXRlLnJlbmRlcmJ1ZmZlcj10KX1fZ2V0QnVmZmVyQmluZGluZyh0LGUpe2lmKGU+PXRoaXMucGFyYW1ldGVycy5tYXhVbmlmb3JtQnVmZmVyQmluZGluZ3N8fGU8MClyZXR1cm4gY29uc29sZS5lcnJvcihcIlVuaWZvcm0gYnVmZmVyIGJpbmRpbmcgcG9pbnQgaXMgb3V0IG9mIHJhbmdlIVwiKSxudWxsO2NvbnN0IHM9dGhpcy5fc3RhdGUudW5pZm9ybUJ1ZmZlckJpbmRpbmdQb2ludHM7bGV0IGk9c1tlXTtyZXR1cm4gbnVsbD09aSYmKGk9e2J1ZmZlcjpudWxsLG9mZnNldDowLHNpemU6MH0sc1tlXT1pKSxpfWJpbmRCdWZmZXJCYXNlKHQsZSxzKXtjb25zdCBpPXRoaXMuX2dldEJ1ZmZlckJpbmRpbmcodCxlKTtpZihudWxsPT1pKXJldHVybjtpZihpLmJ1ZmZlcj09PXMmJjA9PT1pLm9mZnNldCYmMD09PWkuc2l6ZSlyZXR1cm47dGhpcy5nbC5iaW5kQnVmZmVyQmFzZSh0LGUscz9zLmdsTmFtZTpudWxsKSxpLmJ1ZmZlcj1zLGkub2Zmc2V0PTAsaS5zaXplPTB9YmluZEJ1ZmZlclJhbmdlKHQsZSxzLGksYSl7Y29uc3Qgcj10aGlzLl9nZXRCdWZmZXJCaW5kaW5nKHQsZSk7aWYobnVsbD09cilyZXR1cm47aWYoci5idWZmZXI9PT1zJiZyLm9mZnNldD09PWkmJnIuc2l6ZT09PWEpcmV0dXJuO2lmKGkldGhpcy5fcGFyYW1ldGVycy51bmlmb3JtQnVmZmVyT2Zmc2V0QWxpZ25tZW50IT0wKXJldHVybiB2b2lkIGNvbnNvbGUuZXJyb3IoXCJVbmlmb3JtIGJ1ZmZlciBiaW5kaW5nIG9mZnNldCBpcyBub3QgYSBtdWx0aXBsZSBvZiB0aGUgY29udGV4dCBvZmZzZXQgYWxpZ25tZW50XCIpO3RoaXMuZ2wuYmluZEJ1ZmZlclJhbmdlKHQsZSxzLmdsTmFtZSxpLGEpLHIuYnVmZmVyPXMsci5vZmZzZXQ9aSxyLnNpemU9YX1iaW5kVUJPKHQsZSxzLGEpe251bGwhPWU/KGkoKSYmKGE/P2UuYnl0ZUxlbmd0aCk+dGhpcy5fcGFyYW1ldGVycy5tYXhVbmlmb3JtQmxvY2tTaXplJiZjb25zb2xlLmVycm9yKFwiQXR0ZW1wdGluZyB0byBiaW5kIG1vcmUgZGF0YSB0aGFuIHRoZSBtYXhpbXVtIHVuaWZvcm0gYmxvY2sgc2l6ZVwiKSxlLmluaXRpYWxpemUoKSx2b2lkIDAhPT1zJiZ2b2lkIDAhPT1hP3RoaXMuYmluZEJ1ZmZlclJhbmdlKG4uVU5JRk9STV9CVUZGRVIsdCxlLmJ1ZmZlcixzLGEpOnRoaXMuYmluZEJ1ZmZlckJhc2Uobi5VTklGT1JNX0JVRkZFUix0LGUuYnVmZmVyKSk6dGhpcy5iaW5kQnVmZmVyQmFzZShuLlVOSUZPUk1fQlVGRkVSLHQsbnVsbCl9dW5iaW5kVUJPKHQpe2ZvcihsZXQgZT0wLHM9dGhpcy5fc3RhdGUudW5pZm9ybUJ1ZmZlckJpbmRpbmdQb2ludHMubGVuZ3RoO2U8cztlKyspe2NvbnN0IHM9dGhpcy5fc3RhdGUudW5pZm9ybUJ1ZmZlckJpbmRpbmdQb2ludHNbZV07bnVsbCE9cyYmcy5idWZmZXI9PT10LmJ1ZmZlciYmdGhpcy5iaW5kQnVmZmVyQmFzZShuLlVOSUZPUk1fQlVGRkVSLGUsbnVsbCl9fXVuYmluZEJ1ZmZlcih0KXtzd2l0Y2godCl7Y2FzZSBuLkFSUkFZX0JVRkZFUjp0aGlzLl9zdGF0ZS52ZXJ0ZXhCdWZmZXI9dih0aGlzLmdsLG51bGwsdCx0aGlzLl9zdGF0ZS52ZXJ0ZXhCdWZmZXIpO2JyZWFrO2Nhc2Ugbi5FTEVNRU5UX0FSUkFZX0JVRkZFUjp0aGlzLl9zdGF0ZS5pbmRleEJ1ZmZlcj12KHRoaXMuZ2wsbnVsbCx0LHRoaXMuX3N0YXRlLmluZGV4QnVmZmVyKTticmVhaztjYXNlIG4uVU5JRk9STV9CVUZGRVI6dGhpcy5fc3RhdGUudW5pZm9ybUJ1ZmZlcj12KHRoaXMuZ2wsbnVsbCx0LHRoaXMuX3N0YXRlLnVuaWZvcm1CdWZmZXIpO2JyZWFrO2Nhc2Ugbi5QSVhFTF9QQUNLX0JVRkZFUjp0aGlzLl9zdGF0ZS5waXhlbFBhY2tCdWZmZXI9dih0aGlzLmdsLG51bGwsdCx0aGlzLl9zdGF0ZS5waXhlbFBhY2tCdWZmZXIpO2JyZWFrO2Nhc2Ugbi5QSVhFTF9VTlBBQ0tfQlVGRkVSOnRoaXMuX3N0YXRlLnBpeGVsVW5wYWNrQnVmZmVyPXYodGhpcy5nbCxudWxsLHQsdGhpcy5fc3RhdGUucGl4ZWxVbnBhY2tCdWZmZXIpO2JyZWFrO2Nhc2Ugbi5DT1BZX1JFQURfQlVGRkVSOnRoaXMuX3N0YXRlLmNvcHlSZWFkQnVmZmVyPXYodGhpcy5nbCxudWxsLHQsdGhpcy5fc3RhdGUuY29weVJlYWRCdWZmZXIpO2JyZWFrO2Nhc2Ugbi5DT1BZX1dSSVRFX0JVRkZFUjp0aGlzLl9zdGF0ZS5jb3B5V3JpdGVCdWZmZXI9dih0aGlzLmdsLG51bGwsdCx0aGlzLl9zdGF0ZS5jb3B5V3JpdGVCdWZmZXIpfX1iaW5kVkFPKHQ9bnVsbCl7bnVsbCE9dD90aGlzLl9zdGF0ZS52ZXJ0ZXhBcnJheU9iamVjdCE9PXQmJih0LmJpbmQoKSx0aGlzLl9zdGF0ZS52ZXJ0ZXhBcnJheU9iamVjdD10KTp0aGlzLl9zdGF0ZS52ZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuX3N0YXRlLnZlcnRleEFycmF5T2JqZWN0LnVuYmluZCgpLHRoaXMuX3N0YXRlLnZlcnRleEFycmF5T2JqZWN0PW51bGwpfWFzeW5jIGNsaWVudFdhaXRBc3luYyh0PXMoMTApKXtjb25zdCBpPXRoaXMuZ2wsYT1pLmZlbmNlU3luYyhjLlNZTkNfR1BVX0NPTU1BTkRTX0NPTVBMRVRFLDApO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIkNsaWVudCB3YWl0IGZhaWxlZCwgY291bGQgbm90IGNyZWF0ZSBzeW5jIG9iamVjdFwiKTtsZXQgcjt0aGlzLmluc3RhbmNlQ291bnRlci5pbmNyZW1lbnQoXy5TeW5jLGEpLGkuZmx1c2goKTtkb3thd2FpdCBlKHQpLHI9aS5jbGllbnRXYWl0U3luYyhhLDAsMCl9d2hpbGUocj09PWQuVElNRU9VVF9FWFBJUkVEKTtpZih0aGlzLmluc3RhbmNlQ291bnRlci5kZWNyZW1lbnQoXy5TeW5jLGEpLGkuZGVsZXRlU3luYyhhKSxyPT09ZC5XQUlUX0ZBSUxFRCl0aHJvdyBuZXcgRXJyb3IoXCJDbGllbnQgd2FpdCBmYWlsZWRcIil9Z2V0Qm91bmRGcmFtZWJ1ZmZlck9iamVjdCh0PW8uRlJBTUVCVUZGRVIpe3JldHVybiB0PT09by5SRUFEX0ZSQU1FQlVGRkVSP3RoaXMuX3N0YXRlLnJlYWRGcmFtZWJ1ZmZlcjp0aGlzLl9zdGF0ZS5kcmF3RnJhbWVidWZmZXJ9Z2V0Qm91bmRWQU8oKXtyZXR1cm4gdGhpcy5fc3RhdGUudmVydGV4QXJyYXlPYmplY3R9cmVzZXRTdGF0ZSgpe3RoaXMudXNlUHJvZ3JhbShudWxsKSx0aGlzLmJpbmRWQU8obnVsbCksdGhpcy5iaW5kRnJhbWVidWZmZXIobnVsbCwhMCksdGhpcy51bmJpbmRCdWZmZXIobi5BUlJBWV9CVUZGRVIpLHRoaXMudW5iaW5kQnVmZmVyKG4uRUxFTUVOVF9BUlJBWV9CVUZGRVIpLHRoaXMudHlwZT09PXIuV0VCR0wyJiYodGhpcy51bmJpbmRCdWZmZXIobi5VTklGT1JNX0JVRkZFUiksdGhpcy5fc3RhdGUudW5pZm9ybUJ1ZmZlckJpbmRpbmdQb2ludHMubGVuZ3RoPTAsdGhpcy51bmJpbmRCdWZmZXIobi5QSVhFTF9QQUNLX0JVRkZFUiksdGhpcy51bmJpbmRCdWZmZXIobi5QSVhFTF9VTlBBQ0tfQlVGRkVSKSx0aGlzLnVuYmluZEJ1ZmZlcihuLkNPUFlfUkVBRF9CVUZGRVIpLHRoaXMudW5iaW5kQnVmZmVyKG4uQ09QWV9XUklURV9CVUZGRVIpKTtmb3IobGV0IHQ9MDt0PHRoaXMucGFyYW1ldGVycy5tYXhUZXh0dXJlSW1hZ2VVbml0czsrK3QpdGhpcy5iaW5kVGV4dHVyZShudWxsLHQpO3RoaXMuc2V0QmxlbmRpbmdFbmFibGVkKCExKSx0aGlzLnNldEJsZW5kRnVuY3Rpb24oYi5PTkUsYi5aRVJPKSx0aGlzLnNldEJsZW5kRXF1YXRpb24oRi5BREQpLHRoaXMuc2V0QmxlbmRDb2xvcigwLDAsMCwwKSx0aGlzLnNldEZhY2VDdWxsaW5nRW5hYmxlZCghMSksdGhpcy5zZXRDdWxsRmFjZShsLkJBQ0spLHRoaXMuc2V0RnJvbnRGYWNlKGcuQ0NXKSx0aGlzLnNldFBvbHlnb25PZmZzZXRGaWxsRW5hYmxlZCghMSksdGhpcy5zZXRQb2x5Z29uT2Zmc2V0KDAsMCksdGhpcy5zZXRTY2lzc29yVGVzdEVuYWJsZWQoITEpLHRoaXMuc2V0U2Npc3NvclJlY3QoMCwwLHRoaXMuZ2wuY2FudmFzLndpZHRoLHRoaXMuZ2wuY2FudmFzLmhlaWdodCksdGhpcy5zZXREZXB0aFRlc3RFbmFibGVkKCExKSx0aGlzLnNldERlcHRoRnVuY3Rpb24ocC5MRVNTKSx0aGlzLnNldERlcHRoUmFuZ2UoMCwxKSx0aGlzLnNldFN0ZW5jaWxUZXN0RW5hYmxlZCghMSksdGhpcy5zZXRTdGVuY2lsRnVuY3Rpb24ocC5BTFdBWVMsMCwwKSx0aGlzLnNldFN0ZW5jaWxPcChCLktFRVAsQi5LRUVQLEIuS0VFUCksdGhpcy5zZXRDbGVhckNvbG9yKDAsMCwwLDApLHRoaXMuc2V0Q2xlYXJEZXB0aCgxKSx0aGlzLnNldENsZWFyU3RlbmNpbCgwKSx0aGlzLnNldENvbG9yTWFzayghMCwhMCwhMCwhMCksdGhpcy5zZXRTdGVuY2lsV3JpdGVNYXNrKDQyOTQ5NjcyOTUpLHRoaXMuc2V0RGVwdGhXcml0ZUVuYWJsZWQoITApLHRoaXMuc2V0Vmlld3BvcnQoMCwwLHRoaXMuZ2wuY2FudmFzLndpZHRoLHRoaXMuZ2wuY2FudmFzLmhlaWdodCl9ZW5mb3JjZVN0YXRlKCl7Y29uc3QgdD10aGlzLmNhcGFiaWxpdGllcy52YW87dCYmdC5iaW5kVmVydGV4QXJyYXkobnVsbCk7Y29uc3R7Z2w6ZSxnbDI6c309dGhpcztmb3IobGV0IGE9MDthPHRoaXMucGFyYW1ldGVycy5tYXhWZXJ0ZXhBdHRyaWJ1dGVzO2ErKyllLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShhKTtpZih0aGlzLl9zdGF0ZS52ZXJ0ZXhCdWZmZXI/ZS5iaW5kQnVmZmVyKHRoaXMuX3N0YXRlLnZlcnRleEJ1ZmZlci5idWZmZXJUeXBlLHRoaXMuX3N0YXRlLnZlcnRleEJ1ZmZlci5nbE5hbWUpOmUuYmluZEJ1ZmZlcihuLkFSUkFZX0JVRkZFUixudWxsKSx0aGlzLl9zdGF0ZS5pbmRleEJ1ZmZlcj9lLmJpbmRCdWZmZXIodGhpcy5fc3RhdGUuaW5kZXhCdWZmZXIuYnVmZmVyVHlwZSx0aGlzLl9zdGF0ZS5pbmRleEJ1ZmZlci5nbE5hbWUpOmUuYmluZEJ1ZmZlcihuLkVMRU1FTlRfQVJSQVlfQlVGRkVSLG51bGwpLG51bGwhPXMpe3RoaXMuX3N0YXRlLnVuaWZvcm1CdWZmZXI/cy5iaW5kQnVmZmVyKHRoaXMuX3N0YXRlLnVuaWZvcm1CdWZmZXIuYnVmZmVyVHlwZSx0aGlzLl9zdGF0ZS51bmlmb3JtQnVmZmVyLmdsTmFtZSk6cy5iaW5kQnVmZmVyKG4uVU5JRk9STV9CVUZGRVIsbnVsbCk7Zm9yKGxldCB0PTA7dDx0aGlzLl9wYXJhbWV0ZXJzLm1heFVuaWZvcm1CdWZmZXJCaW5kaW5nczt0Kyspe2NvbnN0IGU9dGhpcy5fc3RhdGUudW5pZm9ybUJ1ZmZlckJpbmRpbmdQb2ludHNbdF07aWYobnVsbCE9ZSl7Y29uc3R7YnVmZmVyOmksb2Zmc2V0OmEsc2l6ZTpyfT1lO251bGwhPT1pPzA9PT1hJiYwPT09cj9zLmJpbmRCdWZmZXJCYXNlKG4uVU5JRk9STV9CVUZGRVIsdCxpLmdsTmFtZSk6cy5iaW5kQnVmZmVyUmFuZ2Uobi5VTklGT1JNX0JVRkZFUix0LGkuZ2xOYW1lLGEscik6cy5iaW5kQnVmZmVyQmFzZShuLlVOSUZPUk1fQlVGRkVSLHQsbnVsbCl9fXRoaXMuX3N0YXRlLnBpeGVsUGFja0J1ZmZlcj9zLmJpbmRCdWZmZXIodGhpcy5fc3RhdGUucGl4ZWxQYWNrQnVmZmVyLmJ1ZmZlclR5cGUsdGhpcy5fc3RhdGUucGl4ZWxQYWNrQnVmZmVyLmdsTmFtZSk6cy5iaW5kQnVmZmVyKG4uUElYRUxfUEFDS19CVUZGRVIsbnVsbCksdGhpcy5fc3RhdGUucGl4ZWxVbnBhY2tCdWZmZXI/cy5iaW5kQnVmZmVyKHRoaXMuX3N0YXRlLnBpeGVsVW5wYWNrQnVmZmVyLmJ1ZmZlclR5cGUsdGhpcy5fc3RhdGUucGl4ZWxVbnBhY2tCdWZmZXIuZ2xOYW1lKTpzLmJpbmRCdWZmZXIobi5QSVhFTF9VTlBBQ0tfQlVGRkVSLG51bGwpLHRoaXMuX3N0YXRlLmNvcHlSZWFkQnVmZmVyP3MuYmluZEJ1ZmZlcih0aGlzLl9zdGF0ZS5jb3B5UmVhZEJ1ZmZlci5idWZmZXJUeXBlLHRoaXMuX3N0YXRlLmNvcHlSZWFkQnVmZmVyLmdsTmFtZSk6cy5iaW5kQnVmZmVyKG4uQ09QWV9SRUFEX0JVRkZFUixudWxsKSx0aGlzLl9zdGF0ZS5jb3B5V3JpdGVCdWZmZXI/cy5iaW5kQnVmZmVyKHRoaXMuX3N0YXRlLmNvcHlXcml0ZUJ1ZmZlci5idWZmZXJUeXBlLHRoaXMuX3N0YXRlLmNvcHlXcml0ZUJ1ZmZlci5nbE5hbWUpOnMuYmluZEJ1ZmZlcihuLkNPUFlfV1JJVEVfQlVGRkVSLG51bGwpLHMuYmluZEZyYW1lYnVmZmVyKG8uUkVBRF9GUkFNRUJVRkZFUixudWxsKSxzLnJlYWRCdWZmZXIocy5CQUNLKSx0aGlzLl9zdGF0ZS5yZWFkRnJhbWVidWZmZXImJihzLmJpbmRGcmFtZWJ1ZmZlcihvLlJFQURfRlJBTUVCVUZGRVIsdGhpcy5fc3RhdGUucmVhZEZyYW1lYnVmZmVyLmdsTmFtZSkscy5yZWFkQnVmZmVyKEUuQ09MT1JfQVRUQUNITUVOVDApKSxzLmJpbmRGcmFtZWJ1ZmZlcihvLkRSQVdfRlJBTUVCVUZGRVIsdGhpcy5fc3RhdGUuZHJhd0ZyYW1lYnVmZmVyPy5nbE5hbWU/P251bGwpfWVsc2UgdGhpcy5fc3RhdGUucmVhZEZyYW1lYnVmZmVyPXRoaXMuX3N0YXRlLmRyYXdGcmFtZWJ1ZmZlcixlLmJpbmRGcmFtZWJ1ZmZlcihvLkZSQU1FQlVGRkVSLHRoaXMuX3N0YXRlLmRyYXdGcmFtZWJ1ZmZlcj8uZ2xOYW1lPz9udWxsKTtpZih0JiZ0aGlzLl9zdGF0ZS52ZXJ0ZXhBcnJheU9iamVjdCl7Y29uc3QgdD10aGlzLl9zdGF0ZS52ZXJ0ZXhBcnJheU9iamVjdDt0aGlzLl9zdGF0ZS52ZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuX3N0YXRlLnZlcnRleEFycmF5T2JqZWN0LnVuYmluZCgpLHRoaXMuX3N0YXRlLnZlcnRleEFycmF5T2JqZWN0PW51bGwpLHRoaXMuYmluZFZBTyh0KX1lLnVzZVByb2dyYW0odGhpcy5fc3RhdGUucHJvZ3JhbT8uZ2xOYW1lPz9udWxsKSxlLmJsZW5kQ29sb3IodGhpcy5fc3RhdGUuYmxlbmRDb2xvci5yLHRoaXMuX3N0YXRlLmJsZW5kQ29sb3IuZyx0aGlzLl9zdGF0ZS5ibGVuZENvbG9yLmIsdGhpcy5fc3RhdGUuYmxlbmRDb2xvci5hKSxlLmJpbmRSZW5kZXJidWZmZXIoZS5SRU5ERVJCVUZGRVIsdGhpcy5fc3RhdGUucmVuZGVyYnVmZmVyP3RoaXMuX3N0YXRlLnJlbmRlcmJ1ZmZlci5nbE5hbWU6bnVsbCksITA9PT10aGlzLl9zdGF0ZS5ibGVuZD9lLmVuYWJsZSh0aGlzLmdsLkJMRU5EKTplLmRpc2FibGUodGhpcy5nbC5CTEVORCksZS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUodGhpcy5fc3RhdGUuYmxlbmRFcXVhdGlvbi5tb2RlLHRoaXMuX3N0YXRlLmJsZW5kRXF1YXRpb24ubW9kZUFscGhhKSxlLmJsZW5kRnVuY1NlcGFyYXRlKHRoaXMuX3N0YXRlLmJsZW5kRnVuY3Rpb24uc3JjUkdCLHRoaXMuX3N0YXRlLmJsZW5kRnVuY3Rpb24uZHN0UkdCLHRoaXMuX3N0YXRlLmJsZW5kRnVuY3Rpb24uc3JjQWxwaGEsdGhpcy5fc3RhdGUuYmxlbmRGdW5jdGlvbi5kc3RBbHBoYSksZS5jbGVhckNvbG9yKHRoaXMuX3N0YXRlLmNsZWFyQ29sb3Iucix0aGlzLl9zdGF0ZS5jbGVhckNvbG9yLmcsdGhpcy5fc3RhdGUuY2xlYXJDb2xvci5iLHRoaXMuX3N0YXRlLmNsZWFyQ29sb3IuYSksZS5jbGVhckRlcHRoKHRoaXMuX3N0YXRlLmNsZWFyRGVwdGgpLGUuY2xlYXJTdGVuY2lsKHRoaXMuX3N0YXRlLmNsZWFyU3RlbmNpbCksZS5jb2xvck1hc2sodGhpcy5fc3RhdGUuY29sb3JNYXNrLnIsdGhpcy5fc3RhdGUuY29sb3JNYXNrLmcsdGhpcy5fc3RhdGUuY29sb3JNYXNrLmIsdGhpcy5fc3RhdGUuY29sb3JNYXNrLmEpLGUuY3VsbEZhY2UodGhpcy5fc3RhdGUuY3VsbEZhY2UpLGUuZGVwdGhGdW5jKHRoaXMuX3N0YXRlLmRlcHRoRnVuY3Rpb24pLGUuZGVwdGhSYW5nZSh0aGlzLl9zdGF0ZS5kZXB0aFJhbmdlLnpOZWFyLHRoaXMuX3N0YXRlLmRlcHRoUmFuZ2UuekZhciksITA9PT10aGlzLl9zdGF0ZS5kZXB0aFRlc3Q/ZS5lbmFibGUoZS5ERVBUSF9URVNUKTplLmRpc2FibGUoZS5ERVBUSF9URVNUKSxlLmRlcHRoTWFzayh0aGlzLl9zdGF0ZS5kZXB0aFdyaXRlKSxlLmZyb250RmFjZSh0aGlzLl9zdGF0ZS5mcm9udEZhY2UpLGUubGluZVdpZHRoKDEpLCEwPT09dGhpcy5fc3RhdGUuZmFjZUN1bGxpbmc/ZS5lbmFibGUoZS5DVUxMX0ZBQ0UpOmUuZGlzYWJsZShlLkNVTExfRkFDRSksZS5wb2x5Z29uT2Zmc2V0KHRoaXMuX3N0YXRlLnBvbHlnb25PZmZzZXRbMF0sdGhpcy5fc3RhdGUucG9seWdvbk9mZnNldFsxXSksITA9PT10aGlzLl9zdGF0ZS5wb2x5Z29uT2Zmc2V0RmlsbD9lLmVuYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpOmUuZGlzYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLGUuc2Npc3Nvcih0aGlzLl9zdGF0ZS5zY2lzc29yUmVjdC54LHRoaXMuX3N0YXRlLnNjaXNzb3JSZWN0LnksdGhpcy5fc3RhdGUuc2Npc3NvclJlY3Qud2lkdGgsdGhpcy5fc3RhdGUuc2Npc3NvclJlY3QuaGVpZ2h0KSwhMD09PXRoaXMuX3N0YXRlLnNjaXNzb3JUZXN0P2UuZW5hYmxlKGUuU0NJU1NPUl9URVNUKTplLmRpc2FibGUoZS5TQ0lTU09SX1RFU1QpLGUuc3RlbmNpbEZ1bmModGhpcy5fc3RhdGUuc3RlbmNpbEZ1bmN0aW9uLmZ1bmMsdGhpcy5fc3RhdGUuc3RlbmNpbEZ1bmN0aW9uLnJlZix0aGlzLl9zdGF0ZS5zdGVuY2lsRnVuY3Rpb24ubWFzayksZS5zdGVuY2lsT3BTZXBhcmF0ZSh0aGlzLl9zdGF0ZS5zdGVuY2lsT3BlcmF0aW9uLmZhY2UsdGhpcy5fc3RhdGUuc3RlbmNpbE9wZXJhdGlvbi5mYWlsLHRoaXMuX3N0YXRlLnN0ZW5jaWxPcGVyYXRpb24uekZhaWwsdGhpcy5fc3RhdGUuc3RlbmNpbE9wZXJhdGlvbi56UGFzcyksITA9PT10aGlzLl9zdGF0ZS5zdGVuY2lsVGVzdD9lLmVuYWJsZShlLlNURU5DSUxfVEVTVCk6ZS5kaXNhYmxlKGUuU1RFTkNJTF9URVNUKSxlLnN0ZW5jaWxNYXNrKHRoaXMuX3N0YXRlLnN0ZW5jaWxXcml0ZU1hc2spO2ZvcihsZXQgYT0wO2E8dGhpcy5wYXJhbWV0ZXJzLm1heFRleHR1cmVJbWFnZVVuaXRzO2ErKyl7ZS5hY3RpdmVUZXh0dXJlKGgrYSksZS5iaW5kVGV4dHVyZShSLlRFWFRVUkVfMkQsbnVsbCksZS5iaW5kVGV4dHVyZShSLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy50eXBlPT09ci5XRUJHTDImJihlLmJpbmRUZXh0dXJlKFIuVEVYVFVSRV8zRCxudWxsKSxlLmJpbmRUZXh0dXJlKFIuVEVYVFVSRV8yRF9BUlJBWSxudWxsKSk7Y29uc3QgdD10aGlzLl9zdGF0ZS50ZXh0dXJlVW5pdE1hcFthXTtudWxsIT10JiZlLmJpbmRUZXh0dXJlKHQuZGVzY3JpcHRvci50YXJnZXQsdC5nbE5hbWUpfWUuYWN0aXZlVGV4dHVyZShoK3RoaXMuX3N0YXRlLmFjdGl2ZVRleHR1cmUpO2NvbnN0IGk9dGhpcy5fc3RhdGUudmlld3BvcnQ7ZS52aWV3cG9ydChpLngsaS55LGkud2lkdGgsaS5oZWlnaHQpLHRoaXMucmVzZXRJbmZvKCl9X2xvYWRFeHRlbnNpb25zKCl7dGhpcy50eXBlPT09ci5XRUJHTDEmJnRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX2VsZW1lbnRfaW5kZXhfdWludFwiKSx0aGlzLmdsLmdldEV4dGVuc2lvbihcIktIUl9wYXJhbGxlbF9zaGFkZXJfY29tcGlsZVwiKX19O2Z1bmN0aW9uIHYodCxlLHMsaSl7cmV0dXJuIGU/aSE9PWUmJnQuYmluZEJ1ZmZlcihzLGUuZ2xOYW1lKTp0LmJpbmRCdWZmZXIocyxudWxsKSxlfWZ1bmN0aW9uIE4odCxlKXtzd2l0Y2godCl7Y2FzZSBtLlBPSU5UUzpyZXR1cm4gMiplO2Nhc2UgbS5UUklBTkdMRVM6cmV0dXJuIGUvMztjYXNlIG0uVFJJQU5HTEVfU1RSSVA6Y2FzZSBtLlRSSUFOR0xFX0ZBTjpyZXR1cm4gZS0yO2RlZmF1bHQ6cmV0dXJuIDB9fWV4cG9ydHtQIGFzIFJlbmRlcmluZ0NvbnRleHR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHtEcmF3QXJyYXlzUmVxdWlyZXNJbmRpY2VzVHlwZVJlc2V0IGFzIGV9ZnJvbVwiLi90ZXN0QXBwbGVBbWREcmF3QXJyYXlzLmpzXCI7aW1wb3J0e0RvdWJsZVByZWNpc2lvblJlcXVpcmVzT2JmdXNjYXRpb24gYXMgc31mcm9tXCIuL3Rlc3REb3VibGVQcmVjaXNpb25Bcml0aG1ldGljLmpzXCI7aW1wb3J0e0Zsb2F0QnVmZmVyQmxlbmQgYXMgaX1mcm9tXCIuL3Rlc3RGbG9hdEJ1ZmZlckJsZW5kLmpzXCI7aW1wb3J0e0lnbm9yZXNTYW1wbGVyUHJlY2lzaW9uIGFzIHJ9ZnJvbVwiLi90ZXN0U2FtcGxlclByZWNpc2lvbi5qc1wiO2ltcG9ydHtTVkdQcmVtdWx0aXBsaWVkQWxwaGEgYXMgdH1mcm9tXCIuL3Rlc3RTVkdQcmVtdWx0aXBsaWVkQWxwaGEuanNcIjtjbGFzcyBve2NvbnN0cnVjdG9yKG8pe3RoaXMucmN0eD1vLHRoaXMuZmxvYXRCdWZmZXJCbGVuZD1uZXcgaShvKSx0aGlzLnN2Z1ByZW11bHRpcGxpZXNBbHBoYT1uZXcgdChvKSx0aGlzLmRvdWJsZVByZWNpc2lvblJlcXVpcmVzT2JmdXNjYXRpb249bmV3IHMobyksdGhpcy5pZ25vcmVzU2FtcGxlclByZWNpc2lvbj1uZXcgcihvKSx0aGlzLmRyYXdBcnJheXNSZXF1aXJlc0luZGljZXNUeXBlUmVzZXQ9bmV3IGUobyl9ZGlzcG9zZSgpe3RoaXMuaWdub3Jlc1NhbXBsZXJQcmVjaXNpb24uZGlzcG9zZSgpLHRoaXMuZG91YmxlUHJlY2lzaW9uUmVxdWlyZXNPYmZ1c2NhdGlvbi5kaXNwb3NlKCksdGhpcy5zdmdQcmVtdWx0aXBsaWVzQWxwaGEuZGlzcG9zZSgpLHRoaXMuZmxvYXRCdWZmZXJCbGVuZC5kaXNwb3NlKCksdGhpcy5kcmF3QXJyYXlzUmVxdWlyZXNJbmRpY2VzVHlwZVJlc2V0LmRpc3Bvc2UoKX19ZXhwb3J0e28gYXMgV2ViR0xEcml2ZXJUZXN0fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7Y3JlYXRlRGlzam9pbnRUaW1lclF1ZXJ5IGFzIHR9ZnJvbVwiLi9EaXNqb2ludFRpbWVyUXVlcnkuanNcIjtpbXBvcnR7bG9hZCBhcyBlfWZyb21cIi4vRHJhd0J1ZmZlcnMuanNcIjtpbXBvcnR7bG9hZCBhcyBzfWZyb21cIi4vSW5zdGFuY2luZy5qc1wiO2ltcG9ydHtsb2FkQ29tcHJlc3NlZFRleHR1cmVFVEMgYXMgaSxsb2FkQ29tcHJlc3NlZFRleHR1cmVTM1RDIGFzIHIsbG9hZFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0NhcGFiaWxpdHkgYXMgbixsb2FkVGV4dHVyZUZsb2F0IGFzIG8sbG9hZENvbG9yQnVmZmVyRmxvYXQgYXMgbCxsb2FkTWluTWF4QmxlbmRpbmcgYXMgXyxsb2FkQm9vbGVhbkV4dGVuc2lvbiBhcyBoLGxvYWRUZXh0dXJlTm9ybTE2IGFzIHV9ZnJvbVwiLi9sb2FkLmpzXCI7aW1wb3J0e2xvYWQgYXMgeH1mcm9tXCIuL0xvc2VDb250ZXh0LmpzXCI7aW1wb3J0e2xvYWQgYXMgYX1mcm9tXCIuL1ZlcnRleEFycmF5T2JqZWN0cy5qc1wiO2NsYXNzIGR7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9nbD10LHRoaXMuX2luc3RhbmNpbmc9bnVsbCx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdD1udWxsLHRoaXMuX2NvbXByZXNzZWRUZXh0dXJlRVRDPW51bGwsdGhpcy5fY29tcHJlc3NlZFRleHR1cmVTM1RDPW51bGwsdGhpcy5fdGV4dHVyZUZpbHRlckFuaXNvdHJvcGljPW51bGwsdGhpcy5fdGV4dHVyZUZsb2F0PW51bGwsdGhpcy5fY29sb3JCdWZmZXJGbG9hdD1udWxsLHRoaXMuX21pbk1heEJsZW5kaW5nPW51bGwsdGhpcy5fbG9zZUNvbnRleHQ9bnVsbCx0aGlzLl9kcmF3QnVmZmVycz1udWxsLHRoaXMuX3RleHR1cmVOb3JtMTY9bnVsbCx0aGlzLl9kZXB0aFRleHR1cmU9bnVsbCx0aGlzLl90ZXh0dXJlRmxvYXRMaW5lYXI9bnVsbCx0aGlzLl9kaXNhYmxlZEV4dGVuc2lvbnM9ZS5kaXNhYmxlZEV4dGVuc2lvbnN8fHt9LHRoaXMuX2RlYnVnV2ViR0xFeHRlbnNpb25zPWUuZGVidWdXZWJHTEV4dGVuc2lvbnN8fHt9fWdldCBkcmF3QnVmZmVycygpe3JldHVybiB0aGlzLl9kcmF3QnVmZmVyc3x8KHRoaXMuX2RyYXdCdWZmZXJzPWUodGhpcy5fZ2wsdGhpcy5fZGlzYWJsZWRFeHRlbnNpb25zKSksdGhpcy5fZHJhd0J1ZmZlcnN9Z2V0IGluc3RhbmNpbmcoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2luZ3x8KHRoaXMuX2luc3RhbmNpbmc9cyh0aGlzLl9nbCkpLHRoaXMuX2luc3RhbmNpbmd9Z2V0IHZhbygpe3JldHVybiB0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHx8KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0PWEodGhpcy5fZ2wsdGhpcy5fZGlzYWJsZWRFeHRlbnNpb25zKSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3R9Z2V0IGNvbXByZXNzZWRUZXh0dXJlRVRDKCl7cmV0dXJuIHRoaXMuX2NvbXByZXNzZWRUZXh0dXJlRVRDfHwodGhpcy5fY29tcHJlc3NlZFRleHR1cmVFVEM9aSh0aGlzLl9nbCx0aGlzLl9kaXNhYmxlZEV4dGVuc2lvbnMpKSx0aGlzLl9jb21wcmVzc2VkVGV4dHVyZUVUQ31nZXQgY29tcHJlc3NlZFRleHR1cmVTM1RDKCl7cmV0dXJuIHRoaXMuX2NvbXByZXNzZWRUZXh0dXJlUzNUQ3x8KHRoaXMuX2NvbXByZXNzZWRUZXh0dXJlUzNUQz1yKHRoaXMuX2dsLHRoaXMuX2Rpc2FibGVkRXh0ZW5zaW9ucykpLHRoaXMuX2NvbXByZXNzZWRUZXh0dXJlUzNUQ31nZXQgdGV4dHVyZUZpbHRlckFuaXNvdHJvcGljKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY3x8KHRoaXMuX3RleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYz1uKHRoaXMuX2dsLHRoaXMuX2Rpc2FibGVkRXh0ZW5zaW9ucykpLHRoaXMuX3RleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY31nZXQgZGlzam9pbnRUaW1lclF1ZXJ5KCl7cmV0dXJuIHRoaXMuX2Rpc2pvaW50VGltZXJRdWVyeXx8KHRoaXMuX2Rpc2pvaW50VGltZXJRdWVyeT10KHRoaXMuX2dsLHRoaXMuX2Rpc2FibGVkRXh0ZW5zaW9ucykpLHRoaXMuX2Rpc2pvaW50VGltZXJRdWVyeX1nZXQgdGV4dHVyZUZsb2F0KCl7cmV0dXJuIHRoaXMuX3RleHR1cmVGbG9hdHx8KHRoaXMuX3RleHR1cmVGbG9hdD1vKHRoaXMuX2dsLHRoaXMuX2Rpc2FibGVkRXh0ZW5zaW9ucykpLHRoaXMuX3RleHR1cmVGbG9hdH1nZXQgY29sb3JCdWZmZXJGbG9hdCgpe3JldHVybiB0aGlzLl9jb2xvckJ1ZmZlckZsb2F0fHwodGhpcy5fY29sb3JCdWZmZXJGbG9hdD1sKHRoaXMuX2dsLHRoaXMuX2Rpc2FibGVkRXh0ZW5zaW9ucykpLHRoaXMuX2NvbG9yQnVmZmVyRmxvYXR9Z2V0IGJsZW5kTWluTWF4KCl7cmV0dXJuIHRoaXMuX21pbk1heEJsZW5kaW5nfHwodGhpcy5fbWluTWF4QmxlbmRpbmc9Xyh0aGlzLl9nbCx0aGlzLl9kaXNhYmxlZEV4dGVuc2lvbnMpKSx0aGlzLl9taW5NYXhCbGVuZGluZ31nZXQgZGVwdGhUZXh0dXJlKCl7cmV0dXJuIG51bGw9PT10aGlzLl9kZXB0aFRleHR1cmUmJih0aGlzLl9kZXB0aFRleHR1cmU9aCh0aGlzLl9nbCx0aGlzLl9kaXNhYmxlZEV4dGVuc2lvbnMsXCJkZXB0aFRleHR1cmVcIiwhMCxbXCJXRUJHTF9kZXB0aF90ZXh0dXJlXCIsXCJNT1pfV0VCR0xfZGVwdGhfdGV4dHVyZVwiLFwiV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmVcIl0pKSx0aGlzLl9kZXB0aFRleHR1cmV9Z2V0IGxvc2VDb250ZXh0KCl7cmV0dXJuIHRoaXMuX2xvc2VDb250ZXh0fHwodGhpcy5fbG9zZUNvbnRleHQ9eCh0aGlzLl9nbCx0aGlzLl9kZWJ1Z1dlYkdMRXh0ZW5zaW9ucykpLHRoaXMuX2xvc2VDb250ZXh0fWdldCB0ZXh0dXJlTm9ybTE2KCl7cmV0dXJuIHRoaXMuX3RleHR1cmVOb3JtMTZ8fCh0aGlzLl90ZXh0dXJlTm9ybTE2PXUodGhpcy5fZ2wsdGhpcy5fZGlzYWJsZWRFeHRlbnNpb25zKSksdGhpcy5fdGV4dHVyZU5vcm0xNn1nZXQgdGV4dHVyZUZsb2F0TGluZWFyKCl7cmV0dXJuIG51bGw9PT10aGlzLl90ZXh0dXJlRmxvYXRMaW5lYXImJih0aGlzLl90ZXh0dXJlRmxvYXRMaW5lYXI9aCh0aGlzLl9nbCx0aGlzLl9kaXNhYmxlZEV4dGVuc2lvbnMsXCJ0ZXh0dXJlRmxvYXRMaW5lYXJcIiwhMSxbXCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXJcIl0pKSx0aGlzLl90ZXh0dXJlRmxvYXRMaW5lYXJ9ZW5hYmxlKHQpe3JldHVybiB0aGlzW3RdfX1leHBvcnR7ZCBhcyBDYXBhYmlsaXRpZXN9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCByIGZyb21cIi4vaXNXZWJHTDJDb250ZXh0LmpzXCI7ZnVuY3Rpb24gQShBLF8pe2lmKF8uZGlzam9pbnRUaW1lclF1ZXJ5KXJldHVybiBudWxsO2lmKHIoQSkpcmV0dXJue2RyYXdCdWZmZXJzOkEuZHJhd0J1ZmZlcnMuYmluZChBKSxNQVhfRFJBV19CVUZGRVJTOkEuTUFYX0RSQVdfQlVGRkVSUyxNQVhfQ09MT1JfQVRUQUNITUVOVFM6QS5NQVhfQ09MT1JfQVRUQUNITUVOVFN9O2lmKF8uZHJhd0J1ZmZlcnMpcmV0dXJuIG51bGw7Y29uc3QgZT1BLmdldEV4dGVuc2lvbihcIldFQkdMX2RyYXdfYnVmZmVyc1wiKTtyZXR1cm4gZT97ZHJhd0J1ZmZlcnM6ZS5kcmF3QnVmZmVyc1dFQkdMLmJpbmQoZSksTUFYX0RSQVdfQlVGRkVSUzplLk1BWF9EUkFXX0JVRkZFUlNfV0VCR0wsTUFYX0NPTE9SX0FUVEFDSE1FTlRTOmUuTUFYX0NPTE9SX0FUVEFDSE1FTlRTX1dFQkdMfTpudWxsfWV4cG9ydHtBIGFzIGxvYWR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydCBuIGZyb21cIi4vaXNXZWJHTDJDb250ZXh0LmpzXCI7ZnVuY3Rpb24gcihyKXtpZihuKHIpKXJldHVybiByO2NvbnN0IHQ9ci5nZXRFeHRlbnNpb24oXCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXCIpO3JldHVybiB0P3tkcmF3QXJyYXlzSW5zdGFuY2VkOnQuZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFLmJpbmQodCksZHJhd0VsZW1lbnRzSW5zdGFuY2VkOnQuZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUuYmluZCh0KSx2ZXJ0ZXhBdHRyaWJEaXZpc29yOnQudmVydGV4QXR0cmliRGl2aXNvckFOR0xFLmJpbmQodCl9Om51bGx9ZXhwb3J0e3IgYXMgbG9hZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuZnVuY3Rpb24gZShlLHQpe2NvbnN0IG49dC5sb3NlQ29udGV4dCYmZS5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIik7cmV0dXJuIG4/e2xvc2VSZW5kZXJpbmdDb250ZXh0OigpPT5uLmxvc2VDb250ZXh0KCl9Om51bGx9ZXhwb3J0e2UgYXMgbG9hZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi9pc1dlYkdMMkNvbnRleHQuanNcIjtmdW5jdGlvbiByKHIsdCl7aWYoZShyKSlyZXR1cm57Y3JlYXRlVmVydGV4QXJyYXk6ci5jcmVhdGVWZXJ0ZXhBcnJheS5iaW5kKHIpLGRlbGV0ZVZlcnRleEFycmF5OnIuZGVsZXRlVmVydGV4QXJyYXkuYmluZChyKSxiaW5kVmVydGV4QXJyYXk6ci5iaW5kVmVydGV4QXJyYXkuYmluZChyKX07aWYodC52YW8pcmV0dXJuIG51bGw7Y29uc3Qgbj1yLmdldEV4dGVuc2lvbihcIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpfHxyLmdldEV4dGVuc2lvbihcIk1PWl9PRVNfdmVydGV4X2FycmF5X29iamVjdFwiKXx8ci5nZXRFeHRlbnNpb24oXCJXRUJLSVRfT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIik7cmV0dXJuIG4/e2NyZWF0ZVZlcnRleEFycmF5Om4uY3JlYXRlVmVydGV4QXJyYXlPRVMuYmluZChuKSxkZWxldGVWZXJ0ZXhBcnJheTpuLmRlbGV0ZVZlcnRleEFycmF5T0VTLmJpbmQobiksYmluZFZlcnRleEFycmF5Om4uYmluZFZlcnRleEFycmF5T0VTLmJpbmQobil9Om51bGx9ZXhwb3J0e3IgYXMgbG9hZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IHQgZnJvbVwiLi9pc1dlYkdMMkNvbnRleHQuanNcIjtmdW5jdGlvbiBfKHQsXyl7aWYoXy5jb21wcmVzc2VkVGV4dHVyZUVUQylyZXR1cm4gbnVsbDtjb25zdCBlPXQuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0Y1wiKTtyZXR1cm4gZT97Q09NUFJFU1NFRF9SMTFfRUFDOmUuQ09NUFJFU1NFRF9SMTFfRUFDLENPTVBSRVNTRURfU0lHTkVEX1IxMV9FQUM6ZS5DT01QUkVTU0VEX1NJR05FRF9SMTFfRUFDLENPTVBSRVNTRURfUkcxMV9FQUM6ZS5DT01QUkVTU0VEX1JHMTFfRUFDLENPTVBSRVNTRURfU0lHTkVEX1JHMTFfRUFDOmUuQ09NUFJFU1NFRF9TSUdORURfUkcxMV9FQUMsQ09NUFJFU1NFRF9SR0I4X0VUQzI6ZS5DT01QUkVTU0VEX1JHQjhfRVRDMixDT01QUkVTU0VEX1NSR0I4X0VUQzI6ZS5DT01QUkVTU0VEX1NSR0I4X0VUQzIsQ09NUFJFU1NFRF9SR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMjplLkNPTVBSRVNTRURfUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzIsQ09NUFJFU1NFRF9TUkdCOF9QVU5DSFRIUk9VR0hfQUxQSEExX0VUQzI6ZS5DT01QUkVTU0VEX1NSR0I4X1BVTkNIVEhST1VHSF9BTFBIQTFfRVRDMixDT01QUkVTU0VEX1JHQkE4X0VUQzJfRUFDOmUuQ09NUFJFU1NFRF9SR0JBOF9FVEMyX0VBQyxDT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQzplLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDfTpudWxsfWZ1bmN0aW9uIGUodCxfKXtpZihfLmNvbXByZXNzZWRUZXh0dXJlUzNUQylyZXR1cm4gbnVsbDtjb25zdCBlPXQuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIik7cmV0dXJuIGU/e0NPTVBSRVNTRURfUkdCX1MzVENfRFhUMTplLkNPTVBSRVNTRURfUkdCX1MzVENfRFhUMV9FWFQsQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUMTplLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDFfRVhULENPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDM6ZS5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQzX0VYVCxDT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQ1OmUuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFR9Om51bGx9ZnVuY3Rpb24gRShfLGUpe2lmKHQoXykpcmV0dXJue01JTjpfLk1JTixNQVg6Xy5NQVh9O2lmKGUuYmxlbmRNaW5NYXgpcmV0dXJuIG51bGw7e2NvbnN0IHQ9Xy5nZXRFeHRlbnNpb24oXCJFWFRfYmxlbmRfbWlubWF4XCIpO3JldHVybiB0P3tNSU46dC5NSU5fRVhULE1BWDp0Lk1BWF9FWFR9Om51bGx9fWZ1bmN0aW9uIG4odCxfKXtpZihfLnRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYylyZXR1cm4gbnVsbDtjb25zdCBlPXQuZ2V0RXh0ZW5zaW9uKFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHx0LmdldEV4dGVuc2lvbihcIk1PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIil8fHQuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKTtyZXR1cm4gZT97TUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFk6ZS5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsVEVYVFVSRV9NQVhfQU5JU09UUk9QWTplLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUfTpudWxsfWZ1bmN0aW9uIFIoXyxlKXtpZih0KF8pKXJldHVybnt0ZXh0dXJlRmxvYXQ6ITAsdGV4dHVyZUZsb2F0TGluZWFyOiFlLnRleHR1cmVGbG9hdExpbmVhciYmISFfLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhclwiKSx0ZXh0dXJlSGFsZkZsb2F0OiEwLHRleHR1cmVIYWxmRmxvYXRMaW5lYXI6ITAsSEFMRl9GTE9BVDpfLkhBTEZfRkxPQVQsUjE2RjpfLlIxNkYsUkcxNkY6Xy5SRzE2RixSR0JBMTZGOl8uUkdCQTE2RixSMzJGOl8uUjMyRixSRzMyRjpfLlJHMzJGLFJHQkEzMkY6Xy5SR0JBMzJGLFIxMUZfRzExRl9CMTBGOl8uUjExRl9HMTFGX0IxMEYsUkdCMTZGOl8uUkdCMTZGfTtpZihfIGluc3RhbmNlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0KXtjb25zdCB0PSFlLnRleHR1cmVIYWxmRmxvYXQmJl8uZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKTtyZXR1cm57dGV4dHVyZUZsb2F0OiFlLnRleHR1cmVGbG9hdCYmISFfLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2Zsb2F0XCIpLHRleHR1cmVGbG9hdExpbmVhcjohZS50ZXh0dXJlRmxvYXRMaW5lYXImJiEhXy5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXJcIiksdGV4dHVyZUhhbGZGbG9hdDohIXQsdGV4dHVyZUhhbGZGbG9hdExpbmVhcjohZS50ZXh0dXJlSGFsZkZsb2F0TGluZWFyJiYhIV8uZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXJcIiksSEFMRl9GTE9BVDp0P3QuSEFMRl9GTE9BVF9PRVM6dm9pZCAwfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiByKF8sZSl7aWYodChfKSl7Y29uc3QgdD0hZS5jb2xvckJ1ZmZlckhhbGZGbG9hdCYmXy5nZXRFeHRlbnNpb24oXCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXRcIil8fCFlLmNvbG9yQnVmZmVyRmxvYXQmJl8uZ2V0RXh0ZW5zaW9uKFwiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdFwiKSxFPSFlLmNvbG9yQnVmZmVyRmxvYXQmJl8uZ2V0RXh0ZW5zaW9uKFwiRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdFwiKSxuPSFlLmZsb2F0QmxlbmQmJiFlLmNvbG9yQnVmZmVyRmxvYXQmJl8uZ2V0RXh0ZW5zaW9uKFwiRVhUX2Zsb2F0X2JsZW5kXCIpO3JldHVybiB0fHxFfHxuP3t0ZXh0dXJlRmxvYXQ6ISFFLHRleHR1cmVIYWxmRmxvYXQ6ISF0LGZsb2F0QmxlbmQ6ISFuLFIxNkY6Xy5SMTZGLFJHMTZGOl8uUkcxNkYsUkdCQTE2RjpfLlJHQkExNkYsUjMyRjpfLlIzMkYsUkczMkY6Xy5SRzMyRixSR0JBMzJGOl8uUkdCQTMyRixSMTFGX0cxMUZfQjEwRjpfLlIxMUZfRzExRl9CMTBGLFJHQjE2RjpfLlJHQjE2Rn06bnVsbH1pZihfIGluc3RhbmNlb2YgV2ViR0xSZW5kZXJpbmdDb250ZXh0KXtjb25zdCB0PSFlLmNvbG9yQnVmZmVySGFsZkZsb2F0JiZfLmdldEV4dGVuc2lvbihcIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdFwiKSxFPSFlLmNvbG9yQnVmZmVyRmxvYXQmJl8uZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfY29sb3JfYnVmZmVyX2Zsb2F0XCIpLG49IWUuZmxvYXRCbGVuZCYmIWUuY29sb3JCdWZmZXJGbG9hdCYmXy5nZXRFeHRlbnNpb24oXCJFWFRfZmxvYXRfYmxlbmRcIik7cmV0dXJuIHR8fEV8fG4/e3RleHR1cmVGbG9hdDohIUUsdGV4dHVyZUhhbGZGbG9hdDohIXQsZmxvYXRCbGVuZDohIW4sUkdCQTE2Rjp0P3QuUkdCQTE2Rl9FWFQ6dm9pZCAwLFJHQjE2Rjp0P3QuUkdCMTZGX0VYVDp2b2lkIDAsUkdCQTMyRjpFP0UuUkdCQTMyRl9FWFQ6dm9pZCAwfTpudWxsfXJldHVybiBudWxsfWZ1bmN0aW9uIG8oXyxlLEUsbixSKXtpZihuJiZ0KF8pKXJldHVybiEwO2lmKGVbRV0pcmV0dXJuITE7Zm9yKGNvbnN0IHQgb2YgUilpZihfLmdldEV4dGVuc2lvbih0KSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBsKF8sZSl7aWYoIXQoXykpcmV0dXJuIG51bGw7aWYoZS50ZXh0dXJlTm9ybTE2KXJldHVybiBudWxsO2NvbnN0IEU9Xy5nZXRFeHRlbnNpb24oXCJFWFRfdGV4dHVyZV9ub3JtMTZcIik7cmV0dXJuIEU/e1IxNjpFLlIxNl9FWFQsUkcxNjpFLlJHMTZfRVhULFJHQjE2OkUuUkdCMTZfRVhULFJHQkExNjpFLlJHQkExNl9FWFQsUjE2X1NOT1JNOkUuUjE2X1NOT1JNX0VYVCxSRzE2X1NOT1JNOkUuUkcxNl9TTk9STV9FWFQsUkdCMTZfU05PUk06RS5SR0IxNl9TTk9STV9FWFQsUkdCQTE2X1NOT1JNOkUuUkdCQTE2X1NOT1JNX0VYVH06bnVsbH1leHBvcnR7byBhcyBsb2FkQm9vbGVhbkV4dGVuc2lvbixyIGFzIGxvYWRDb2xvckJ1ZmZlckZsb2F0LF8gYXMgbG9hZENvbXByZXNzZWRUZXh0dXJlRVRDLGUgYXMgbG9hZENvbXByZXNzZWRUZXh0dXJlUzNUQyxFIGFzIGxvYWRNaW5NYXhCbGVuZGluZyxuIGFzIGxvYWRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNDYXBhYmlsaXR5LFIgYXMgbG9hZFRleHR1cmVGbG9hdCxsIGFzIGxvYWRUZXh0dXJlTm9ybTE2fTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5mdW5jdGlvbiB0KHQsbixvKXtmb3IobGV0IHI9MDtyPG87KytyKW5bMipyXT10W3JdLG5bMipyKzFdPXRbcl0tblsyKnJdfWZ1bmN0aW9uIG4odCxuLG8pe2ZvcihsZXQgcj0wO3I8bzsrK3IpbltyXT10WzIqcl0rdFsyKnIrMV19ZnVuY3Rpb24gbyh0LG4pe2NvbnN0IG89dC5sZW5ndGg7Zm9yKGxldCByPTA7cjxvOysrcillWzBdPXRbcl0sbltyXT1lWzBdO3JldHVybiBufWZ1bmN0aW9uIHIodCxuKXtjb25zdCBvPXQubGVuZ3RoO2ZvcihsZXQgcj0wO3I8bzsrK3IpZVswXT10W3JdLGVbMV09dFtyXS1lWzBdLG5bcl09ZVsxXTtyZXR1cm4gbn1jb25zdCBlPW5ldyBGbG9hdDMyQXJyYXkoMik7ZXhwb3J0e24gYXMgZGVjb2RlRG91YmxlQXJyYXksdCBhcyBlbmNvZGVEb3VibGVBcnJheSxvIGFzIGVuY29kZURvdWJsZUhpLHIgYXMgZW5jb2RlRG91YmxlTG99O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmZ1bmN0aW9uIGUoZSl7Y29uc3R7b3B0aW9uczpuLHZhbHVlOm99PWU7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIG5bb119ZnVuY3Rpb24gbihuKXtsZXQgbz1cIlwiO2Zvcihjb25zdCB0IGluIG4pe2NvbnN0IGk9blt0XTtpZihcImJvb2xlYW5cIj09dHlwZW9mIGkpaSYmKG8rPWAjZGVmaW5lICR7dH1cXG5gKTtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiBpKW8rPWAjZGVmaW5lICR7dH0gJHtpLnRvRml4ZWQoKX1cXG5gO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGkpaWYoZShpKSl7Y29uc3R7dmFsdWU6ZSxvcHRpb25zOm4sbmFtZXNwYWNlOmZ9PWkscz1mP2Ake2Z9X2A6XCJcIjtmb3IoY29uc3QgdCBpbiBuKW8rPWAjZGVmaW5lICR7c30ke3R9ICR7blt0XS50b0ZpeGVkKCl9XFxuYDtvKz1gI2RlZmluZSAke3R9ICR7c30ke2V9XFxuYH1lbHNle2NvbnN0IGU9aS5vcHRpb25zO2xldCBuPTA7Zm9yKGNvbnN0IHQgaW4gZSlvKz1gI2RlZmluZSAke2VbdF19ICR7KG4rKykudG9GaXhlZCgpfVxcbmA7bys9YCNkZWZpbmUgJHt0fSAke2VbaS52YWx1ZV19XFxuYH19cmV0dXJuIG99ZXhwb3J0e24gYXMgZ2xzbGlmeURlZmluZU1hcH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGhhcyBmcm9tXCIuLi8uLi9jb3JlL2hhcy5qc1wiO2ltcG9ydHtnbHNsIGFzIHJ9ZnJvbVwiLi4vM2Qvd2ViZ2wtZW5naW5lL2NvcmUvc2hhZGVyTW9kdWxlcy9pbnRlcmZhY2VzLmpzXCI7aW1wb3J0e0FwcGxlQW1kRHJpdmVySGVscGVyIGFzIGV9ZnJvbVwiLi9BcHBsZUFtZERyaXZlckhlbHBlci5qc1wiO2ltcG9ydHtCdWZmZXJPYmplY3QgYXMgdH1mcm9tXCIuL0J1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHtDb250ZXh0VHlwZSBhcyBvfWZyb21cIi4vY29udGV4dFV0aWxzLmpzXCI7aW1wb3J0e1RleHR1cmVXcmFwTW9kZSBhcyBuLFRleHR1cmVTYW1wbGluZ01vZGUgYXMgcyxVc2FnZSBhcyBpLEJ1ZmZlclR5cGUgYXMgYSxQcmltaXRpdmVUeXBlIGFzIHAsRGF0YVR5cGUgYXMgYyxQaXhlbEZvcm1hdCBhcyBsLFBpeGVsVHlwZSBhcyBtfWZyb21cIi4vZW51bXMuanNcIjtpbXBvcnR7RnJhbWVidWZmZXJPYmplY3QgYXMgZn1mcm9tXCIuL0ZyYW1lYnVmZmVyT2JqZWN0LmpzXCI7aW1wb3J0e1RleHR1cmVEZXNjcmlwdG9yIGFzIGd9ZnJvbVwiLi9UZXh0dXJlRGVzY3JpcHRvci5qc1wiO2ltcG9ydHtXZWJHTERyaXZlclRlc3RNb2R1bGUgYXMgZH1mcm9tXCIuL1dlYkdMRHJpdmVyVGVzdE1vZHVsZS5qc1wiO2NsYXNzIGggZXh0ZW5kcyBke2NvbnN0cnVjdG9yKHIpe3N1cGVyKCksdGhpcy5fcmN0eD1yLHRoaXMuX2hlbHBlclByb2dyYW09bnVsbCx0aGlzLl9yY3R4LnR5cGU9PT1vLldFQkdMMiYmaGFzKFwibWFjXCIpJiZoYXMoXCJjaHJvbWVcIikmJih0aGlzLl9wcm9ncmFtPXRoaXMuX3ByZXBhcmVQcm9ncmFtKCksdGhpcy5faGVscGVyUHJvZ3JhbT10aGlzLl9wcmVwYXJlSGVscGVyUHJvZ3JhbSgpKX1kaXNwb3NlKCl7c3VwZXIuZGlzcG9zZSgpLHRoaXMuX2hlbHBlclByb2dyYW0/LmRpc3Bvc2UoKSx0aGlzLl9oZWxwZXJQcm9ncmFtPW51bGx9X3Rlc3Qocil7Y29uc3QgZT10aGlzLl9yY3R4O2UucmVzZXRTdGF0ZSgpO2NvbnN0IG89bmV3IGcoMSk7by53cmFwTW9kZT1uLkNMQU1QX1RPX0VER0Usby5zYW1wbGluZ01vZGU9cy5ORUFSRVNUO2NvbnN0IGQ9bmV3IGYoZSxvKSxoPXQuY3JlYXRlSW5kZXgodGhpcy5fcmN0eCxpLlNUQVRJQ19EUkFXLG5ldyBVaW50OEFycmF5KFswXSkpO2UuYmluZEZyYW1lYnVmZmVyKGQpLGUuc2V0Vmlld3BvcnQoMCwwLDEsMSksZS51c2VQcm9ncmFtKHRoaXMuX2hlbHBlclByb2dyYW0pLGUuYmluZEJ1ZmZlcihoLGEuRUxFTUVOVF9BUlJBWV9CVUZGRVIpLGUuZHJhd0VsZW1lbnRzKHAuUE9JTlRTLDEsYy5VTlNJR05FRF9CWVRFLDApLGUudXNlUHJvZ3JhbShyKSxlLmJpbmRWQU8obnVsbCksZS5kcmF3QXJyYXlzKHAuVFJJQU5HTEVTLDAsMjU4KTtjb25zdCBfPW5ldyBVaW50OEFycmF5KDQpO3JldHVybiBkLnJlYWRQaXhlbHMoMCwwLDEsMSxsLlJHQkEsbS5VTlNJR05FRF9CWVRFLF8pLGQuZGlzcG9zZSgpLGguZGlzcG9zZSgpLDI1NT09PV9bMF19X3ByZXBhcmVQcm9ncmFtKCl7Y29uc3QgZT04NSx0PWAjdmVyc2lvbiAzMDAgZXNcXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbiAgICBvdXQgZmxvYXQgdHJpYW5nbGVJZDtcXG5cXG4gICAgY29uc3QgdmVjMyB0cmlhbmdsZVZlcnRpY2VzWzNdID0gdmVjM1szXSh2ZWMzKC0wLjUsIC0wLjUsIDAuMCksIHZlYzMoMC41LCAtMC41LCAwLjApLCB2ZWMzKDAuMCwgMC41LCAwLjApKTtcXG5cXG4gICAgdm9pZCBtYWluKHZvaWQpIHtcXG4gICAgICB0cmlhbmdsZUlkID0gZmxvb3IoZmxvYXQoZ2xfVmVydGV4SUQpLzMuMCk7XFxuXFxuICAgICAgdmVjMyBwb3NpdGlvbiA9IHRyaWFuZ2xlVmVydGljZXNbZ2xfVmVydGV4SUQgJSAzXTtcXG4gICAgICBmbG9hdCBvZmZzZXQgPSB0cmlhbmdsZUlkIC8gJHtyLmZsb2F0KGUpfTtcXG4gICAgICBwb3NpdGlvbi56ID0gMC41IC0gb2Zmc2V0O1xcblxcbiAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChwb3NpdGlvbiwgMS4wKTtcXG4gICAgfVxcbiAgICBgLG89YCN2ZXJzaW9uIDMwMCBlc1xcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuXFxuICAgIGluIGZsb2F0IHRyaWFuZ2xlSWQ7XFxuXFxuICAgIG91dCB2ZWM0IGZyYWdDb2xvcjtcXG5cXG4gICAgdm9pZCBtYWluKHZvaWQpIHtcXG4gICAgICBmcmFnQ29sb3IgPSB0cmlhbmdsZUlkID09ICR7ci5mbG9hdChlKX0gPyB2ZWM0KDAuMCwgMS4wLCAwLjAsIDEuMCkgOiB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7XFxuICAgIH1cXG4gICAgYDtyZXR1cm4gdGhpcy5fcmN0eC5wcm9ncmFtQ2FjaGUuYWNxdWlyZSh0LG8sbmV3IE1hcChbXSkpfV9wcmVwYXJlSGVscGVyUHJvZ3JhbSgpe2NvbnN0IHI9ZS5nZXRTaGFkZXJTb3VyY2VzKCk7cmV0dXJuIHRoaXMuX3JjdHgucHJvZ3JhbUNhY2hlLmFjcXVpcmUoci52ZXJ0ZXgsci5mcmFnbWVudCxuZXcgTWFwKFtdKSl9fWV4cG9ydHtoIGFzIERyYXdBcnJheXNSZXF1aXJlc0luZGljZXNUeXBlUmVzZXR9O1xuIiwiLypcbkFsbCBtYXRlcmlhbCBjb3B5cmlnaHQgRVNSSSwgQWxsIFJpZ2h0cyBSZXNlcnZlZCwgdW5sZXNzIG90aGVyd2lzZSBzcGVjaWZpZWQuXG5TZWUgaHR0cHM6Ly9qcy5hcmNnaXMuY29tLzQuMjcvZXNyaS9jb3B5cmlnaHQudHh0IGZvciBkZXRhaWxzLlxuKi9cbmltcG9ydHt1bnBhY2tGbG9hdFJHQkEgYXMgZX1mcm9tXCIuLi8uLi9jb3JlL2Zsb2F0UkdCQS5qc1wiO2ltcG9ydCBoYXMgZnJvbVwiLi4vLi4vY29yZS9oYXMuanNcIjtpbXBvcnR7ZGlzcG9zZU1heWJlIGFzIG59ZnJvbVwiLi4vLi4vY29yZS9tYXliZS5qc1wiO2ltcG9ydHtmIGFzIG99ZnJvbVwiLi4vLi4vY2h1bmtzL3ZlYzNmNjQuanNcIjtpbXBvcnR7QnVmZmVyT2JqZWN0IGFzIHR9ZnJvbVwiLi9CdWZmZXJPYmplY3QuanNcIjtpbXBvcnR7ZW5jb2RlRG91YmxlQXJyYXkgYXMgcn1mcm9tXCIuL2RvdWJsZVByZWNpc2lvblV0aWxzLmpzXCI7aW1wb3J0e1RleHR1cmVXcmFwTW9kZSBhcyBpLFRleHR1cmVTYW1wbGluZ01vZGUgYXMgcyxVc2FnZSBhcyBjLERhdGFUeXBlIGFzIGEsUHJpbWl0aXZlVHlwZSBhcyB1LFBpeGVsRm9ybWF0IGFzIGYsUGl4ZWxUeXBlIGFzIGx9ZnJvbVwiLi9lbnVtcy5qc1wiO2ltcG9ydHtGcmFtZWJ1ZmZlck9iamVjdCBhcyBwfWZyb21cIi4vRnJhbWVidWZmZXJPYmplY3QuanNcIjtpbXBvcnR7VGV4dHVyZURlc2NyaXB0b3IgYXMgdn1mcm9tXCIuL1RleHR1cmVEZXNjcmlwdG9yLmpzXCI7aW1wb3J0e1ZlcnRleEFycmF5T2JqZWN0IGFzIG19ZnJvbVwiLi9WZXJ0ZXhBcnJheU9iamVjdC5qc1wiO2ltcG9ydHtWZXJ0ZXhFbGVtZW50RGVzY3JpcHRvciBhcyBofWZyb21cIi4vVmVydGV4RWxlbWVudERlc2NyaXB0b3IuanNcIjtpbXBvcnR7V2ViR0xEcml2ZXJUZXN0TW9kdWxlIGFzIF99ZnJvbVwiLi9XZWJHTERyaXZlclRlc3RNb2R1bGUuanNcIjtjbGFzcyBkIGV4dGVuZHMgX3tjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX3JjdHg9ZSx0aGlzLl9wcm9ncmFtPUEodGhpcy5fcmN0eCwhMSksdGhpcy5fb2JmdXNjYXRlZD1BKHRoaXMuX3JjdHgsITApfWRpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCksdGhpcy5fb2JmdXNjYXRlZD1uKHRoaXMuX29iZnVzY2F0ZWQpfV90ZXN0KGUpe2lmKGhhcyhcImZvcmNlLWRvdWJsZS1wcmVjaXNpb24tb2JmdXNjYXRpb25cIikpcmV0dXJuITA7aWYobnVsbD09dGhpcy5fb2JmdXNjYXRlZClyZXR1cm4hMTtjb25zdCBuPXRoaXMuX3J1blByb2dyYW0oZSksbz10aGlzLl9ydW5Qcm9ncmFtKHRoaXMuX29iZnVzY2F0ZWQpO3JldHVybiAwIT09biYmKDA9PT1vfHxuL28+NSl9X3J1blByb2dyYW0obil7Y29uc3QgXz10aGlzLl9yY3R4O18ucmVzZXRTdGF0ZSgpO2NvbnN0IGQ9bmV3IHYoMSk7ZC53cmFwTW9kZT1pLkNMQU1QX1RPX0VER0UsZC5zYW1wbGluZ01vZGU9cy5ORUFSRVNUO2NvbnN0IEE9bmV3IHAoXyxkKSxiPXQuY3JlYXRlVmVydGV4KF8sYy5TVEFUSUNfRFJBVyxuZXcgVWludDE2QXJyYXkoWzAsMCwxLDAsMCwxLDEsMV0pKSxnPW5ldyBtKF8sbmV3IE1hcChbW1wicG9zaXRpb25cIiwwXV0pLHtnZW9tZXRyeTpbbmV3IGgoXCJwb3NpdGlvblwiLDIsYS5VTlNJR05FRF9TSE9SVCwwLDQpXX0se2dlb21ldHJ5OmJ9KSxCPW8oNTYzMzI2MS4yODc1MzgyMjksMjYyNjgzMi44Nzg3NjcxNjQsMTQzNDk4OC4wNDk1Mjc4MzU4KSxGPW8oNTYzMzI3MS40Njc0MjcwOCwyNjI2ODczLjYzODEzMzQ1MjMsMTQzNDk2My4yMzE2MDgzODcpLHc9bmV3IEZsb2F0MzJBcnJheSg2KTtyKEIsdywzKTtjb25zdCBFPW5ldyBGbG9hdDMyQXJyYXkoNik7cihGLEUsMyksXy51c2VQcm9ncmFtKG4pLG4uc2V0VW5pZm9ybTNmKFwidV9oaWdoQVwiLHdbMF0sd1syXSx3WzRdKSxuLnNldFVuaWZvcm0zZihcInVfbG93QVwiLHdbMV0sd1szXSx3WzVdKSxuLnNldFVuaWZvcm0zZihcInVfaGlnaEJcIixFWzBdLEVbMl0sRVs0XSksbi5zZXRVbmlmb3JtM2YoXCJ1X2xvd0JcIixFWzFdLEVbM10sRVs1XSksXy5iaW5kRnJhbWVidWZmZXIoQSksXy5zZXRWaWV3cG9ydCgwLDAsMSwxKSxfLmJpbmRWQU8oZyksXy5kcmF3QXJyYXlzKHUuVFJJQU5HTEVfU1RSSVAsMCw0KTtjb25zdCBPPW5ldyBVaW50OEFycmF5KDQpO0EucmVhZFBpeGVscygwLDAsMSwxLGYuUkdCQSxsLlVOU0lHTkVEX0JZVEUsTyksZy5kaXNwb3NlKCksQS5kaXNwb3NlKCk7Y29uc3QgST0oQlsyXS1GWzJdKS8yNSxVPWUoTyk7cmV0dXJuIE1hdGguYWJzKEktVSl9fWZ1bmN0aW9uIEEoZSxuKXtjb25zdCBvPWBcXG5cXG4gIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG4gIGF0dHJpYnV0ZSB2ZWMyIHBvc2l0aW9uO1xcblxcbiAgdW5pZm9ybSB2ZWMzIHVfaGlnaEE7XFxuICB1bmlmb3JtIHZlYzMgdV9sb3dBO1xcbiAgdW5pZm9ybSB2ZWMzIHVfaGlnaEI7XFxuICB1bmlmb3JtIHZlYzMgdV9sb3dCO1xcblxcbiAgdmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuXFxuICAke24/XCIjZGVmaW5lIERPVUJMRV9QUkVDSVNJT05fUkVRVUlSRVNfT0JGVVNDQVRJT05cIjpcIlwifVxcblxcbiAgI2lmZGVmIERPVUJMRV9QUkVDSVNJT05fUkVRVUlSRVNfT0JGVVNDQVRJT05cXG5cXG4gIHZlYzMgZHBQbHVzRnJjKHZlYzMgYSwgdmVjMyBiKSB7XFxuICAgIHJldHVybiBtaXgoYSwgYSArIGIsIHZlYzMobm90RXF1YWwoYiwgdmVjMygwKSkpKTtcXG4gIH1cXG5cXG4gIHZlYzMgZHBNaW51c0ZyYyh2ZWMzIGEsIHZlYzMgYikge1xcbiAgICByZXR1cm4gbWl4KHZlYzMoMCksIGEgLSBiLCB2ZWMzKG5vdEVxdWFsKGEsIGIpKSk7XFxuICB9XFxuXFxuICB2ZWMzIGRwQWRkKHZlYzMgaGlBLCB2ZWMzIGxvQSwgdmVjMyBoaUIsIHZlYzMgbG9CKSB7XFxuICAgIHZlYzMgdDEgPSBkcFBsdXNGcmMoaGlBLCBoaUIpO1xcbiAgICB2ZWMzIGUgPSBkcE1pbnVzRnJjKHQxLCBoaUEpO1xcbiAgICB2ZWMzIHQyID0gZHBNaW51c0ZyYyhoaUIsIGUpICsgZHBNaW51c0ZyYyhoaUEsIGRwTWludXNGcmModDEsIGUpKSArIGxvQSArIGxvQjtcXG4gICAgcmV0dXJuIHQxICsgdDI7XFxuICB9XFxuXFxuICAjZWxzZVxcblxcbiAgdmVjMyBkcEFkZCh2ZWMzIGhpQSwgdmVjMyBsb0EsIHZlYzMgaGlCLCB2ZWMzIGxvQikge1xcbiAgICB2ZWMzIHQxID0gaGlBICsgaGlCO1xcbiAgICB2ZWMzIGUgPSB0MSAtIGhpQTtcXG4gICAgdmVjMyB0MiA9ICgoaGlCIC0gZSkgKyAoaGlBIC0gKHQxIC0gZSkpKSArIGxvQSArIGxvQjtcXG4gICAgcmV0dXJuIHQxICsgdDI7XFxuICB9XFxuXFxuICAjZW5kaWZcXG5cXG4gIGNvbnN0IGZsb2F0IE1BWF9SR0JBX0ZMT0FUID1cXG4gICAgMjU1LjAgLyAyNTYuMCArXFxuICAgIDI1NS4wIC8gMjU2LjAgLyAyNTYuMCArXFxuICAgIDI1NS4wIC8gMjU2LjAgLyAyNTYuMCAvIDI1Ni4wICtcXG4gICAgMjU1LjAgLyAyNTYuMCAvIDI1Ni4wIC8gMjU2LjAgLyAyNTYuMDtcXG5cXG4gIGNvbnN0IHZlYzQgRklYRURfUE9JTlRfRkFDVE9SUyA9IHZlYzQoMS4wLCAyNTYuMCwgMjU2LjAgKiAyNTYuMCwgMjU2LjAgKiAyNTYuMCAqIDI1Ni4wKTtcXG5cXG4gIHZlYzQgZmxvYXQycmdiYShjb25zdCBmbG9hdCB2YWx1ZSkge1xcbiAgICAvLyBNYWtlIHN1cmUgdmFsdWUgaXMgaW4gdGhlIGRvbWFpbiB3ZSBjYW4gcmVwcmVzZW50XFxuICAgIGZsb2F0IHZhbHVlSW5WYWxpZERvbWFpbiA9IGNsYW1wKHZhbHVlLCAwLjAsIE1BWF9SR0JBX0ZMT0FUKTtcXG5cXG4gICAgLy8gRGVjb21wb3NlIHZhbHVlIGluIDMyYml0IGZpeGVkIHBvaW50IHBhcnRzIHJlcHJlc2VudGVkIGFzXFxuICAgIC8vIHVpbnQ4IHJnYmEgY29tcG9uZW50cy4gRGVjb21wb3NpdGlvbiB1c2VzIHRoZSBmcmFjdGlvbmFsIHBhcnQgYWZ0ZXIgbXVsdGlwbHlpbmdcXG4gICAgLy8gYnkgYSBwb3dlciBvZiAyNTYgKHRoaXMgcmVtb3ZlcyB0aGUgYml0cyB0aGF0IGFyZSByZXByZXNlbnRlZCBpbiB0aGUgcHJldmlvdXNcXG4gICAgLy8gY29tcG9uZW50KSBhbmQgdGhlbiBjb252ZXJ0cyB0aGUgZnJhY3Rpb25hbCBwYXJ0IHRvIDhiaXRzLlxcbiAgICB2ZWM0IGZpeGVkUG9pbnRVOCA9IGZsb29yKGZyYWN0KHZhbHVlSW5WYWxpZERvbWFpbiAqIEZJWEVEX1BPSU5UX0ZBQ1RPUlMpICogMjU2LjApO1xcblxcbiAgICAvLyBDb252ZXJ0IHVpbnQ4IHZhbHVlcyAoZnJvbSAwIHRvIDI1NSkgdG8gZmxvYXRpbmcgcG9pbnQgcmVwcmVzZW50YXRpb24gZm9yXFxuICAgIC8vIHRoZSBzaGFkZXJcXG4gICAgY29uc3QgZmxvYXQgdG9VOEFzRmxvYXQgPSAxLjAgLyAyNTUuMDtcXG5cXG4gICAgcmV0dXJuIGZpeGVkUG9pbnRVOCAqIHRvVThBc0Zsb2F0O1xcbiAgfVxcblxcbiAgdm9pZCBtYWluKCkge1xcbiAgICB2ZWMzIHZhbCA9IGRwQWRkKHVfaGlnaEEsIHVfbG93QSwgLXVfaGlnaEIsIC11X2xvd0IpO1xcblxcbiAgICB2X2NvbG9yID0gZmxvYXQycmdiYSh2YWwueiAvIDI1LjApO1xcblxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQocG9zaXRpb24gKiAyLjAgLSAxLjAsIDAuMCwgMS4wKTtcXG4gIH1cXG4gIGAsdD1cIlxcbiAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbiAgdmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuXFxuICB2b2lkIG1haW4oKSB7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZfY29sb3I7XFxuICB9XFxuICBcIjtyZXR1cm4gZS5wcm9ncmFtQ2FjaGUuYWNxdWlyZShvLHQsbmV3IE1hcChbW1wicG9zaXRpb25cIiwwXV0pKX1leHBvcnR7ZCBhcyBEb3VibGVQcmVjaXNpb25SZXF1aXJlc09iZnVzY2F0aW9ufTtcbiIsIi8qXG5BbGwgbWF0ZXJpYWwgY29weXJpZ2h0IEVTUkksIEFsbCBSaWdodHMgUmVzZXJ2ZWQsIHVubGVzcyBvdGhlcndpc2Ugc3BlY2lmaWVkLlxuU2VlIGh0dHBzOi8vanMuYXJjZ2lzLmNvbS80LjI3L2VzcmkvY29weXJpZ2h0LnR4dCBmb3IgZGV0YWlscy5cbiovXG5pbXBvcnR7YmxlbmRpbmdBbHBoYSBhcyBlfWZyb21cIi4uLzNkL3dlYmdsLWVuZ2luZS9saWIvT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeS5qc1wiO2ltcG9ydHtCdWZmZXJPYmplY3QgYXMgdH1mcm9tXCIuL0J1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHtDb250ZXh0VHlwZSBhcyByfWZyb21cIi4vY29udGV4dFV0aWxzLmpzXCI7aW1wb3J0e1RleHR1cmVXcmFwTW9kZSBhcyBvLFBpeGVsVHlwZSBhcyBpLFNpemVkUGl4ZWxGb3JtYXQgYXMgYSxUZXh0dXJlU2FtcGxpbmdNb2RlIGFzIG4sVXNhZ2UgYXMgcyxEYXRhVHlwZSBhcyBwLFByaW1pdGl2ZVR5cGUgYXMgbH1mcm9tXCIuL2VudW1zLmpzXCI7aW1wb3J0e0ZyYW1lYnVmZmVyT2JqZWN0IGFzIGN9ZnJvbVwiLi9GcmFtZWJ1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHttYWtlUGlwZWxpbmVTdGF0ZSBhcyBtfWZyb21cIi4vcmVuZGVyU3RhdGUuanNcIjtpbXBvcnR7VGV4dHVyZURlc2NyaXB0b3IgYXMgZn1mcm9tXCIuL1RleHR1cmVEZXNjcmlwdG9yLmpzXCI7aW1wb3J0e1ZlcnRleEFycmF5T2JqZWN0IGFzIHV9ZnJvbVwiLi9WZXJ0ZXhBcnJheU9iamVjdC5qc1wiO2ltcG9ydHtWZXJ0ZXhFbGVtZW50RGVzY3JpcHRvciBhcyBifWZyb21cIi4vVmVydGV4RWxlbWVudERlc2NyaXB0b3IuanNcIjtpbXBvcnR7V2ViR0xEcml2ZXJUZXN0TW9kdWxlIGFzIGR9ZnJvbVwiLi9XZWJHTERyaXZlclRlc3RNb2R1bGUuanNcIjtjbGFzcyBnIGV4dGVuZHMgZHtjb25zdHJ1Y3RvcihlKXtpZihzdXBlcigpLHRoaXMuX3JjdHg9ZSwhZS5nbClyZXR1cm47aWYoZS50eXBlPT09ci5XRUJHTDEpcmV0dXJuIHZvaWQodGhpcy5fcmVzdWx0PSEoIWUuY2FwYWJpbGl0aWVzLnRleHR1cmVGbG9hdD8udGV4dHVyZUZsb2F0fHwhZS5jYXBhYmlsaXRpZXMuY29sb3JCdWZmZXJGbG9hdD8udGV4dHVyZUZsb2F0KSk7aWYoIShlLmNhcGFiaWxpdGllcy50ZXh0dXJlRmxvYXQ/LnRleHR1cmVGbG9hdCYmZS5jYXBhYmlsaXRpZXMuY29sb3JCdWZmZXJGbG9hdD8udGV4dHVyZUZsb2F0JiZlLmNhcGFiaWxpdGllcy5jb2xvckJ1ZmZlckZsb2F0Py5mbG9hdEJsZW5kKSlyZXR1cm47Y29uc3QgdD1cIlxcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcblxcbiAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFfcG9zICogMi4wIC0gMS4wLCAwLjAsIDEuMCk7XFxuICAgIH1cXG4gICAgXCIsbz1cIlxcbiAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbiAgICAgdm9pZCBtYWluKCkge1xcbiAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMC41LCAwLjUsIDAuNSwgMC41KTtcXG4gICAgIH1cXG4gICAgXCI7dGhpcy5fcHJvZ3JhbT1lLnByb2dyYW1DYWNoZS5hY3F1aXJlKHQsbyxuZXcgTWFwKFtbXCJhX3Bvc1wiLDBdXSkpfV90ZXN0KHIpe2NvbnN0IGQ9dGhpcy5fcmN0eCxnPW5ldyBmKDEpO2cud3JhcE1vZGU9by5DTEFNUF9UT19FREdFLGcuZGF0YVR5cGU9aS5GTE9BVCxnLmludGVybmFsRm9ybWF0PWEuUkdCQTMyRixnLnNhbXBsaW5nTW9kZT1uLk5FQVJFU1Q7Y29uc3QgXz1uZXcgYyhkLGcpLHg9dC5jcmVhdGVWZXJ0ZXgoZCxzLlNUQVRJQ19EUkFXLG5ldyBVaW50MTZBcnJheShbMCwwLDEsMCwwLDEsMSwxXSkpLEY9bmV3IHUoZCxuZXcgTWFwKFtbXCJhX3Bvc1wiLDBdXSkse2dlb21ldHJ5OltuZXcgYihcImFfcG9zXCIsMixwLlVOU0lHTkVEX1NIT1JULDAsNCldfSx7Z2VvbWV0cnk6eH0pO2QudXNlUHJvZ3JhbShyKTtjb25zdCB3PWQuZ2V0Qm91bmRGcmFtZWJ1ZmZlck9iamVjdCgpLHt4OmoseTpULHdpZHRoOkEsaGVpZ2h0Omh9PWQuZ2V0Vmlld3BvcnQoKTtkLmJpbmRGcmFtZWJ1ZmZlcihfKSxkLnNldFZpZXdwb3J0KDAsMCwxLDEpLGQuYmluZFZBTyhGKSxkLmRyYXdBcnJheXMobC5UUklBTkdMRV9TVFJJUCwwLDQpO2NvbnN0IHk9bSh7YmxlbmRpbmc6ZX0pO2Quc2V0UGlwZWxpbmVTdGF0ZSh5KSxkLmRyYXdBcnJheXMobC5UUklBTkdMRV9TVFJJUCwwLDQpO2NvbnN0IEU9ZC5nbC5nZXRFcnJvcigpO3JldHVybiBkLnNldFZpZXdwb3J0KGosVCxBLGgpLGQuYmluZEZyYW1lYnVmZmVyKHcpLEYuZGlzcG9zZSgpLF8uZGlzcG9zZSgpLDEyODIhPT1FfHwoY29uc29sZS53YXJuKFwiRGV2aWNlIGNsYWltcyBzdXBwb3J0IGZvciBXZWJHTCBleHRlbnNpb24gRVhUX2Zsb2F0X2JsZW5kIGJ1dCBkb2VzIG5vdCBzdXBwb3J0IGl0LiBVc2luZyBmYWxsIGJhY2suXCIpLCExKX19ZXhwb3J0e2cgYXMgRmxvYXRCdWZmZXJCbGVuZH07XG4iLCIvKlxuQWxsIG1hdGVyaWFsIGNvcHlyaWdodCBFU1JJLCBBbGwgUmlnaHRzIFJlc2VydmVkLCB1bmxlc3Mgb3RoZXJ3aXNlIHNwZWNpZmllZC5cblNlZSBodHRwczovL2pzLmFyY2dpcy5jb20vNC4yNy9lc3JpL2NvcHlyaWdodC50eHQgZm9yIGRldGFpbHMuXG4qL1xuaW1wb3J0IGUgZnJvbVwiLi4vLi4vY29yZS9Mb2dnZXIuanNcIjtpbXBvcnR7QnVmZmVyT2JqZWN0IGFzIHJ9ZnJvbVwiLi9CdWZmZXJPYmplY3QuanNcIjtpbXBvcnR7VGV4dHVyZVdyYXBNb2RlIGFzIHQsVGV4dHVyZVNhbXBsaW5nTW9kZSBhcyBvLFVzYWdlIGFzIGksRGF0YVR5cGUgYXMgbixQcmltaXRpdmVUeXBlIGFzIHMsUGl4ZWxGb3JtYXQgYXMgYSxQaXhlbFR5cGUgYXMgcH1mcm9tXCIuL2VudW1zLmpzXCI7aW1wb3J0e0ZyYW1lYnVmZmVyT2JqZWN0IGFzIG19ZnJvbVwiLi9GcmFtZWJ1ZmZlck9iamVjdC5qc1wiO2ltcG9ydHtUZXh0dXJlIGFzIGN9ZnJvbVwiLi9UZXh0dXJlLmpzXCI7aW1wb3J0e1RleHR1cmVEZXNjcmlwdG9yIGFzIHV9ZnJvbVwiLi9UZXh0dXJlRGVzY3JpcHRvci5qc1wiO2ltcG9ydHtWZXJ0ZXhBcnJheU9iamVjdCBhcyBmfWZyb21cIi4vVmVydGV4QXJyYXlPYmplY3QuanNcIjtpbXBvcnR7VmVydGV4RWxlbWVudERlc2NyaXB0b3IgYXMgbH1mcm9tXCIuL1ZlcnRleEVsZW1lbnREZXNjcmlwdG9yLmpzXCI7aW1wb3J0e1dlYkdMRHJpdmVyVGVzdE1vZHVsZSBhcyBkfWZyb21cIi4vV2ViR0xEcml2ZXJUZXN0TW9kdWxlLmpzXCI7Y2xhc3MgZyBleHRlbmRzIGR7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl9yY3R4PWU7Y29uc3Qgcj1cIlxcbiAgICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4gICAgICBhdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG4gICAgICB1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X3RleHR1cmU7XFxuICAgICAgdmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuXFxuICAgICAgZmxvYXQgZ2V0Qml0KGluIGZsb2F0IGJpdHNldCwgaW4gaW50IGJpdEluZGV4KSB7XFxuICAgICAgICBmbG9hdCBvZmZzZXQgPSBwb3coMi4wLCBmbG9hdChiaXRJbmRleCkpO1xcbiAgICAgICAgcmV0dXJuIG1vZChmbG9vcihiaXRzZXQgLyBvZmZzZXQpLCAyLjApO1xcbiAgICAgIH1cXG5cXG4gICAgICB2b2lkIG1haW4oKSB7XFxuICAgICAgICB2ZWM0IHZhbHVlID0gdGV4dHVyZTJEKHVfdGV4dHVyZSwgdmVjMigwLjApKTtcXG4gICAgICAgIGZsb2F0IGJpdCA9IGdldEJpdCh2YWx1ZS54ICogMjU1LjAsIDEpO1xcblxcbiAgICAgICAgdl9jb2xvciA9IGJpdCAqIHZlYzQoMS4wKTtcXG4gICAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhX3BvcyAqIDIuMCAtIDEuMCwgMC4wLCAxLjApO1xcbiAgICAgIH1cXG4gICAgICBcIix0PVwiXFxuICAgICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiAgICAgIHZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcblxcbiAgICAgIHZvaWQgbWFpbigpIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZfY29sb3I7XFxuICAgICAgfVxcbiAgICAgIFwiO3RoaXMuX3Byb2dyYW09ZS5wcm9ncmFtQ2FjaGUuYWNxdWlyZShyLHQsbmV3IE1hcChbW1wiYV9wb3NcIiwwXV0pKX1fdGVzdChkKXtjb25zdCBnPXRoaXMuX3JjdHgsYj1uZXcgdSgxKTtiLndyYXBNb2RlPXQuQ0xBTVBfVE9fRURHRSxiLnNhbXBsaW5nTW9kZT1vLk5FQVJFU1Q7Y29uc3Qgdz1uZXcgbShnLGIpLHY9bmV3IFVpbnQ4QXJyYXkoNCksXz1yLmNyZWF0ZVZlcnRleChnLGkuU1RBVElDX0RSQVcsbmV3IFVpbnQxNkFycmF5KFswLDAsMSwwLDAsMSwxLDFdKSksaD1uZXcgZihnLG5ldyBNYXAoW1tcImFfcG9zaXRpb25cIiwwXV0pLHtnZW9tZXRyeTpbbmV3IGwoXCJhX3Bvc2l0aW9uXCIsMixuLlNIT1JULDAsNCldfSx7Z2VvbWV0cnk6X30pO2cudXNlUHJvZ3JhbShkKTtjb25zdCB4PW5ldyBjKGcsYixuZXcgVWludDhBcnJheShbMiwyNTUsMCwwXSkpO2Quc2V0VW5pZm9ybTFpKFwidV90ZXh0dXJlXCIsMCksZy5iaW5kVGV4dHVyZSh4LDApO2NvbnN0IHk9Zy5nZXRCb3VuZEZyYW1lYnVmZmVyT2JqZWN0KCk7Zy5iaW5kRnJhbWVidWZmZXIodyksZy51c2VQcm9ncmFtKGQpO2NvbnN0e3g6QSx5Omosd2lkdGg6VCxoZWlnaHQ6RH09Zy5nZXRWaWV3cG9ydCgpO2cuc2V0Vmlld3BvcnQoMCwwLDEsMSksZy5iaW5kVkFPKGgpLGcuZHJhd0FycmF5cyhzLlRSSUFOR0xFX1NUUklQLDAsNCksZy5zZXRWaWV3cG9ydChBLGosVCxEKSx3LnJlYWRQaXhlbHMoMCwwLDEsMSxhLlJHQkEscC5VTlNJR05FRF9CWVRFLHYpLGguZGlzcG9zZSgpLHcuZGlzcG9zZSgpO2NvbnN0IEU9MjU1IT09dlswXXx8MjU1IT09dlsxXXx8MjU1IT09dlsyXXx8MjU1IT09dlszXTtyZXR1cm4gRSYmZS5nZXRMb2dnZXIoXCJlc3JpLnZpZXdzLndlYmdsLnRlc3RTYW1wbGVyUHJlY2lzaW9uXCIpLndhcm4oYEEgcHJvYmxlbSB3YXMgZGV0ZWN0ZWQgd2l0aCB5b3VyIGdyYXBoaWNzIGRyaXZlci4gWW91ciBkcml2ZXIgZG9lcyBub3QgYXBwZWFyIHRvIGhvbm9yIHNhbXBsZXIgcHJlY2lzaW9uIHNwZWNpZmllcnMsIHdoaWNoIG1heSByZXN1bHQgaW4gcmVuZGVyaW5nIGlzc3VlcyBkdWUgdG8gbnVtZXJpY2FsIGluc3RhYmlsaXR5LiBXZSByZWNvbW1lbmQgZW5zdXJpbmcgdGhhdCB5b3VyIGRyaXZlcnMgaGF2ZSBiZWVuIHVwZGF0ZWQgdG8gdGhlIGxhdGVzdCB2ZXJzaW9uLiBBcHBseWluZyBsb3dwIHNhbXBsZXIgd29ya2Fyb3VuZC4gWyR7dlswXX0uJHt2WzFdfS4ke3ZbMl19LiR7dlszXX1dYCksZy5iaW5kRnJhbWVidWZmZXIoeSksRX19ZXhwb3J0e2cgYXMgSWdub3Jlc1NhbXBsZXJQcmVjaXNpb259O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9