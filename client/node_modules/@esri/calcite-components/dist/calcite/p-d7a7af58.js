/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.1.0
 */
import{q as n,c as t}from"./p-5a8a5fa9.js";import{h as e}from"./p-6814fe4e.js";const o="hidden-form-input";function r(n){return"checked"in n}const s=new WeakMap;const c=new WeakSet;function u(n,e){const o=t(e.parentElement,"[form]");if(o){return true}const r="calciteInternalFormComponentRegister";let s=false;n.addEventListener(r,(n=>{s=n.composedPath().some((n=>c.has(n)));n.stopPropagation()}),{once:true});e.dispatchEvent(new CustomEvent(r,{bubbles:true,composed:true}));return s}function i(n){const{formEl:t}=n;if(!t){return false}t.requestSubmit();return true}function f(n){n.formEl?.reset()}function a(n){const{el:t,value:e}=n;const o=l(n);if(!o||u(o,t)){return}n.formEl=o;n.defaultValue=e;if(r(n)){n.defaultChecked=n.checked}const i=(n.onFormReset||m).bind(n);o.addEventListener("reset",i);s.set(n.el,i);c.add(t)}function l(e){const{el:o,form:r}=e;return r?n(o,{id:r}):t(o,"form")}function m(){if(r(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function p(n){const{el:t,formEl:e}=n;if(!e){return}const o=s.get(t);e.removeEventListener("reset",o);s.delete(t);n.formEl=null;c.delete(t)}function d(n,t){n.defaultValue=t}const h=n=>{n.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:true}))};const b=n=>n.removeEventListener("change",h);function w(n){const{el:t,formEl:e,name:r,value:s}=n;const{ownerDocument:c}=t;const u=t.querySelectorAll(`input[slot="${o}"]`);if(!e||!r){u.forEach((n=>{b(n);n.remove()}));return}const i=Array.isArray(s)?s:[s];const f=[];const a=new Set;u.forEach((t=>{const e=i.find((n=>n==t.value));if(e!=null){a.add(e);E(n,t,e)}else{f.push(t)}}));let l;i.forEach((t=>{if(a.has(t)){return}let e=f.pop();if(!e){e=c.createElement("input");e.slot=o}if(!l){l=c.createDocumentFragment()}l.append(e);e.addEventListener("change",h);E(n,e,t)}));if(l){t.append(l)}f.forEach((n=>{b(n);n.remove()}))}function E(n,t,e){const{defaultValue:o,disabled:s,form:c,name:u,required:i}=n;t.defaultValue=o;t.disabled=s;t.name=u;t.required=i;t.tabIndex=-1;if(c){t.setAttribute("form",c)}else{t.removeAttribute("form")}if(r(n)){t.checked=n.checked;t.defaultChecked=n.defaultChecked;t.value=n.checked?e||"on":""}else{t.value=e||""}n.syncHiddenFormInput?.(t)}const g=({component:n})=>{w(n);return e("slot",{name:o})};export{g as H,d as a,a as c,p as d,l as f,f as r,i as s};
//# sourceMappingURL=p-d7a7af58.js.map